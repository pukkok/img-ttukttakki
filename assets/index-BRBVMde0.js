(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))y(w);new MutationObserver(w=>{for(const b of w)if(b.type==="childList")for(const S of b.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&y(S)}).observe(document,{childList:!0,subtree:!0});function p(w){const b={};return w.integrity&&(b.integrity=w.integrity),w.referrerPolicy&&(b.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?b.credentials="include":w.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function y(w){if(w.ep)return;w.ep=!0;const b=p(w);fetch(w.href,b)}})();var Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rd(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}function xm(m){if(Object.prototype.hasOwnProperty.call(m,"__esModule"))return m;var s=m.default;if(typeof s=="function"){var p=function y(){return this instanceof y?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};p.prototype=s.prototype}else p={};return Object.defineProperty(p,"__esModule",{value:!0}),Object.keys(m).forEach(function(y){var w=Object.getOwnPropertyDescriptor(m,y);Object.defineProperty(p,y,w.get?w:{enumerable:!0,get:function(){return m[y]}})}),p}var $h={exports:{}},gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function Sm(){if(Yg)return gc;Yg=1;var m=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function p(y,w,b){var S=null;if(b!==void 0&&(S=""+b),w.key!==void 0&&(S=""+w.key),"key"in w){b={};for(var u in w)u!=="key"&&(b[u]=w[u])}else b=w;return w=b.ref,{$$typeof:m,type:y,key:S,ref:w!==void 0?w:null,props:b}}return gc.Fragment=s,gc.jsx=p,gc.jsxs=p,gc}var Xg;function Cm(){return Xg||(Xg=1,$h.exports=Sm()),$h.exports}var Rt=Cm(),td={exports:{}},mc={},ed={exports:{}},id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function Am(){return Gg||(Gg=1,function(m){function s(st,ut){var vt=st.length;st.push(ut);t:for(;0<vt;){var W=vt-1>>>1,Y=st[W];if(0<w(Y,ut))st[W]=ut,st[vt]=Y,vt=W;else break t}}function p(st){return st.length===0?null:st[0]}function y(st){if(st.length===0)return null;var ut=st[0],vt=st.pop();if(vt!==ut){st[0]=vt;t:for(var W=0,Y=st.length,H=Y>>>1;W<H;){var N=2*(W+1)-1,U=st[N],R=N+1,P=st[R];if(0>w(U,vt))R<Y&&0>w(P,U)?(st[W]=P,st[R]=vt,W=R):(st[W]=U,st[N]=vt,W=N);else if(R<Y&&0>w(P,vt))st[W]=P,st[R]=vt,W=R;else break t}}return ut}function w(st,ut){var vt=st.sortIndex-ut.sortIndex;return vt!==0?vt:st.id-ut.id}if(m.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var b=performance;m.unstable_now=function(){return b.now()}}else{var S=Date,u=S.now();m.unstable_now=function(){return S.now()-u}}var i=[],o=[],h=1,r=null,a=3,n=!1,l=!1,d=!1,c=!1,g=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function O(st){for(var ut=p(o);ut!==null;){if(ut.callback===null)y(o);else if(ut.startTime<=st)y(o),ut.sortIndex=ut.expirationTime,s(i,ut);else break;ut=p(o)}}function k(st){if(d=!1,O(st),!l)if(p(i)!==null)l=!0,F||(F=!0,B());else{var ut=p(o);ut!==null&&mt(k,ut.startTime-st)}}var F=!1,z=-1,q=5,Q=-1;function gt(){return c?!0:!(m.unstable_now()-Q<q)}function G(){if(c=!1,F){var st=m.unstable_now();Q=st;var ut=!0;try{t:{l=!1,d&&(d=!1,_(z),z=-1),n=!0;var vt=a;try{e:{for(O(st),r=p(i);r!==null&&!(r.expirationTime>st&&gt());){var W=r.callback;if(typeof W=="function"){r.callback=null,a=r.priorityLevel;var Y=W(r.expirationTime<=st);if(st=m.unstable_now(),typeof Y=="function"){r.callback=Y,O(st),ut=!0;break e}r===p(i)&&y(i),O(st)}else y(i);r=p(i)}if(r!==null)ut=!0;else{var H=p(o);H!==null&&mt(k,H.startTime-st),ut=!1}}break t}finally{r=null,a=vt,n=!1}ut=void 0}}finally{ut?B():F=!1}}}var B;if(typeof C=="function")B=function(){C(G)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,M=it.port2;it.port1.onmessage=G,B=function(){M.postMessage(null)}}else B=function(){g(G,0)};function mt(st,ut){z=g(function(){st(m.unstable_now())},ut)}m.unstable_IdlePriority=5,m.unstable_ImmediatePriority=1,m.unstable_LowPriority=4,m.unstable_NormalPriority=3,m.unstable_Profiling=null,m.unstable_UserBlockingPriority=2,m.unstable_cancelCallback=function(st){st.callback=null},m.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<st?Math.floor(1e3/st):5},m.unstable_getCurrentPriorityLevel=function(){return a},m.unstable_next=function(st){switch(a){case 1:case 2:case 3:var ut=3;break;default:ut=a}var vt=a;a=ut;try{return st()}finally{a=vt}},m.unstable_requestPaint=function(){c=!0},m.unstable_runWithPriority=function(st,ut){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var vt=a;a=st;try{return ut()}finally{a=vt}},m.unstable_scheduleCallback=function(st,ut,vt){var W=m.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?W+vt:W):vt=W,st){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=vt+Y,st={id:h++,callback:ut,priorityLevel:st,startTime:vt,expirationTime:Y,sortIndex:-1},vt>W?(st.sortIndex=vt,s(o,st),p(i)===null&&st===p(o)&&(d?(_(z),z=-1):d=!0,mt(k,vt-W))):(st.sortIndex=Y,s(i,st),l||n||(l=!0,F||(F=!0,B()))),st},m.unstable_shouldYield=gt,m.unstable_wrapCallback=function(st){var ut=a;return function(){var vt=a;a=ut;try{return st.apply(this,arguments)}finally{a=vt}}}}(id)),id}var Vg;function Tm(){return Vg||(Vg=1,ed.exports=Am()),ed.exports}var nd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function Om(){if(Wg)return Re;Wg=1;var m=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),S=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),r=Symbol.iterator;function a(Y){return Y===null||typeof Y!="object"?null:(Y=r&&Y[r]||Y["@@iterator"],typeof Y=="function"?Y:null)}var n={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l=Object.assign,d={};function c(Y,H,N){this.props=Y,this.context=H,this.refs=d,this.updater=N||n}c.prototype.isReactComponent={},c.prototype.setState=function(Y,H){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,H,"setState")},c.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function g(){}g.prototype=c.prototype;function _(Y,H,N){this.props=Y,this.context=H,this.refs=d,this.updater=N||n}var C=_.prototype=new g;C.constructor=_,l(C,c.prototype),C.isPureReactComponent=!0;var O=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function z(Y,H,N,U,R,P){return N=P.ref,{$$typeof:m,type:Y,key:H,ref:N!==void 0?N:null,props:P}}function q(Y,H){return z(Y.type,H,void 0,void 0,void 0,Y.props)}function Q(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===m}function gt(Y){var H={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(N){return H[N]})}var G=/\/+/g;function B(Y,H){return typeof Y=="object"&&Y!==null&&Y.key!=null?gt(""+Y.key):H.toString(36)}function it(){}function M(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(it,it):(Y.status="pending",Y.then(function(H){Y.status==="pending"&&(Y.status="fulfilled",Y.value=H)},function(H){Y.status==="pending"&&(Y.status="rejected",Y.reason=H)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function mt(Y,H,N,U,R){var P=typeof Y;(P==="undefined"||P==="boolean")&&(Y=null);var V=!1;if(Y===null)V=!0;else switch(P){case"bigint":case"string":case"number":V=!0;break;case"object":switch(Y.$$typeof){case m:case s:V=!0;break;case h:return V=Y._init,mt(V(Y._payload),H,N,U,R)}}if(V)return R=R(Y),V=U===""?"."+B(Y,0):U,O(R)?(N="",V!=null&&(N=V.replace(G,"$&/")+"/"),mt(R,H,N,"",function(dt){return dt})):R!=null&&(Q(R)&&(R=q(R,N+(R.key==null||Y&&Y.key===R.key?"":(""+R.key).replace(G,"$&/")+"/")+V)),H.push(R)),1;V=0;var J=U===""?".":U+":";if(O(Y))for(var ht=0;ht<Y.length;ht++)U=Y[ht],P=J+B(U,ht),V+=mt(U,H,N,P,R);else if(ht=a(Y),typeof ht=="function")for(Y=ht.call(Y),ht=0;!(U=Y.next()).done;)U=U.value,P=J+B(U,ht++),V+=mt(U,H,N,P,R);else if(P==="object"){if(typeof Y.then=="function")return mt(M(Y),H,N,U,R);throw H=String(Y),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return V}function st(Y,H,N){if(Y==null)return Y;var U=[],R=0;return mt(Y,U,"","",function(P){return H.call(N,P,R++)}),U}function ut(Y){if(Y._status===-1){var H=Y._result;H=H(),H.then(function(N){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=N)},function(N){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=N)}),Y._status===-1&&(Y._status=0,Y._result=H)}if(Y._status===1)return Y._result.default;throw Y._result}var vt=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function W(){}return Re.Children={map:st,forEach:function(Y,H,N){st(Y,function(){H.apply(this,arguments)},N)},count:function(Y){var H=0;return st(Y,function(){H++}),H},toArray:function(Y){return st(Y,function(H){return H})||[]},only:function(Y){if(!Q(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Re.Component=c,Re.Fragment=p,Re.Profiler=w,Re.PureComponent=_,Re.StrictMode=y,Re.Suspense=i,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Re.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return k.H.useMemoCache(Y)}},Re.cache=function(Y){return function(){return Y.apply(null,arguments)}},Re.cloneElement=function(Y,H,N){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var U=l({},Y.props),R=Y.key,P=void 0;if(H!=null)for(V in H.ref!==void 0&&(P=void 0),H.key!==void 0&&(R=""+H.key),H)!F.call(H,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&H.ref===void 0||(U[V]=H[V]);var V=arguments.length-2;if(V===1)U.children=N;else if(1<V){for(var J=Array(V),ht=0;ht<V;ht++)J[ht]=arguments[ht+2];U.children=J}return z(Y.type,R,void 0,void 0,P,U)},Re.createContext=function(Y){return Y={$$typeof:S,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:b,_context:Y},Y},Re.createElement=function(Y,H,N){var U,R={},P=null;if(H!=null)for(U in H.key!==void 0&&(P=""+H.key),H)F.call(H,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(R[U]=H[U]);var V=arguments.length-2;if(V===1)R.children=N;else if(1<V){for(var J=Array(V),ht=0;ht<V;ht++)J[ht]=arguments[ht+2];R.children=J}if(Y&&Y.defaultProps)for(U in V=Y.defaultProps,V)R[U]===void 0&&(R[U]=V[U]);return z(Y,P,void 0,void 0,null,R)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(Y){return{$$typeof:u,render:Y}},Re.isValidElement=Q,Re.lazy=function(Y){return{$$typeof:h,_payload:{_status:-1,_result:Y},_init:ut}},Re.memo=function(Y,H){return{$$typeof:o,type:Y,compare:H===void 0?null:H}},Re.startTransition=function(Y){var H=k.T,N={};k.T=N;try{var U=Y(),R=k.S;R!==null&&R(N,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(W,vt)}catch(P){vt(P)}finally{k.T=H}},Re.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Re.use=function(Y){return k.H.use(Y)},Re.useActionState=function(Y,H,N){return k.H.useActionState(Y,H,N)},Re.useCallback=function(Y,H){return k.H.useCallback(Y,H)},Re.useContext=function(Y){return k.H.useContext(Y)},Re.useDebugValue=function(){},Re.useDeferredValue=function(Y,H){return k.H.useDeferredValue(Y,H)},Re.useEffect=function(Y,H,N){var U=k.H;if(typeof N=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return U.useEffect(Y,H)},Re.useId=function(){return k.H.useId()},Re.useImperativeHandle=function(Y,H,N){return k.H.useImperativeHandle(Y,H,N)},Re.useInsertionEffect=function(Y,H){return k.H.useInsertionEffect(Y,H)},Re.useLayoutEffect=function(Y,H){return k.H.useLayoutEffect(Y,H)},Re.useMemo=function(Y,H){return k.H.useMemo(Y,H)},Re.useOptimistic=function(Y,H){return k.H.useOptimistic(Y,H)},Re.useReducer=function(Y,H,N){return k.H.useReducer(Y,H,N)},Re.useRef=function(Y){return k.H.useRef(Y)},Re.useState=function(Y){return k.H.useState(Y)},Re.useSyncExternalStore=function(Y,H,N){return k.H.useSyncExternalStore(Y,H,N)},Re.useTransition=function(){return k.H.useTransition()},Re.version="19.1.0",Re}var Zg;function Pd(){return Zg||(Zg=1,nd.exports=Om()),nd.exports}var rd={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function Lm(){if(Kg)return Fn;Kg=1;var m=Pd();function s(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(){}var y={d:{f:p,r:function(){throw Error(s(522))},D:p,C:p,L:p,m:p,X:p,S:p,M:p},p:0,findDOMNode:null},w=Symbol.for("react.portal");function b(i,o,h){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:w,key:r==null?null:""+r,children:i,containerInfo:o,implementation:h}}var S=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(i,o){if(i==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=y,Fn.createPortal=function(i,o){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(s(299));return b(i,o,null,h)},Fn.flushSync=function(i){var o=S.T,h=y.p;try{if(S.T=null,y.p=2,i)return i()}finally{S.T=o,y.p=h,y.d.f()}},Fn.preconnect=function(i,o){typeof i=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,y.d.C(i,o))},Fn.prefetchDNS=function(i){typeof i=="string"&&y.d.D(i)},Fn.preinit=function(i,o){if(typeof i=="string"&&o&&typeof o.as=="string"){var h=o.as,r=u(h,o.crossOrigin),a=typeof o.integrity=="string"?o.integrity:void 0,n=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;h==="style"?y.d.S(i,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:n}):h==="script"&&y.d.X(i,{crossOrigin:r,integrity:a,fetchPriority:n,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},Fn.preinitModule=function(i,o){if(typeof i=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var h=u(o.as,o.crossOrigin);y.d.M(i,{crossOrigin:h,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&y.d.M(i)},Fn.preload=function(i,o){if(typeof i=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var h=o.as,r=u(h,o.crossOrigin);y.d.L(i,h,{crossOrigin:r,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},Fn.preloadModule=function(i,o){if(typeof i=="string")if(o){var h=u(o.as,o.crossOrigin);y.d.m(i,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:h,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else y.d.m(i)},Fn.requestFormReset=function(i){y.d.r(i)},Fn.unstable_batchedUpdates=function(i,o){return i(o)},Fn.useFormState=function(i,o,h){return S.H.useFormState(i,o,h)},Fn.useFormStatus=function(){return S.H.useHostTransitionStatus()},Fn.version="19.1.0",Fn}var Qg;function Em(){if(Qg)return rd.exports;Qg=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(s){console.error(s)}}return m(),rd.exports=Lm(),rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function km(){if(Jg)return mc;Jg=1;var m=Tm(),s=Pd(),p=Em();function y(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)e+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function w(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function b(t){var e=t,f=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(f=e.return),t=e.return;while(t)}return e.tag===3?f:null}function S(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u(t){if(b(t)!==t)throw Error(y(188))}function i(t){var e=t.alternate;if(!e){if(e=b(t),e===null)throw Error(y(188));return e!==t?null:t}for(var f=t,v=e;;){var A=f.return;if(A===null)break;var L=A.alternate;if(L===null){if(v=A.return,v!==null){f=v;continue}break}if(A.child===L.child){for(L=A.child;L;){if(L===f)return u(A),t;if(L===v)return u(A),e;L=L.sibling}throw Error(y(188))}if(f.return!==v.return)f=A,v=L;else{for(var Z=!1,ct=A.child;ct;){if(ct===f){Z=!0,f=A,v=L;break}if(ct===v){Z=!0,v=A,f=L;break}ct=ct.sibling}if(!Z){for(ct=L.child;ct;){if(ct===f){Z=!0,f=L,v=A;break}if(ct===v){Z=!0,v=L,f=A;break}ct=ct.sibling}if(!Z)throw Error(y(189))}}if(f.alternate!==v)throw Error(y(190))}if(f.tag!==3)throw Error(y(188));return f.stateNode.current===f?t:e}function o(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=o(t),e!==null)return e;t=t.sibling}return null}var h=Object.assign,r=Symbol.for("react.element"),a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),gt=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var it=Symbol.for("react.client.reference");function M(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===it?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case l:return"Fragment";case c:return"Profiler";case d:return"StrictMode";case k:return"Suspense";case F:return"SuspenseList";case Q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case n:return"Portal";case C:return(t.displayName||"Context")+".Provider";case _:return(t._context.displayName||"Context")+".Consumer";case O:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return e=t.displayName||null,e!==null?e:M(t.type)||"Memo";case q:e=t._payload,t=t._init;try{return M(t(e))}catch{}}return null}var mt=Array.isArray,st=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=p.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt={pending:!1,data:null,method:null,action:null},W=[],Y=-1;function H(t){return{current:t}}function N(t){0>Y||(t.current=W[Y],W[Y]=null,Y--)}function U(t,e){Y++,W[Y]=t.current,t.current=e}var R=H(null),P=H(null),V=H(null),J=H(null);function ht(t,e){switch(U(V,e),U(P,t),U(R,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?yg(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=yg(e),t=bg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}N(R),U(R,t)}function dt(){N(R),N(P),N(V)}function At(t){t.memoizedState!==null&&U(J,t);var e=R.current,f=bg(e,t.type);e!==f&&(U(P,t),U(R,f))}function wt(t){P.current===t&&(N(R),N(P)),J.current===t&&(N(J),cc._currentValue=vt)}var Nt=Object.prototype.hasOwnProperty,xt=m.unstable_scheduleCallback,j=m.unstable_cancelCallback,rt=m.unstable_shouldYield,X=m.unstable_requestPaint,$=m.unstable_now,K=m.unstable_getCurrentPriorityLevel,ot=m.unstable_ImmediatePriority,_t=m.unstable_UserBlockingPriority,St=m.unstable_NormalPriority,ft=m.unstable_LowPriority,Lt=m.unstable_IdlePriority,Bt=m.log,qt=m.unstable_setDisableYieldValue,$t=null,re=null;function se(t){if(typeof Bt=="function"&&qt(t),re&&typeof re.setStrictMode=="function")try{re.setStrictMode($t,t)}catch{}}var ie=Math.clz32?Math.clz32:ti,ge=Math.log,ae=Math.LN2;function ti(t){return t>>>=0,t===0?32:31-(ge(t)/ae|0)|0}var fe=256,ei=4194304;function De(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Me(t,e,f){var v=t.pendingLanes;if(v===0)return 0;var A=0,L=t.suspendedLanes,Z=t.pingedLanes;t=t.warmLanes;var ct=v&134217727;return ct!==0?(v=ct&~L,v!==0?A=De(v):(Z&=ct,Z!==0?A=De(Z):f||(f=ct&~t,f!==0&&(A=De(f))))):(ct=v&~L,ct!==0?A=De(ct):Z!==0?A=De(Z):f||(f=v&~t,f!==0&&(A=De(f)))),A===0?0:e!==0&&e!==A&&(e&L)===0&&(L=A&-A,f=e&-e,L>=f||L===32&&(f&4194048)!==0)?e:A}function un(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Ye(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Or(){var t=fe;return fe<<=1,(fe&4194048)===0&&(fe=256),t}function pi(){var t=ei;return ei<<=1,(ei&62914560)===0&&(ei=4194304),t}function dn(t){for(var e=[],f=0;31>f;f++)e.push(t);return e}function Yi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ni(t,e,f,v,A,L){var Z=t.pendingLanes;t.pendingLanes=f,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=f,t.entangledLanes&=f,t.errorRecoveryDisabledLanes&=f,t.shellSuspendCounter=0;var ct=t.entanglements,Ct=t.expirationTimes,Ut=t.hiddenUpdates;for(f=Z&~f;0<f;){var Zt=31-ie(f),ee=1<<Zt;ct[Zt]=0,Ct[Zt]=-1;var Yt=Ut[Zt];if(Yt!==null)for(Ut[Zt]=null,Zt=0;Zt<Yt.length;Zt++){var Xt=Yt[Zt];Xt!==null&&(Xt.lane&=-536870913)}f&=~ee}v!==0&&Oe(t,v,0),L!==0&&A===0&&t.tag!==0&&(t.suspendedLanes|=L&~(Z&~e))}function Oe(t,e,f){t.pendingLanes|=e,t.suspendedLanes&=~e;var v=31-ie(e);t.entangledLanes|=e,t.entanglements[v]=t.entanglements[v]|1073741824|f&4194090}function We(t,e){var f=t.entangledLanes|=e;for(t=t.entanglements;f;){var v=31-ie(f),A=1<<v;A&e|t[v]&e&&(t[v]|=e),f&=~A}}function Yr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cr(){var t=ut.p;return t!==0?t:(t=window.event,t===void 0?32:Fg(t.type))}function Lr(t,e){var f=ut.p;try{return ut.p=t,e()}finally{ut.p=f}}var me=Math.random().toString(36).slice(2),ci="__reactFiber$"+me,wi="__reactProps$"+me,Gi="__reactContainer$"+me,ki="__reactEvents$"+me,Fi="__reactListeners$"+me,Yn="__reactHandles$"+me,os="__reactResources$"+me,Xn="__reactMarker$"+me;function Gn(t){delete t[ci],delete t[wi],delete t[ki],delete t[Fi],delete t[Yn]}function pn(t){var e=t[ci];if(e)return e;for(var f=t.parentNode;f;){if(e=f[Gi]||f[ci]){if(f=e.alternate,e.child!==null||f!==null&&f.child!==null)for(t=Sg(t);t!==null;){if(f=t[ci])return f;t=Sg(t)}return e}t=f,f=t.parentNode}return null}function gn(t){if(t=t[ci]||t[Gi]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function kn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(y(33))}function cn(t){var e=t[os];return e||(e=t[os]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ri(t){t[Xn]=!0}var wa=new Set,ls={};function $n(t,e){fr(t,e),fr(t+"Capture",e)}function fr(t,e){for(ls[t]=e,t=0;t<e.length;t++)wa.add(e[t])}var qs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Ol={};function Au(t){return Nt.call(Ol,t)?!0:Nt.call(Io,t)?!1:qs.test(t)?Ol[t]=!0:(Io[t]=!0,!1)}function Xr(t,e,f){if(Au(e))if(f===null)t.removeAttribute(e);else{switch(typeof f){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var v=e.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+f)}}function us(t,e,f){if(f===null)t.removeAttribute(e);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+f)}}function hr(t,e,f,v){if(v===null)t.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(f);return}t.setAttributeNS(e,f,""+v)}}var cs,Ll;function Gr(t){if(cs===void 0)try{throw Error()}catch(f){var e=f.stack.trim().match(/\n( *(at )?)/);cs=e&&e[1]||"",Ll=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+t+Ll}var Uo=!1;function xa(t,e){if(!t||Uo)return"";Uo=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(e){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Xt){var Yt=Xt}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Xt){Yt=Xt}t.call(ee.prototype)}}else{try{throw Error()}catch(Xt){Yt=Xt}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Xt){if(Xt&&Yt&&typeof Xt.stack=="string")return[Xt.stack,Yt.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=v.DetermineComponentFrameRoot(),Z=L[0],ct=L[1];if(Z&&ct){var Ct=Z.split(`
`),Ut=ct.split(`
`);for(A=v=0;v<Ct.length&&!Ct[v].includes("DetermineComponentFrameRoot");)v++;for(;A<Ut.length&&!Ut[A].includes("DetermineComponentFrameRoot");)A++;if(v===Ct.length||A===Ut.length)for(v=Ct.length-1,A=Ut.length-1;1<=v&&0<=A&&Ct[v]!==Ut[A];)A--;for(;1<=v&&0<=A;v--,A--)if(Ct[v]!==Ut[A]){if(v!==1||A!==1)do if(v--,A--,0>A||Ct[v]!==Ut[A]){var Zt=`
`+Ct[v].replace(" at new "," at ");return t.displayName&&Zt.includes("<anonymous>")&&(Zt=Zt.replace("<anonymous>",t.displayName)),Zt}while(1<=v&&0<=A);break}}}finally{Uo=!1,Error.prepareStackTrace=f}return(f=t?t.displayName||t.name:"")?Gr(f):""}function Tu(t){switch(t.tag){case 26:case 27:case 5:return Gr(t.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 15:return xa(t.type,!1);case 11:return xa(t.type.render,!1);case 1:return xa(t.type,!0);case 31:return Gr("Activity");default:return""}}function Ai(t){try{var e="";do e+=Tu(t),t=t.return;while(t);return e}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function xn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qo(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function El(t){var e=qo(t)?"checked":"value",f=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),v=""+t[e];if(!t.hasOwnProperty(e)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var A=f.get,L=f.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return A.call(this)},set:function(Z){v=""+Z,L.call(this,Z)}}),Object.defineProperty(t,e,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(Z){v=""+Z},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sa(t){t._valueTracker||(t._valueTracker=El(t))}function kl(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var f=e.getValue(),v="";return t&&(v=qo(t)?t.checked?"true":"false":t.value),t=v,t!==f?(e.setValue(t),!0):!1}function Nn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hs=/[\n"\\]/g;function gi(t){return t.replace(Hs,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function fs(t,e,f,v,A,L,Z,ct){t.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?t.type=Z:t.removeAttribute("type"),e!=null?Z==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+xn(e)):t.value!==""+xn(e)&&(t.value=""+xn(e)):Z!=="submit"&&Z!=="reset"||t.removeAttribute("value"),e!=null?Yo(t,Z,xn(e)):f!=null?Yo(t,Z,xn(f)):v!=null&&t.removeAttribute("value"),A==null&&L!=null&&(t.defaultChecked=!!L),A!=null&&(t.checked=A&&typeof A!="function"&&typeof A!="symbol"),ct!=null&&typeof ct!="function"&&typeof ct!="symbol"&&typeof ct!="boolean"?t.name=""+xn(ct):t.removeAttribute("name")}function Ho(t,e,f,v,A,L,Z,ct){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(t.type=L),e!=null||f!=null){if(!(L!=="submit"&&L!=="reset"||e!=null))return;f=f!=null?""+xn(f):"",e=e!=null?""+xn(e):f,ct||e===t.value||(t.value=e),t.defaultValue=e}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,t.checked=ct?t.checked:!!v,t.defaultChecked=!!v,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(t.name=Z)}function Yo(t,e,f){e==="number"&&Nn(t.ownerDocument)===t||t.defaultValue===""+f||(t.defaultValue=""+f)}function Vr(t,e,f,v){if(t=t.options,e){e={};for(var A=0;A<f.length;A++)e["$"+f[A]]=!0;for(f=0;f<t.length;f++)A=e.hasOwnProperty("$"+t[f].value),t[f].selected!==A&&(t[f].selected=A),A&&v&&(t[f].defaultSelected=!0)}else{for(f=""+xn(f),e=null,A=0;A<t.length;A++){if(t[A].value===f){t[A].selected=!0,v&&(t[A].defaultSelected=!0);return}e!==null||t[A].disabled||(e=t[A])}e!==null&&(e.selected=!0)}}function Nl(t,e,f){if(e!=null&&(e=""+xn(e),e!==t.value&&(t.value=e),f==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=f!=null?""+xn(f):""}function Xo(t,e,f,v){if(e==null){if(v!=null){if(f!=null)throw Error(y(92));if(mt(v)){if(1<v.length)throw Error(y(93));v=v[0]}f=v}f==null&&(f=""),e=f}f=xn(e),t.defaultValue=f,v=t.textContent,v===f&&v!==""&&v!==null&&(t.value=v)}function Ca(t,e){if(e){var f=t.firstChild;if(f&&f===t.lastChild&&f.nodeType===3){f.nodeValue=e;return}}t.textContent=e}var Go=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(t,e,f){var v=e.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?v?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":v?t.setProperty(e,f):typeof f!="number"||f===0||Go.has(e)?e==="float"?t.cssFloat=f:t[e]=(""+f).trim():t[e]=f+"px"}function Ml(t,e,f){if(e!=null&&typeof e!="object")throw Error(y(62));if(t=t.style,f!=null){for(var v in f)!f.hasOwnProperty(v)||e!=null&&e.hasOwnProperty(v)||(v.indexOf("--")===0?t.setProperty(v,""):v==="float"?t.cssFloat="":t[v]="");for(var A in e)v=e[A],e.hasOwnProperty(A)&&f[A]!==v&&Dl(t,A,v)}else for(var L in e)e.hasOwnProperty(L)&&Dl(t,L,e[L])}function Vo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(t){return Ys.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Xs=null;function nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Aa=null,Kr=null;function Ae(t){var e=gn(t);if(e&&(t=e.stateNode)){var f=t[wi]||null;t:switch(t=e.stateNode,e.type){case"input":if(fs(t,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),e=f.name,f.type==="radio"&&e!=null){for(f=t;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+gi(""+e)+'"][type="radio"]'),e=0;e<f.length;e++){var v=f[e];if(v!==t&&v.form===t.form){var A=v[wi]||null;if(!A)throw Error(y(90));fs(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(e=0;e<f.length;e++)v=f[e],v.form===t.form&&kl(v)}break t;case"textarea":Nl(t,f.value,f.defaultValue);break t;case"select":e=f.value,e!=null&&Vr(t,!!f.multiple,e,!1)}}}var Wo=!1;function jl(t,e,f){if(Wo)return t(e,f);Wo=!0;try{var v=t(e);return v}finally{if(Wo=!1,(Aa!==null||Kr!==null)&&(sf(),Aa&&(e=Aa,t=Kr,Kr=Aa=null,Ae(e),t)))for(e=0;e<t.length;e++)Ae(t[e])}}function Dn(t,e){var f=t.stateNode;if(f===null)return null;var v=f[wi]||null;if(v===null)return null;f=v[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(t=t.type,v=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!v;break t;default:t=!1}if(t)return null;if(f&&typeof f!="function")throw Error(y(231,e,typeof f));return f}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=!1;if(tr)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{Gs=!1}var er=null,Zo=null,Vs=null;function Rl(){if(Vs)return Vs;var t,e=Zo,f=e.length,v,A="value"in er?er.value:er.textContent,L=A.length;for(t=0;t<f&&e[t]===A[t];t++);var Z=f-t;for(v=1;v<=Z&&e[f-v]===A[L-v];v++);return Vs=A.slice(t,1<v?1-v:void 0)}function Ta(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kr(){return!0}function Qr(){return!1}function mn(t){function e(f,v,A,L,Z){this._reactName=f,this._targetInst=A,this.type=v,this.nativeEvent=L,this.target=Z,this.currentTarget=null;for(var ct in t)t.hasOwnProperty(ct)&&(f=t[ct],this[ct]=f?f(L):L[ct]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?kr:Qr,this.isPropagationStopped=Qr,this}return h(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),e}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=mn(Vn),Nr=h({},Vn,{view:0,detail:0}),Pl=mn(Nr),Ws,Zs,La,Wn=h({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==La&&(La&&t.type==="mousemove"?(Ws=t.screenX-La.screenX,Zs=t.screenY-La.screenY):Zs=Ws=0,La=t),Ws)},movementY:function(t){return"movementY"in t?t.movementY:Zs}}),Dr=mn(Wn),Ou=h({},Wn,{dataTransfer:0}),Ea=mn(Ou),dr=h({},Nr,{relatedTarget:0}),hs=mn(dr),ds=h({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=mn(ds),Ks=h({},Vn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=mn(Ks),Ko=h({},Vn,{data:0}),Qs=mn(Ko),Bl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Js={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qo[t])?!!e[t]:!1}function $s(){return Jo}var ku=h({},Nr,{key:function(t){if(t.key){var e=Bl[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Js[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(t){return t.type==="keypress"?Ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),to=mn(ku),ps=h({},Wn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eo=mn(ps),ka=h({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),$o=mn(ka),E=h({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=mn(E),bt=h({},Wn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Tt=mn(bt),Pt=h({},Vn,{newState:0,oldState:0}),Vt=mn(Pt),ne=[9,13,27,32],ue=tr&&"CompositionEvent"in window,pe=null;tr&&"documentMode"in document&&(pe=document.documentMode);var ke=tr&&"TextEvent"in window&&!pe,Le=tr&&(!ue||pe&&8<pe&&11>=pe),Ie=" ",yi=!1;function xi(t,e){switch(t){case"keyup":return ne.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ni(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Di=!1;function rn(t,e){switch(t){case"compositionend":return Ni(e);case"keypress":return e.which!==32?null:(yi=!0,Ie);case"textInput":return t=e.data,t===Ie&&yi?null:t;default:return null}}function pr(t,e){if(Di)return t==="compositionend"||!ue&&xi(t,e)?(t=Rl(),Vs=Zo=er=null,Di=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Le&&e.locale!=="ko"?null:e.data;default:return null}}var Zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Zn[t.type]:e==="textarea"}function tl(t,e,f,v){Aa?Kr?Kr.push(v):Kr=[v]:Aa=v,e=hf(e,"onChange"),0<e.length&&(f=new Oa("onChange","change",null,f,v),t.push({event:f,listeners:e}))}var Jr=null,$r=null;function io(t){dg(t,0)}function Na(t){var e=kn(t);if(kl(e))return t}function no(t,e){if(t==="change")return e}var gs=!1;if(tr){var Vi;if(tr){var Da="oninput"in document;if(!Da){var ms=document.createElement("div");ms.setAttribute("oninput","return;"),Da=typeof ms.oninput=="function"}Vi=Da}else Vi=!1;gs=Vi&&(!document.documentMode||9<document.documentMode)}function vs(){Jr&&(Jr.detachEvent("onpropertychange",ro),$r=Jr=null)}function ro(t){if(t.propertyName==="value"&&Na($r)){var e=[];tl(e,$r,t,nn(t)),jl(io,e)}}function Mn(t,e,f){t==="focusin"?(vs(),Jr=e,$r=f,Jr.attachEvent("onpropertychange",ro)):t==="focusout"&&vs()}function Nu(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Na($r)}function el(t,e){if(t==="click")return Na(e)}function Fl(t,e){if(t==="input"||t==="change")return Na(e)}function ir(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var an=typeof Object.is=="function"?Object.is:ir;function Ma(t,e){if(an(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var f=Object.keys(t),v=Object.keys(e);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var A=f[v];if(!Nt.call(e,A)||!an(t[A],e[A]))return!1}return!0}function il(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ta(t,e){var f=il(t);t=0;for(var v;f;){if(f.nodeType===3){if(v=t+f.textContent.length,t<=e&&v>=e)return{node:f,offset:e-t};t=v}t:{for(;f;){if(f.nextSibling){f=f.nextSibling;break t}f=f.parentNode}f=void 0}f=il(f)}}function ja(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ja(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sn(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Nn(t.document);e instanceof t.HTMLIFrameElement;){try{var f=typeof e.contentWindow.location.href=="string"}catch{f=!1}if(f)t=e.contentWindow;else break;e=Nn(t.document)}return e}function fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Ra=tr&&"documentMode"in document&&11>=document.documentMode,jn=null,mr=null,Mr=null,vr=!1;function Ti(t,e,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;vr||jn==null||jn!==Nn(v)||(v=jn,"selectionStart"in v&&fn(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Mr&&Ma(Mr,v)||(Mr=v,v=hf(mr,"onSelect"),0<v.length&&(e=new Oa("onSelect","select",null,e,f),t.push({event:e,listeners:v}),e.target=jn)))}function yr(t,e){var f={};return f[t.toLowerCase()]=e.toLowerCase(),f["Webkit"+t]="webkit"+e,f["Moz"+t]="moz"+e,f}var zi={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},Rn={},ys={};tr&&(ys=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function jr(t){if(Rn[t])return Rn[t];if(!zi[t])return t;var e=zi[t],f;for(f in e)if(e.hasOwnProperty(f)&&f in ys)return Rn[t]=e[f];return t}var ao=jr("animationend"),Pa=jr("animationiteration"),Ba=jr("animationstart"),Fa=jr("transitionrun"),bs=jr("transitionstart"),so=jr("transitioncancel"),za=jr("transitionend"),ea=new Map,_s="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_s.push("scrollEnd");function Oi(t,e){ea.set(t,e),$n(e,[t])}var Kn=new WeakMap;function Be(t,e){if(typeof t=="object"&&t!==null){var f=Kn.get(t);return f!==void 0?f:(e={value:t,source:e,stack:Ai(e)},Kn.set(t,e),e)}return{value:t,source:e,stack:Ai(e)}}var Fe=[],fi=0,Mi=0;function nr(){for(var t=fi,e=Mi=fi=0;e<t;){var f=Fe[e];Fe[e++]=null;var v=Fe[e];Fe[e++]=null;var A=Fe[e];Fe[e++]=null;var L=Fe[e];if(Fe[e++]=null,v!==null&&A!==null){var Z=v.pending;Z===null?A.next=A:(A.next=Z.next,Z.next=A),v.pending=A}L!==0&&zl(f,A,L)}}function Ia(t,e,f,v){Fe[fi++]=t,Fe[fi++]=e,Fe[fi++]=f,Fe[fi++]=v,Mi|=v,t.lanes|=v,t=t.alternate,t!==null&&(t.lanes|=v)}function Ua(t,e,f,v){return Ia(t,e,f,v),ws(t)}function ia(t,e){return Ia(t,null,null,e),ws(t)}function zl(t,e,f){t.lanes|=f;var v=t.alternate;v!==null&&(v.lanes|=f);for(var A=!1,L=t.return;L!==null;)L.childLanes|=f,v=L.alternate,v!==null&&(v.childLanes|=f),L.tag===22&&(t=L.stateNode,t===null||t._visibility&1||(A=!0)),t=L,L=L.return;return t.tag===3?(L=t.stateNode,A&&e!==null&&(A=31-ie(f),t=L.hiddenUpdates,v=t[A],v===null?t[A]=[e]:v.push(e),e.lane=f|536870912),L):null}function ws(t){if(50<ic)throw ic=0,Sh=null,Error(y(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var sn={};function rr(t,e,f,v){this.tag=t,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,f,v){return new rr(t,e,f,v)}function oo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rr(t,e){var f=t.alternate;return f===null?(f=vn(t.tag,e,t.key,t.mode),f.elementType=t.elementType,f.type=t.type,f.stateNode=t.stateNode,f.alternate=t,t.alternate=f):(f.pendingProps=e,f.type=t.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=t.flags&65011712,f.childLanes=t.childLanes,f.lanes=t.lanes,f.child=t.child,f.memoizedProps=t.memoizedProps,f.memoizedState=t.memoizedState,f.updateQueue=t.updateQueue,e=t.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},f.sibling=t.sibling,f.index=t.index,f.ref=t.ref,f.refCleanup=t.refCleanup,f}function nl(t,e){t.flags&=65011714;var f=t.alternate;return f===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=f.childLanes,t.lanes=f.lanes,t.child=f.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=f.memoizedProps,t.memoizedState=f.memoizedState,t.updateQueue=f.updateQueue,t.type=f.type,e=f.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function xs(t,e,f,v,A,L){var Z=0;if(v=t,typeof t=="function")oo(t)&&(Z=1);else if(typeof t=="string")Z=um(t,f,R.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Q:return t=vn(31,f,e,A),t.elementType=Q,t.lanes=L,t;case l:return na(f.children,A,L,e);case d:Z=8,A|=24;break;case c:return t=vn(12,f,e,A|2),t.elementType=c,t.lanes=L,t;case k:return t=vn(13,f,e,A),t.elementType=k,t.lanes=L,t;case F:return t=vn(19,f,e,A),t.elementType=F,t.lanes=L,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case g:case C:Z=10;break t;case _:Z=9;break t;case O:Z=11;break t;case z:Z=14;break t;case q:Z=16,v=null;break t}Z=29,f=Error(y(130,t===null?"null":typeof t,"")),v=null}return e=vn(Z,f,e,A),e.elementType=t,e.type=v,e.lanes=L,e}function na(t,e,f,v){return t=vn(7,t,v,e),t.lanes=f,t}function Il(t,e,f){return t=vn(6,t,null,e),t.lanes=f,t}function rl(t,e,f){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=f,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var qa=[],ra=0,lo=null,Ul=0,ar=[],Qn=0,Ss=null,aa=1,sa="";function Cs(t,e){qa[ra++]=Ul,qa[ra++]=lo,lo=t,Ul=e}function Ec(t,e,f){ar[Qn++]=aa,ar[Qn++]=sa,ar[Qn++]=Ss,Ss=t;var v=aa;t=sa;var A=32-ie(v)-1;v&=~(1<<A),f+=1;var L=32-ie(e)+A;if(30<L){var Z=A-A%5;L=(v&(1<<Z)-1).toString(32),v>>=Z,A-=Z,aa=1<<32-ie(e)+A|f<<A|v,sa=L+t}else aa=1<<L|f<<A|v,sa=t}function al(t){t.return!==null&&(Cs(t,1),Ec(t,1,0))}function sl(t){for(;t===lo;)lo=qa[--ra],qa[ra]=null,Ul=qa[--ra],qa[ra]=null;for(;t===Ss;)Ss=ar[--Qn],ar[Qn]=null,sa=ar[--Qn],ar[Qn]=null,aa=ar[--Qn],ar[Qn]=null}var Wi=null,Li=null,Ze=!1,Ha=null,Pr=!1,Du=Error(y(519));function As(t){var e=Error(y(418,""));throw uo(Be(e,t)),Du}function kc(t){var e=t.stateNode,f=t.type,v=t.memoizedProps;switch(e[ci]=t,e[wi]=v,f){case"dialog":qe("cancel",e),qe("close",e);break;case"iframe":case"object":case"embed":qe("load",e);break;case"video":case"audio":for(f=0;f<rc.length;f++)qe(rc[f],e);break;case"source":qe("error",e);break;case"img":case"image":case"link":qe("error",e),qe("load",e);break;case"details":qe("toggle",e);break;case"input":qe("invalid",e),Ho(e,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Sa(e);break;case"select":qe("invalid",e);break;case"textarea":qe("invalid",e),Xo(e,v.value,v.defaultValue,v.children),Sa(e)}f=v.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||e.textContent===""+f||v.suppressHydrationWarning===!0||vg(e.textContent,f)?(v.popover!=null&&(qe("beforetoggle",e),qe("toggle",e)),v.onScroll!=null&&qe("scroll",e),v.onScrollEnd!=null&&qe("scrollend",e),v.onClick!=null&&(e.onclick=df),e=!0):e=!1,e||As(t)}function oa(t){for(Wi=t.return;Wi;)switch(Wi.tag){case 5:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:Wi=Wi.return}}function Cn(t){if(t!==Wi)return!1;if(!Ze)return oa(t),Ze=!0,!1;var e=t.tag,f;if((f=e!==3&&e!==27)&&((f=e===5)&&(f=t.type,f=!(f!=="form"&&f!=="button")||zh(t.type,t.memoizedProps)),f=!f),f&&Li&&As(t),oa(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(y(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(f=t.data,f==="/$"){if(e===0){Li=ga(t.nextSibling);break t}e--}else f!=="$"&&f!=="$!"&&f!=="$?"||e++;t=t.nextSibling}Li=null}}else e===27?(e=Li,Oo(t.type)?(t=Hh,Hh=null,Li=t):Li=e):Li=Wi?ga(t.stateNode.nextSibling):null;return!0}function Jn(){Li=Wi=null,Ze=!1}function Nc(){var t=Ha;return t!==null&&(lr===null?lr=t:lr.push.apply(lr,t),Ha=null),t}function uo(t){Ha===null?Ha=[t]:Ha.push(t)}var Br=H(null),on=null,la=null;function Ya(t,e,f){U(Br,e._currentValue),e._currentValue=f}function Fr(t){t._currentValue=Br.current,N(Br)}function ql(t,e,f){for(;t!==null;){var v=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,v!==null&&(v.childLanes|=e)):v!==null&&(v.childLanes&e)!==e&&(v.childLanes|=e),t===f)break;t=t.return}}function Hl(t,e,f,v){var A=t.child;for(A!==null&&(A.return=t);A!==null;){var L=A.dependencies;if(L!==null){var Z=A.child;L=L.firstContext;t:for(;L!==null;){var ct=L;L=A;for(var Ct=0;Ct<e.length;Ct++)if(ct.context===e[Ct]){L.lanes|=f,ct=L.alternate,ct!==null&&(ct.lanes|=f),ql(L.return,f,t),v||(Z=null);break t}L=ct.next}}else if(A.tag===18){if(Z=A.return,Z===null)throw Error(y(341));Z.lanes|=f,L=Z.alternate,L!==null&&(L.lanes|=f),ql(Z,f,t),Z=null}else Z=A.child;if(Z!==null)Z.return=A;else for(Z=A;Z!==null;){if(Z===t){Z=null;break}if(A=Z.sibling,A!==null){A.return=Z.return,Z=A;break}Z=Z.return}A=Z}}function co(t,e,f,v){t=null;for(var A=e,L=!1;A!==null;){if(!L){if((A.flags&524288)!==0)L=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var Z=A.alternate;if(Z===null)throw Error(y(387));if(Z=Z.memoizedProps,Z!==null){var ct=A.type;an(A.pendingProps.value,Z.value)||(t!==null?t.push(ct):t=[ct])}}else if(A===J.current){if(Z=A.alternate,Z===null)throw Error(y(387));Z.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(t!==null?t.push(cc):t=[cc])}A=A.return}t!==null&&Hl(e,t,f,v),e.flags|=262144}function Yl(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){on=t,la=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zi(t){return Xl(on,t)}function Xa(t,e){return on===null&&zr(t),Xl(t,e)}function Xl(t,e){var f=e._currentValue;if(e={context:e,memoizedValue:f,next:null},la===null){if(t===null)throw Error(y(308));la=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else la=la.next=e;return f}var Wf=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(f,v){t.push(v)}};this.abort=function(){e.aborted=!0,t.forEach(function(f){return f()})}},Dc=m.unstable_scheduleCallback,Zf=m.unstable_NormalPriority,Ki={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mu(){return{controller:new Wf,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&Dc(Zf,function(){t.controller.abort()})}var ll=null,ju=0,Ts=0,ua=null;function Kf(t,e){if(ll===null){var f=ll=[];ju=0,Ts=kh(),ua={status:"pending",value:void 0,then:function(v){f.push(v)}}}return ju++,e.then(Mc,Mc),e}function Mc(){if(--ju===0&&ll!==null){ua!==null&&(ua.status="fulfilled");var t=ll;ll=null,Ts=0,ua=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function jc(t,e){var f=[],v={status:"pending",value:null,reason:null,then:function(A){f.push(A)}};return t.then(function(){v.status="fulfilled",v.value=e;for(var A=0;A<f.length;A++)(0,f[A])(e)},function(A){for(v.status="rejected",v.reason=A,A=0;A<f.length;A++)(0,f[A])(void 0)}),v}var x=st.S;st.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Kf(t,e),x!==null&&x(t,e)};var T=H(null);function D(){var t=T.current;return t!==null?t:_i.pooledCache}function I(t,e){e===null?U(T,T.current):U(T,e.pool)}function tt(){var t=D();return t===null?null:{parent:Ki._currentValue,pool:t}}var nt=Error(y(460)),at=Error(y(474)),lt=Error(y(542)),pt={then:function(){}};function yt(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ot(){}function It(t,e,f){switch(f=t[f],f===void 0?t.push(e):f!==e&&(e.then(Ot,Ot),e=f),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Jt(t),t;default:if(typeof e.status=="string")e.then(Ot,Ot);else{if(t=_i,t!==null&&100<t.shellSuspendCounter)throw Error(y(482));t=e,t.status="pending",t.then(function(v){if(e.status==="pending"){var A=e;A.status="fulfilled",A.value=v}},function(v){if(e.status==="pending"){var A=e;A.status="rejected",A.reason=v}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Jt(t),t}throw Ft=e,nt}}var Ft=null;function Mt(){if(Ft===null)throw Error(y(459));var t=Ft;return Ft=null,t}function Jt(t){if(t===nt||t===lt)throw Error(y(483))}var Gt=!1;function Et(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dt(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wt(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function te(t,e,f){var v=t.updateQueue;if(v===null)return null;if(v=v.shared,(si&2)!==0){var A=v.pending;return A===null?e.next=e:(e.next=A.next,A.next=e),v.pending=e,e=ws(t),zl(t,null,f),e}return Ia(t,v,e,f),ws(t)}function Kt(t,e,f){if(e=e.updateQueue,e!==null&&(e=e.shared,(f&4194048)!==0)){var v=e.lanes;v&=t.pendingLanes,f|=v,e.lanes=f,We(t,f)}}function ce(t,e){var f=t.updateQueue,v=t.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var A=null,L=null;if(f=f.firstBaseUpdate,f!==null){do{var Z={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};L===null?A=L=Z:L=L.next=Z,f=f.next}while(f!==null);L===null?A=L=e:L=L.next=e}else A=L=e;f={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:L,shared:v.shared,callbacks:v.callbacks},t.updateQueue=f;return}t=f.lastBaseUpdate,t===null?f.firstBaseUpdate=e:t.next=e,f.lastBaseUpdate=e}var oe=!1;function ve(){if(oe){var t=ua;if(t!==null)throw t}}function le(t,e,f,v){oe=!1;var A=t.updateQueue;Gt=!1;var L=A.firstBaseUpdate,Z=A.lastBaseUpdate,ct=A.shared.pending;if(ct!==null){A.shared.pending=null;var Ct=ct,Ut=Ct.next;Ct.next=null,Z===null?L=Ut:Z.next=Ut,Z=Ct;var Zt=t.alternate;Zt!==null&&(Zt=Zt.updateQueue,ct=Zt.lastBaseUpdate,ct!==Z&&(ct===null?Zt.firstBaseUpdate=Ut:ct.next=Ut,Zt.lastBaseUpdate=Ct))}if(L!==null){var ee=A.baseState;Z=0,Zt=Ut=Ct=null,ct=L;do{var Yt=ct.lane&-536870913,Xt=Yt!==ct.lane;if(Xt?(Ve&Yt)===Yt:(v&Yt)===Yt){Yt!==0&&Yt===Ts&&(oe=!0),Zt!==null&&(Zt=Zt.next={lane:0,tag:ct.tag,payload:ct.payload,callback:null,next:null});t:{var Te=t,_e=ct;Yt=e;var di=f;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){ee=Te.call(di,ee,Yt);break t}ee=Te;break t;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,Yt=typeof Te=="function"?Te.call(di,ee,Yt):Te,Yt==null)break t;ee=h({},ee,Yt);break t;case 2:Gt=!0}}Yt=ct.callback,Yt!==null&&(t.flags|=64,Xt&&(t.flags|=8192),Xt=A.callbacks,Xt===null?A.callbacks=[Yt]:Xt.push(Yt))}else Xt={lane:Yt,tag:ct.tag,payload:ct.payload,callback:ct.callback,next:null},Zt===null?(Ut=Zt=Xt,Ct=ee):Zt=Zt.next=Xt,Z|=Yt;if(ct=ct.next,ct===null){if(ct=A.shared.pending,ct===null)break;Xt=ct,ct=Xt.next,Xt.next=null,A.lastBaseUpdate=Xt,A.shared.pending=null}}while(!0);Zt===null&&(Ct=ee),A.baseState=Ct,A.firstBaseUpdate=Ut,A.lastBaseUpdate=Zt,L===null&&(A.shared.lanes=0),So|=Z,t.lanes=Z,t.memoizedState=ee}}function Xe(t,e){if(typeof t!="function")throw Error(y(191,t));t.call(e)}function Ke(t,e){var f=t.callbacks;if(f!==null)for(t.callbacks=null,t=0;t<f.length;t++)Xe(f[t],e)}var Pe=H(null),je=H(0);function ii(t,e){t=Ps,U(je,t),U(Pe,e),Ps=t|e.baseLanes}function Qe(){U(je,Ps),U(Pe,Pe.current)}function Ee(){Ps=je.current,N(Pe),N(je)}var ai=0,be=null,Se=null,He=null,Ge=!1,ln=!1,Qi=!1,ji=0,Ri=0,Ii=null,sr=0;function Je(){throw Error(y(321))}function Ui(t,e){if(e===null)return!1;for(var f=0;f<e.length&&f<t.length;f++)if(!an(t[f],e[f]))return!1;return!0}function br(t,e,f,v,A,L){return ai=L,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,st.H=t===null||t.memoizedState===null?Qd:Jd,Qi=!1,L=f(v,A),Qi=!1,ln&&(L=Os(e,f,v,A)),Ga(t),L}function Ga(t){st.H=Gc;var e=Se!==null&&Se.next!==null;if(ai=0,He=Se=be=null,Ge=!1,Ri=0,Ii=null,e)throw Error(y(300));t===null||yn||(t=t.dependencies,t!==null&&Yl(t)&&(yn=!0))}function Os(t,e,f,v){be=t;var A=0;do{if(ln&&(Ii=null),Ri=0,ln=!1,25<=A)throw Error(y(301));if(A+=1,He=Se=null,t.updateQueue!=null){var L=t.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}st.H=_1,L=e(f,v)}while(ln);return L}function Va(){var t=st.H,e=t.useState()[0];return e=typeof e.then=="function"?Wa(e):e,t=t.useState()[0],(Se!==null?Se.memoizedState:null)!==t&&(be.flags|=1024),e}function bi(){var t=ji!==0;return ji=0,t}function ul(t,e,f){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~f}function Gl(t){if(Ge){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ge=!1}ai=0,He=Se=be=null,ln=!1,Ri=ji=0,Ii=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?be.memoizedState=He=t:He=He.next=t,He}function Si(){if(Se===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=He===null?be.memoizedState:He.next;if(e!==null)He=e,Se=t;else{if(t===null)throw be.alternate===null?Error(y(467)):Error(y(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},He===null?be.memoizedState=He=t:He=He.next=t}return He}function Ls(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wa(t){var e=Ri;return Ri+=1,Ii===null&&(Ii=[]),t=It(Ii,t,e),e=be,(He===null?e.memoizedState:He.next)===null&&(e=e.alternate,st.H=e===null||e.memoizedState===null?Qd:Jd),t}function Pn(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wa(t);if(t.$$typeof===C)return Zi(t)}throw Error(y(438,String(t)))}function Za(t){var e=null,f=be.updateQueue;if(f!==null&&(e=f.memoCache),e==null){var v=be.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(e={data:v.data.map(function(A){return A.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),f===null&&(f=Ls(),be.updateQueue=f),f.memoCache=e,f=e.data[e.index],f===void 0)for(f=e.data[e.index]=Array(t),v=0;v<t;v++)f[v]=gt;return e.index++,f}function Bn(t,e){return typeof e=="function"?e(t):e}function cl(t){var e=Si();return fo(e,Se,t)}function fo(t,e,f){var v=t.queue;if(v===null)throw Error(y(311));v.lastRenderedReducer=f;var A=t.baseQueue,L=v.pending;if(L!==null){if(A!==null){var Z=A.next;A.next=L.next,L.next=Z}e.baseQueue=A=L,v.pending=null}if(L=t.baseState,A===null)t.memoizedState=L;else{e=A.next;var ct=Z=null,Ct=null,Ut=e,Zt=!1;do{var ee=Ut.lane&-536870913;if(ee!==Ut.lane?(Ve&ee)===ee:(ai&ee)===ee){var Yt=Ut.revertLane;if(Yt===0)Ct!==null&&(Ct=Ct.next={lane:0,revertLane:0,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null}),ee===Ts&&(Zt=!0);else if((ai&Yt)===Yt){Ut=Ut.next,Yt===Ts&&(Zt=!0);continue}else ee={lane:0,revertLane:Ut.revertLane,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null},Ct===null?(ct=Ct=ee,Z=L):Ct=Ct.next=ee,be.lanes|=Yt,So|=Yt;ee=Ut.action,Qi&&f(L,ee),L=Ut.hasEagerState?Ut.eagerState:f(L,ee)}else Yt={lane:ee,revertLane:Ut.revertLane,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null},Ct===null?(ct=Ct=Yt,Z=L):Ct=Ct.next=Yt,be.lanes|=ee,So|=ee;Ut=Ut.next}while(Ut!==null&&Ut!==e);if(Ct===null?Z=L:Ct.next=ct,!an(L,t.memoizedState)&&(yn=!0,Zt&&(f=ua,f!==null)))throw f;t.memoizedState=L,t.baseState=Z,t.baseQueue=Ct,v.lastRenderedState=L}return A===null&&(v.lanes=0),[t.memoizedState,v.dispatch]}function Vl(t){var e=Si(),f=e.queue;if(f===null)throw Error(y(311));f.lastRenderedReducer=t;var v=f.dispatch,A=f.pending,L=e.memoizedState;if(A!==null){f.pending=null;var Z=A=A.next;do L=t(L,Z.action),Z=Z.next;while(Z!==A);an(L,e.memoizedState)||(yn=!0),e.memoizedState=L,e.baseQueue===null&&(e.baseState=L),f.lastRenderedState=L}return[L,v]}function fl(t,e,f){var v=be,A=Si(),L=Ze;if(L){if(f===void 0)throw Error(y(407));f=f()}else f=e();var Z=!an((Se||A).memoizedState,f);Z&&(A.memoizedState=f,yn=!0),A=A.queue;var ct=ho.bind(null,v,A,t);if(mo(2048,8,ct,[t]),A.getSnapshot!==e||Z||He!==null&&He.memoizedState.tag&1){if(v.flags|=2048,fa(9,gl(),hl.bind(null,v,A,f,e),null),_i===null)throw Error(y(349));L||(ai&124)!==0||Wl(v,e,f)}return f}function Wl(t,e,f){t.flags|=16384,t={getSnapshot:e,value:f},e=be.updateQueue,e===null?(e=Ls(),be.updateQueue=e,e.stores=[t]):(f=e.stores,f===null?e.stores=[t]:f.push(t))}function hl(t,e,f,v){e.value=f,e.getSnapshot=v,Rc(e)&&Pc(t)}function ho(t,e,f){return f(function(){Rc(e)&&Pc(t)})}function Rc(t){var e=t.getSnapshot;t=t.value;try{var f=e();return!an(t,f)}catch{return!0}}function Pc(t){var e=ia(t,2);e!==null&&Ar(e,t,2)}function dl(t){var e=An();if(typeof t=="function"){var f=t;if(t=f(),Qi){se(!0);try{f()}finally{se(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:t},e}function ca(t,e,f,v){return t.baseState=f,fo(t,Se,typeof v=="function"?v:Bn)}function Qf(t,e,f,v,A){if(Xc(t))throw Error(y(485));if(t=e.action,t!==null){var L={payload:A,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){L.listeners.push(Z)}};st.T!==null?f(!0):L.isTransition=!1,v(L),f=e.pending,f===null?(L.next=e.pending=L,Bc(e,L)):(L.next=f.next,e.pending=f.next=L)}}function Bc(t,e){var f=e.action,v=e.payload,A=t.state;if(e.isTransition){var L=st.T,Z={};st.T=Z;try{var ct=f(A,v),Ct=st.S;Ct!==null&&Ct(Z,ct),Fc(t,e,ct)}catch(Ut){po(t,e,Ut)}finally{st.T=L}}else try{L=f(A,v),Fc(t,e,L)}catch(Ut){po(t,e,Ut)}}function Fc(t,e,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(v){Ru(t,e,v)},function(v){return po(t,e,v)}):Ru(t,e,f)}function Ru(t,e,f){e.status="fulfilled",e.value=f,Pu(e),t.state=f,e=t.pending,e!==null&&(f=e.next,f===e?t.pending=null:(f=f.next,e.next=f,Bc(t,f)))}function po(t,e,f){var v=t.pending;if(t.pending=null,v!==null){v=v.next;do e.status="rejected",e.reason=f,Pu(e),e=e.next;while(e!==v)}t.action=null}function Pu(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Bu(t,e){return e}function pl(t,e){if(Ze){var f=_i.formState;if(f!==null){t:{var v=be;if(Ze){if(Li){e:{for(var A=Li,L=Pr;A.nodeType!==8;){if(!L){A=null;break e}if(A=ga(A.nextSibling),A===null){A=null;break e}}L=A.data,A=L==="F!"||L==="F"?A:null}if(A){Li=ga(A.nextSibling),v=A.data==="F!";break t}}As(v)}v=!1}v&&(e=f[0])}}return f=An(),f.memoizedState=f.baseState=e,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:e},f.queue=v,f=Wd.bind(null,be,v),v.dispatch=f,v=dl(!1),L=Jf.bind(null,be,!1,v.queue),v=An(),A={state:e,dispatch:null,action:t,pending:null},v.queue=A,f=Qf.bind(null,be,A,L,f),A.dispatch=f,v.memoizedState=t,[e,f,!1]}function Zl(t){var e=Si();return go(e,Se,t)}function go(t,e,f){if(e=fo(t,e,Bu)[0],t=cl(Bn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var v=Wa(e)}catch(Z){throw Z===nt?lt:Z}else v=e;e=Si();var A=e.queue,L=A.dispatch;return f!==e.memoizedState&&(be.flags|=2048,fa(9,gl(),zc.bind(null,A,f),null)),[v,L,t]}function zc(t,e){t.action=e}function Ic(t){var e=Si(),f=Se;if(f!==null)return go(e,f,t);Si(),e=e.memoizedState,f=Si();var v=f.queue.dispatch;return f.memoizedState=t,[e,v,!1]}function fa(t,e,f,v){return t={tag:t,create:f,deps:v,inst:e,next:null},e=be.updateQueue,e===null&&(e=Ls(),be.updateQueue=e),f=e.lastEffect,f===null?e.lastEffect=t.next=t:(v=f.next,f.next=t,t.next=v,e.lastEffect=t),t}function gl(){return{destroy:void 0,resource:void 0}}function Kl(){return Si().memoizedState}function _r(t,e,f,v){var A=An();v=v===void 0?null:v,be.flags|=t,A.memoizedState=fa(1|e,gl(),f,v)}function mo(t,e,f,v){var A=Si();v=v===void 0?null:v;var L=A.memoizedState.inst;Se!==null&&v!==null&&Ui(v,Se.memoizedState.deps)?A.memoizedState=fa(e,L,f,v):(be.flags|=t,A.memoizedState=fa(1|e,L,f,v))}function Fu(t,e){_r(8390656,8,t,e)}function Uc(t,e){mo(2048,8,t,e)}function zu(t,e){return mo(4,2,t,e)}function Es(t,e){return mo(4,4,t,e)}function qc(t,e){if(typeof e=="function"){t=t();var f=e(t);return function(){typeof f=="function"?f():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Iu(t,e,f){f=f!=null?f.concat([t]):null,mo(4,4,qc.bind(null,e,t),f)}function Uu(){}function qu(t,e){var f=Si();e=e===void 0?null:e;var v=f.memoizedState;return e!==null&&Ui(e,v[1])?v[0]:(f.memoizedState=[t,e],t)}function Hc(t,e){var f=Si();e=e===void 0?null:e;var v=f.memoizedState;if(e!==null&&Ui(e,v[1]))return v[0];if(v=t(),Qi){se(!0);try{t()}finally{se(!1)}}return f.memoizedState=[v,e],v}function ks(t,e,f){return f===void 0||(ai&1073741824)!==0?t.memoizedState=e:(t.memoizedState=f,t=Yp(),be.lanes|=t,So|=t,f)}function Ql(t,e,f,v){return an(f,e)?f:Pe.current!==null?(t=ks(t,f,v),an(t,e)||(yn=!0),t):(ai&42)===0?(yn=!0,t.memoizedState=f):(t=Yp(),be.lanes|=t,So|=t,e)}function ml(t,e,f,v,A){var L=ut.p;ut.p=L!==0&&8>L?L:8;var Z=st.T,ct={};st.T=ct,Jf(t,!1,e,f);try{var Ct=A(),Ut=st.S;if(Ut!==null&&Ut(ct,Ct),Ct!==null&&typeof Ct=="object"&&typeof Ct.then=="function"){var Zt=jc(Ct,v);Gu(t,e,Zt,Cr(t))}else Gu(t,e,v,Cr(t))}catch(ee){Gu(t,e,{then:function(){},status:"rejected",reason:ee},Cr())}finally{ut.p=L,st.T=Z}}function ha(){}function Ir(t,e,f,v){if(t.tag!==5)throw Error(y(476));var A=da(t).queue;ml(t,A,e,vt,f===null?ha:function(){return vl(t),f(v)})}function da(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:vt,baseState:vt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:vt},next:null};var f={};return e.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:f},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function vl(t){var e=da(t).next.queue;Gu(t,e,{},Cr())}function yl(){return Zi(cc)}function Hu(){return Si().memoizedState}function Yc(){return Si().memoizedState}function Yu(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var f=Cr();t=Wt(f);var v=te(e,t,f);v!==null&&(Ar(v,e,f),Kt(v,e,f)),e={cache:Mu()},t.payload=e;return}e=e.return}}function Xu(t,e,f){var v=Cr();f={lane:v,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Xc(t)?Zd(e,f):(f=Ua(t,e,f,v),f!==null&&(Ar(f,t,v),Kd(f,e,v)))}function Wd(t,e,f){var v=Cr();Gu(t,e,f,v)}function Gu(t,e,f,v){var A={lane:v,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Xc(t))Zd(e,A);else{var L=t.alternate;if(t.lanes===0&&(L===null||L.lanes===0)&&(L=e.lastRenderedReducer,L!==null))try{var Z=e.lastRenderedState,ct=L(Z,f);if(A.hasEagerState=!0,A.eagerState=ct,an(ct,Z))return Ia(t,e,A,0),_i===null&&nr(),!1}catch{}finally{}if(f=Ua(t,e,A,v),f!==null)return Ar(f,t,v),Kd(f,e,v),!0}return!1}function Jf(t,e,f,v){if(v={lane:2,revertLane:kh(),action:v,hasEagerState:!1,eagerState:null,next:null},Xc(t)){if(e)throw Error(y(479))}else e=Ua(t,f,v,2),e!==null&&Ar(e,t,2)}function Xc(t){var e=t.alternate;return t===be||e!==null&&e===be}function Zd(t,e){ln=Ge=!0;var f=t.pending;f===null?e.next=e:(e.next=f.next,f.next=e),t.pending=e}function Kd(t,e,f){if((f&4194048)!==0){var v=e.lanes;v&=t.pendingLanes,f|=v,e.lanes=f,We(t,f)}}var Gc={readContext:Zi,use:Pn,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je},Qd={readContext:Zi,use:Pn,useCallback:function(t,e){return An().memoizedState=[t,e===void 0?null:e],t},useContext:Zi,useEffect:Fu,useImperativeHandle:function(t,e,f){f=f!=null?f.concat([t]):null,_r(4194308,4,qc.bind(null,e,t),f)},useLayoutEffect:function(t,e){return _r(4194308,4,t,e)},useInsertionEffect:function(t,e){_r(4,2,t,e)},useMemo:function(t,e){var f=An();e=e===void 0?null:e;var v=t();if(Qi){se(!0);try{t()}finally{se(!1)}}return f.memoizedState=[v,e],v},useReducer:function(t,e,f){var v=An();if(f!==void 0){var A=f(e);if(Qi){se(!0);try{f(e)}finally{se(!1)}}}else A=e;return v.memoizedState=v.baseState=A,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:A},v.queue=t,t=t.dispatch=Xu.bind(null,be,t),[v.memoizedState,t]},useRef:function(t){var e=An();return t={current:t},e.memoizedState=t},useState:function(t){t=dl(t);var e=t.queue,f=Wd.bind(null,be,e);return e.dispatch=f,[t.memoizedState,f]},useDebugValue:Uu,useDeferredValue:function(t,e){var f=An();return ks(f,t,e)},useTransition:function(){var t=dl(!1);return t=ml.bind(null,be,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,f){var v=be,A=An();if(Ze){if(f===void 0)throw Error(y(407));f=f()}else{if(f=e(),_i===null)throw Error(y(349));(Ve&124)!==0||Wl(v,e,f)}A.memoizedState=f;var L={value:f,getSnapshot:e};return A.queue=L,Fu(ho.bind(null,v,L,t),[t]),v.flags|=2048,fa(9,gl(),hl.bind(null,v,L,f,e),null),f},useId:function(){var t=An(),e=_i.identifierPrefix;if(Ze){var f=sa,v=aa;f=(v&~(1<<32-ie(v)-1)).toString(32)+f,e=""+e+"R"+f,f=ji++,0<f&&(e+="H"+f.toString(32)),e+=""}else f=sr++,e=""+e+"r"+f.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:yl,useFormState:pl,useActionState:pl,useOptimistic:function(t){var e=An();e.memoizedState=e.baseState=t;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=f,e=Jf.bind(null,be,!0,f),f.dispatch=e,[t,e]},useMemoCache:Za,useCacheRefresh:function(){return An().memoizedState=Yu.bind(null,be)}},Jd={readContext:Zi,use:Pn,useCallback:qu,useContext:Zi,useEffect:Uc,useImperativeHandle:Iu,useInsertionEffect:zu,useLayoutEffect:Es,useMemo:Hc,useReducer:cl,useRef:Kl,useState:function(){return cl(Bn)},useDebugValue:Uu,useDeferredValue:function(t,e){var f=Si();return Ql(f,Se.memoizedState,t,e)},useTransition:function(){var t=cl(Bn)[0],e=Si().memoizedState;return[typeof t=="boolean"?t:Wa(t),e]},useSyncExternalStore:fl,useId:Hu,useHostTransitionStatus:yl,useFormState:Zl,useActionState:Zl,useOptimistic:function(t,e){var f=Si();return ca(f,Se,t,e)},useMemoCache:Za,useCacheRefresh:Yc},_1={readContext:Zi,use:Pn,useCallback:qu,useContext:Zi,useEffect:Uc,useImperativeHandle:Iu,useInsertionEffect:zu,useLayoutEffect:Es,useMemo:Hc,useReducer:Vl,useRef:Kl,useState:function(){return Vl(Bn)},useDebugValue:Uu,useDeferredValue:function(t,e){var f=Si();return Se===null?ks(f,t,e):Ql(f,Se.memoizedState,t,e)},useTransition:function(){var t=Vl(Bn)[0],e=Si().memoizedState;return[typeof t=="boolean"?t:Wa(t),e]},useSyncExternalStore:fl,useId:Hu,useHostTransitionStatus:yl,useFormState:Ic,useActionState:Ic,useOptimistic:function(t,e){var f=Si();return Se!==null?ca(f,Se,t,e):(f.baseState=t,[t,f.queue.dispatch])},useMemoCache:Za,useCacheRefresh:Yc},Jl=null,Vu=0;function Vc(t){var e=Vu;return Vu+=1,Jl===null&&(Jl=[]),It(Jl,t,e)}function Wu(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Wc(t,e){throw e.$$typeof===r?Error(y(525)):(t=Object.prototype.toString.call(e),Error(y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function $d(t){var e=t._init;return e(t._payload)}function tp(t){function e(jt,kt){if(t){var zt=jt.deletions;zt===null?(jt.deletions=[kt],jt.flags|=16):zt.push(kt)}}function f(jt,kt){if(!t)return null;for(;kt!==null;)e(jt,kt),kt=kt.sibling;return null}function v(jt){for(var kt=new Map;jt!==null;)jt.key!==null?kt.set(jt.key,jt):kt.set(jt.index,jt),jt=jt.sibling;return kt}function A(jt,kt){return jt=Rr(jt,kt),jt.index=0,jt.sibling=null,jt}function L(jt,kt,zt){return jt.index=zt,t?(zt=jt.alternate,zt!==null?(zt=zt.index,zt<kt?(jt.flags|=67108866,kt):zt):(jt.flags|=67108866,kt)):(jt.flags|=1048576,kt)}function Z(jt){return t&&jt.alternate===null&&(jt.flags|=67108866),jt}function ct(jt,kt,zt,Qt){return kt===null||kt.tag!==6?(kt=Il(zt,jt.mode,Qt),kt.return=jt,kt):(kt=A(kt,zt),kt.return=jt,kt)}function Ct(jt,kt,zt,Qt){var he=zt.type;return he===l?Zt(jt,kt,zt.props.children,Qt,zt.key):kt!==null&&(kt.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===q&&$d(he)===kt.type)?(kt=A(kt,zt.props),Wu(kt,zt),kt.return=jt,kt):(kt=xs(zt.type,zt.key,zt.props,null,jt.mode,Qt),Wu(kt,zt),kt.return=jt,kt)}function Ut(jt,kt,zt,Qt){return kt===null||kt.tag!==4||kt.stateNode.containerInfo!==zt.containerInfo||kt.stateNode.implementation!==zt.implementation?(kt=rl(zt,jt.mode,Qt),kt.return=jt,kt):(kt=A(kt,zt.children||[]),kt.return=jt,kt)}function Zt(jt,kt,zt,Qt,he){return kt===null||kt.tag!==7?(kt=na(zt,jt.mode,Qt,he),kt.return=jt,kt):(kt=A(kt,zt),kt.return=jt,kt)}function ee(jt,kt,zt){if(typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint")return kt=Il(""+kt,jt.mode,zt),kt.return=jt,kt;if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case a:return zt=xs(kt.type,kt.key,kt.props,null,jt.mode,zt),Wu(zt,kt),zt.return=jt,zt;case n:return kt=rl(kt,jt.mode,zt),kt.return=jt,kt;case q:var Qt=kt._init;return kt=Qt(kt._payload),ee(jt,kt,zt)}if(mt(kt)||B(kt))return kt=na(kt,jt.mode,zt,null),kt.return=jt,kt;if(typeof kt.then=="function")return ee(jt,Vc(kt),zt);if(kt.$$typeof===C)return ee(jt,Xa(jt,kt),zt);Wc(jt,kt)}return null}function Yt(jt,kt,zt,Qt){var he=kt!==null?kt.key:null;if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return he!==null?null:ct(jt,kt,""+zt,Qt);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case a:return zt.key===he?Ct(jt,kt,zt,Qt):null;case n:return zt.key===he?Ut(jt,kt,zt,Qt):null;case q:return he=zt._init,zt=he(zt._payload),Yt(jt,kt,zt,Qt)}if(mt(zt)||B(zt))return he!==null?null:Zt(jt,kt,zt,Qt,null);if(typeof zt.then=="function")return Yt(jt,kt,Vc(zt),Qt);if(zt.$$typeof===C)return Yt(jt,kt,Xa(jt,zt),Qt);Wc(jt,zt)}return null}function Xt(jt,kt,zt,Qt,he){if(typeof Qt=="string"&&Qt!==""||typeof Qt=="number"||typeof Qt=="bigint")return jt=jt.get(zt)||null,ct(kt,jt,""+Qt,he);if(typeof Qt=="object"&&Qt!==null){switch(Qt.$$typeof){case a:return jt=jt.get(Qt.key===null?zt:Qt.key)||null,Ct(kt,jt,Qt,he);case n:return jt=jt.get(Qt.key===null?zt:Qt.key)||null,Ut(kt,jt,Qt,he);case q:var ze=Qt._init;return Qt=ze(Qt._payload),Xt(jt,kt,zt,Qt,he)}if(mt(Qt)||B(Qt))return jt=jt.get(zt)||null,Zt(kt,jt,Qt,he,null);if(typeof Qt.then=="function")return Xt(jt,kt,zt,Vc(Qt),he);if(Qt.$$typeof===C)return Xt(jt,kt,zt,Xa(kt,Qt),he);Wc(kt,Qt)}return null}function Te(jt,kt,zt,Qt){for(var he=null,ze=null,ye=kt,we=kt=0,_n=null;ye!==null&&we<zt.length;we++){ye.index>we?(_n=ye,ye=null):_n=ye.sibling;var $e=Yt(jt,ye,zt[we],Qt);if($e===null){ye===null&&(ye=_n);break}t&&ye&&$e.alternate===null&&e(jt,ye),kt=L($e,kt,we),ze===null?he=$e:ze.sibling=$e,ze=$e,ye=_n}if(we===zt.length)return f(jt,ye),Ze&&Cs(jt,we),he;if(ye===null){for(;we<zt.length;we++)ye=ee(jt,zt[we],Qt),ye!==null&&(kt=L(ye,kt,we),ze===null?he=ye:ze.sibling=ye,ze=ye);return Ze&&Cs(jt,we),he}for(ye=v(ye);we<zt.length;we++)_n=Xt(ye,jt,we,zt[we],Qt),_n!==null&&(t&&_n.alternate!==null&&ye.delete(_n.key===null?we:_n.key),kt=L(_n,kt,we),ze===null?he=_n:ze.sibling=_n,ze=_n);return t&&ye.forEach(function(Do){return e(jt,Do)}),Ze&&Cs(jt,we),he}function _e(jt,kt,zt,Qt){if(zt==null)throw Error(y(151));for(var he=null,ze=null,ye=kt,we=kt=0,_n=null,$e=zt.next();ye!==null&&!$e.done;we++,$e=zt.next()){ye.index>we?(_n=ye,ye=null):_n=ye.sibling;var Do=Yt(jt,ye,$e.value,Qt);if(Do===null){ye===null&&(ye=_n);break}t&&ye&&Do.alternate===null&&e(jt,ye),kt=L(Do,kt,we),ze===null?he=Do:ze.sibling=Do,ze=Do,ye=_n}if($e.done)return f(jt,ye),Ze&&Cs(jt,we),he;if(ye===null){for(;!$e.done;we++,$e=zt.next())$e=ee(jt,$e.value,Qt),$e!==null&&(kt=L($e,kt,we),ze===null?he=$e:ze.sibling=$e,ze=$e);return Ze&&Cs(jt,we),he}for(ye=v(ye);!$e.done;we++,$e=zt.next())$e=Xt(ye,jt,we,$e.value,Qt),$e!==null&&(t&&$e.alternate!==null&&ye.delete($e.key===null?we:$e.key),kt=L($e,kt,we),ze===null?he=$e:ze.sibling=$e,ze=$e);return t&&ye.forEach(function(wm){return e(jt,wm)}),Ze&&Cs(jt,we),he}function di(jt,kt,zt,Qt){if(typeof zt=="object"&&zt!==null&&zt.type===l&&zt.key===null&&(zt=zt.props.children),typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case a:t:{for(var he=zt.key;kt!==null;){if(kt.key===he){if(he=zt.type,he===l){if(kt.tag===7){f(jt,kt.sibling),Qt=A(kt,zt.props.children),Qt.return=jt,jt=Qt;break t}}else if(kt.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===q&&$d(he)===kt.type){f(jt,kt.sibling),Qt=A(kt,zt.props),Wu(Qt,zt),Qt.return=jt,jt=Qt;break t}f(jt,kt);break}else e(jt,kt);kt=kt.sibling}zt.type===l?(Qt=na(zt.props.children,jt.mode,Qt,zt.key),Qt.return=jt,jt=Qt):(Qt=xs(zt.type,zt.key,zt.props,null,jt.mode,Qt),Wu(Qt,zt),Qt.return=jt,jt=Qt)}return Z(jt);case n:t:{for(he=zt.key;kt!==null;){if(kt.key===he)if(kt.tag===4&&kt.stateNode.containerInfo===zt.containerInfo&&kt.stateNode.implementation===zt.implementation){f(jt,kt.sibling),Qt=A(kt,zt.children||[]),Qt.return=jt,jt=Qt;break t}else{f(jt,kt);break}else e(jt,kt);kt=kt.sibling}Qt=rl(zt,jt.mode,Qt),Qt.return=jt,jt=Qt}return Z(jt);case q:return he=zt._init,zt=he(zt._payload),di(jt,kt,zt,Qt)}if(mt(zt))return Te(jt,kt,zt,Qt);if(B(zt)){if(he=B(zt),typeof he!="function")throw Error(y(150));return zt=he.call(zt),_e(jt,kt,zt,Qt)}if(typeof zt.then=="function")return di(jt,kt,Vc(zt),Qt);if(zt.$$typeof===C)return di(jt,kt,Xa(jt,zt),Qt);Wc(jt,zt)}return typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint"?(zt=""+zt,kt!==null&&kt.tag===6?(f(jt,kt.sibling),Qt=A(kt,zt),Qt.return=jt,jt=Qt):(f(jt,kt),Qt=Il(zt,jt.mode,Qt),Qt.return=jt,jt=Qt),Z(jt)):f(jt,kt)}return function(jt,kt,zt,Qt){try{Vu=0;var he=di(jt,kt,zt,Qt);return Jl=null,he}catch(ye){if(ye===nt||ye===lt)throw ye;var ze=vn(29,ye,null,jt.mode);return ze.lanes=Qt,ze.return=jt,ze}finally{}}}var $l=tp(!0),ep=tp(!1),Ur=H(null),Ka=null;function vo(t){var e=t.alternate;U(hn,hn.current&1),U(Ur,t),Ka===null&&(e===null||Pe.current!==null||e.memoizedState!==null)&&(Ka=t)}function ip(t){if(t.tag===22){if(U(hn,hn.current),U(Ur,t),Ka===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Ka=t)}}else yo()}function yo(){U(hn,hn.current),U(Ur,Ur.current)}function Ns(t){N(Ur),Ka===t&&(Ka=null),N(hn)}var hn=H(0);function Zc(t){for(var e=t;e!==null;){if(e.tag===13){var f=e.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||qh(f)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function $f(t,e,f,v){e=t.memoizedState,f=f(v,e),f=f==null?e:h({},e,f),t.memoizedState=f,t.lanes===0&&(t.updateQueue.baseState=f)}var th={enqueueSetState:function(t,e,f){t=t._reactInternals;var v=Cr(),A=Wt(v);A.payload=e,f!=null&&(A.callback=f),e=te(t,A,v),e!==null&&(Ar(e,t,v),Kt(e,t,v))},enqueueReplaceState:function(t,e,f){t=t._reactInternals;var v=Cr(),A=Wt(v);A.tag=1,A.payload=e,f!=null&&(A.callback=f),e=te(t,A,v),e!==null&&(Ar(e,t,v),Kt(e,t,v))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var f=Cr(),v=Wt(f);v.tag=2,e!=null&&(v.callback=e),e=te(t,v,f),e!==null&&(Ar(e,t,f),Kt(e,t,f))}};function np(t,e,f,v,A,L,Z){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(v,L,Z):e.prototype&&e.prototype.isPureReactComponent?!Ma(f,v)||!Ma(A,L):!0}function rp(t,e,f,v){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(f,v),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(f,v),e.state!==t&&th.enqueueReplaceState(e,e.state,null)}function bl(t,e){var f=e;if("ref"in e){f={};for(var v in e)v!=="ref"&&(f[v]=e[v])}if(t=t.defaultProps){f===e&&(f=h({},f));for(var A in t)f[A]===void 0&&(f[A]=t[A])}return f}var Kc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ap(t){Kc(t)}function sp(t){console.error(t)}function op(t){Kc(t)}function Qc(t,e){try{var f=t.onUncaughtError;f(e.value,{componentStack:e.stack})}catch(v){setTimeout(function(){throw v})}}function lp(t,e,f){try{var v=t.onCaughtError;v(f.value,{componentStack:f.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function eh(t,e,f){return f=Wt(f),f.tag=3,f.payload={element:null},f.callback=function(){Qc(t,e)},f}function up(t){return t=Wt(t),t.tag=3,t}function cp(t,e,f,v){var A=f.type.getDerivedStateFromError;if(typeof A=="function"){var L=v.value;t.payload=function(){return A(L)},t.callback=function(){lp(e,f,v)}}var Z=f.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(t.callback=function(){lp(e,f,v),typeof A!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var ct=v.stack;this.componentDidCatch(v.value,{componentStack:ct!==null?ct:""})})}function w1(t,e,f,v,A){if(f.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(e=f.alternate,e!==null&&co(e,f,A,!0),f=Ur.current,f!==null){switch(f.tag){case 13:return Ka===null?Ah():f.alternate===null&&qi===0&&(qi=3),f.flags&=-257,f.flags|=65536,f.lanes=A,v===pt?f.flags|=16384:(e=f.updateQueue,e===null?f.updateQueue=new Set([v]):e.add(v),Oh(t,v,A)),!1;case 22:return f.flags|=65536,v===pt?f.flags|=16384:(e=f.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([v])},f.updateQueue=e):(f=e.retryQueue,f===null?e.retryQueue=new Set([v]):f.add(v)),Oh(t,v,A)),!1}throw Error(y(435,f.tag))}return Oh(t,v,A),Ah(),!1}if(Ze)return e=Ur.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=A,v!==Du&&(t=Error(y(422),{cause:v}),uo(Be(t,f)))):(v!==Du&&(e=Error(y(423),{cause:v}),uo(Be(e,f))),t=t.current.alternate,t.flags|=65536,A&=-A,t.lanes|=A,v=Be(v,f),A=eh(t.stateNode,v,A),ce(t,A),qi!==4&&(qi=2)),!1;var L=Error(y(520),{cause:v});if(L=Be(L,f),ec===null?ec=[L]:ec.push(L),qi!==4&&(qi=2),e===null)return!0;v=Be(v,f),f=e;do{switch(f.tag){case 3:return f.flags|=65536,t=A&-A,f.lanes|=t,t=eh(f.stateNode,v,t),ce(f,t),!1;case 1:if(e=f.type,L=f.stateNode,(f.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Co===null||!Co.has(L))))return f.flags|=65536,A&=-A,f.lanes|=A,A=up(A),cp(A,t,f,v),ce(f,A),!1}f=f.return}while(f!==null);return!1}var fp=Error(y(461)),yn=!1;function Tn(t,e,f,v){e.child=t===null?ep(e,null,f,v):$l(e,t.child,f,v)}function hp(t,e,f,v,A){f=f.render;var L=e.ref;if("ref"in v){var Z={};for(var ct in v)ct!=="ref"&&(Z[ct]=v[ct])}else Z=v;return zr(e),v=br(t,e,f,Z,L,A),ct=bi(),t!==null&&!yn?(ul(t,e,A),Ds(t,e,A)):(Ze&&ct&&al(e),e.flags|=1,Tn(t,e,v,A),e.child)}function dp(t,e,f,v,A){if(t===null){var L=f.type;return typeof L=="function"&&!oo(L)&&L.defaultProps===void 0&&f.compare===null?(e.tag=15,e.type=L,pp(t,e,L,v,A)):(t=xs(f.type,null,v,e,e.mode,A),t.ref=e.ref,t.return=e,e.child=t)}if(L=t.child,!uh(t,A)){var Z=L.memoizedProps;if(f=f.compare,f=f!==null?f:Ma,f(Z,v)&&t.ref===e.ref)return Ds(t,e,A)}return e.flags|=1,t=Rr(L,v),t.ref=e.ref,t.return=e,e.child=t}function pp(t,e,f,v,A){if(t!==null){var L=t.memoizedProps;if(Ma(L,v)&&t.ref===e.ref)if(yn=!1,e.pendingProps=v=L,uh(t,A))(t.flags&131072)!==0&&(yn=!0);else return e.lanes=t.lanes,Ds(t,e,A)}return ih(t,e,f,v,A)}function gp(t,e,f){var v=e.pendingProps,A=v.children,L=t!==null?t.memoizedState:null;if(v.mode==="hidden"){if((e.flags&128)!==0){if(v=L!==null?L.baseLanes|f:f,t!==null){for(A=e.child=t.child,L=0;A!==null;)L=L|A.lanes|A.childLanes,A=A.sibling;e.childLanes=L&~v}else e.childLanes=0,e.child=null;return mp(t,e,v,f)}if((f&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&I(e,L!==null?L.cachePool:null),L!==null?ii(e,L):Qe(),ip(e);else return e.lanes=e.childLanes=536870912,mp(t,e,L!==null?L.baseLanes|f:f,f)}else L!==null?(I(e,L.cachePool),ii(e,L),yo(),e.memoizedState=null):(t!==null&&I(e,null),Qe(),yo());return Tn(t,e,A,f),e.child}function mp(t,e,f,v){var A=D();return A=A===null?null:{parent:Ki._currentValue,pool:A},e.memoizedState={baseLanes:f,cachePool:A},t!==null&&I(e,null),Qe(),ip(e),t!==null&&co(t,e,v,!0),null}function Jc(t,e){var f=e.ref;if(f===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(y(284));(t===null||t.ref!==f)&&(e.flags|=4194816)}}function ih(t,e,f,v,A){return zr(e),f=br(t,e,f,v,void 0,A),v=bi(),t!==null&&!yn?(ul(t,e,A),Ds(t,e,A)):(Ze&&v&&al(e),e.flags|=1,Tn(t,e,f,A),e.child)}function vp(t,e,f,v,A,L){return zr(e),e.updateQueue=null,f=Os(e,v,f,A),Ga(t),v=bi(),t!==null&&!yn?(ul(t,e,L),Ds(t,e,L)):(Ze&&v&&al(e),e.flags|=1,Tn(t,e,f,L),e.child)}function yp(t,e,f,v,A){if(zr(e),e.stateNode===null){var L=sn,Z=f.contextType;typeof Z=="object"&&Z!==null&&(L=Zi(Z)),L=new f(v,L),e.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=th,e.stateNode=L,L._reactInternals=e,L=e.stateNode,L.props=v,L.state=e.memoizedState,L.refs={},Et(e),Z=f.contextType,L.context=typeof Z=="object"&&Z!==null?Zi(Z):sn,L.state=e.memoizedState,Z=f.getDerivedStateFromProps,typeof Z=="function"&&($f(e,f,Z,v),L.state=e.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(Z=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),Z!==L.state&&th.enqueueReplaceState(L,L.state,null),le(e,v,L,A),ve(),L.state=e.memoizedState),typeof L.componentDidMount=="function"&&(e.flags|=4194308),v=!0}else if(t===null){L=e.stateNode;var ct=e.memoizedProps,Ct=bl(f,ct);L.props=Ct;var Ut=L.context,Zt=f.contextType;Z=sn,typeof Zt=="object"&&Zt!==null&&(Z=Zi(Zt));var ee=f.getDerivedStateFromProps;Zt=typeof ee=="function"||typeof L.getSnapshotBeforeUpdate=="function",ct=e.pendingProps!==ct,Zt||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ct||Ut!==Z)&&rp(e,L,v,Z),Gt=!1;var Yt=e.memoizedState;L.state=Yt,le(e,v,L,A),ve(),Ut=e.memoizedState,ct||Yt!==Ut||Gt?(typeof ee=="function"&&($f(e,f,ee,v),Ut=e.memoizedState),(Ct=Gt||np(e,f,Ct,v,Yt,Ut,Z))?(Zt||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(e.flags|=4194308)):(typeof L.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=v,e.memoizedState=Ut),L.props=v,L.state=Ut,L.context=Z,v=Ct):(typeof L.componentDidMount=="function"&&(e.flags|=4194308),v=!1)}else{L=e.stateNode,Dt(t,e),Z=e.memoizedProps,Zt=bl(f,Z),L.props=Zt,ee=e.pendingProps,Yt=L.context,Ut=f.contextType,Ct=sn,typeof Ut=="object"&&Ut!==null&&(Ct=Zi(Ut)),ct=f.getDerivedStateFromProps,(Ut=typeof ct=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(Z!==ee||Yt!==Ct)&&rp(e,L,v,Ct),Gt=!1,Yt=e.memoizedState,L.state=Yt,le(e,v,L,A),ve();var Xt=e.memoizedState;Z!==ee||Yt!==Xt||Gt||t!==null&&t.dependencies!==null&&Yl(t.dependencies)?(typeof ct=="function"&&($f(e,f,ct,v),Xt=e.memoizedState),(Zt=Gt||np(e,f,Zt,v,Yt,Xt,Ct)||t!==null&&t.dependencies!==null&&Yl(t.dependencies))?(Ut||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(v,Xt,Ct),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(v,Xt,Ct)),typeof L.componentDidUpdate=="function"&&(e.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof L.componentDidUpdate!="function"||Z===t.memoizedProps&&Yt===t.memoizedState||(e.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Z===t.memoizedProps&&Yt===t.memoizedState||(e.flags|=1024),e.memoizedProps=v,e.memoizedState=Xt),L.props=v,L.state=Xt,L.context=Ct,v=Zt):(typeof L.componentDidUpdate!="function"||Z===t.memoizedProps&&Yt===t.memoizedState||(e.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Z===t.memoizedProps&&Yt===t.memoizedState||(e.flags|=1024),v=!1)}return L=v,Jc(t,e),v=(e.flags&128)!==0,L||v?(L=e.stateNode,f=v&&typeof f.getDerivedStateFromError!="function"?null:L.render(),e.flags|=1,t!==null&&v?(e.child=$l(e,t.child,null,A),e.child=$l(e,null,f,A)):Tn(t,e,f,A),e.memoizedState=L.state,t=e.child):t=Ds(t,e,A),t}function bp(t,e,f,v){return Jn(),e.flags|=256,Tn(t,e,f,v),e.child}var nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rh(t){return{baseLanes:t,cachePool:tt()}}function ah(t,e,f){return t=t!==null?t.childLanes&~f:0,e&&(t|=qr),t}function _p(t,e,f){var v=e.pendingProps,A=!1,L=(e.flags&128)!==0,Z;if((Z=L)||(Z=t!==null&&t.memoizedState===null?!1:(hn.current&2)!==0),Z&&(A=!0,e.flags&=-129),Z=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ze){if(A?vo(e):yo(),Ze){var ct=Li,Ct;if(Ct=ct){t:{for(Ct=ct,ct=Pr;Ct.nodeType!==8;){if(!ct){ct=null;break t}if(Ct=ga(Ct.nextSibling),Ct===null){ct=null;break t}}ct=Ct}ct!==null?(e.memoizedState={dehydrated:ct,treeContext:Ss!==null?{id:aa,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},Ct=vn(18,null,null,0),Ct.stateNode=ct,Ct.return=e,e.child=Ct,Wi=e,Li=null,Ct=!0):Ct=!1}Ct||As(e)}if(ct=e.memoizedState,ct!==null&&(ct=ct.dehydrated,ct!==null))return qh(ct)?e.lanes=32:e.lanes=536870912,null;Ns(e)}return ct=v.children,v=v.fallback,A?(yo(),A=e.mode,ct=$c({mode:"hidden",children:ct},A),v=na(v,A,f,null),ct.return=e,v.return=e,ct.sibling=v,e.child=ct,A=e.child,A.memoizedState=rh(f),A.childLanes=ah(t,Z,f),e.memoizedState=nh,v):(vo(e),sh(e,ct))}if(Ct=t.memoizedState,Ct!==null&&(ct=Ct.dehydrated,ct!==null)){if(L)e.flags&256?(vo(e),e.flags&=-257,e=oh(t,e,f)):e.memoizedState!==null?(yo(),e.child=t.child,e.flags|=128,e=null):(yo(),A=v.fallback,ct=e.mode,v=$c({mode:"visible",children:v.children},ct),A=na(A,ct,f,null),A.flags|=2,v.return=e,A.return=e,v.sibling=A,e.child=v,$l(e,t.child,null,f),v=e.child,v.memoizedState=rh(f),v.childLanes=ah(t,Z,f),e.memoizedState=nh,e=A);else if(vo(e),qh(ct)){if(Z=ct.nextSibling&&ct.nextSibling.dataset,Z)var Ut=Z.dgst;Z=Ut,v=Error(y(419)),v.stack="",v.digest=Z,uo({value:v,source:null,stack:null}),e=oh(t,e,f)}else if(yn||co(t,e,f,!1),Z=(f&t.childLanes)!==0,yn||Z){if(Z=_i,Z!==null&&(v=f&-f,v=(v&42)!==0?1:Yr(v),v=(v&(Z.suspendedLanes|f))!==0?0:v,v!==0&&v!==Ct.retryLane))throw Ct.retryLane=v,ia(t,v),Ar(Z,t,v),fp;ct.data==="$?"||Ah(),e=oh(t,e,f)}else ct.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=Ct.treeContext,Li=ga(ct.nextSibling),Wi=e,Ze=!0,Ha=null,Pr=!1,t!==null&&(ar[Qn++]=aa,ar[Qn++]=sa,ar[Qn++]=Ss,aa=t.id,sa=t.overflow,Ss=e),e=sh(e,v.children),e.flags|=4096);return e}return A?(yo(),A=v.fallback,ct=e.mode,Ct=t.child,Ut=Ct.sibling,v=Rr(Ct,{mode:"hidden",children:v.children}),v.subtreeFlags=Ct.subtreeFlags&65011712,Ut!==null?A=Rr(Ut,A):(A=na(A,ct,f,null),A.flags|=2),A.return=e,v.return=e,v.sibling=A,e.child=v,v=A,A=e.child,ct=t.child.memoizedState,ct===null?ct=rh(f):(Ct=ct.cachePool,Ct!==null?(Ut=Ki._currentValue,Ct=Ct.parent!==Ut?{parent:Ut,pool:Ut}:Ct):Ct=tt(),ct={baseLanes:ct.baseLanes|f,cachePool:Ct}),A.memoizedState=ct,A.childLanes=ah(t,Z,f),e.memoizedState=nh,v):(vo(e),f=t.child,t=f.sibling,f=Rr(f,{mode:"visible",children:v.children}),f.return=e,f.sibling=null,t!==null&&(Z=e.deletions,Z===null?(e.deletions=[t],e.flags|=16):Z.push(t)),e.child=f,e.memoizedState=null,f)}function sh(t,e){return e=$c({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function $c(t,e){return t=vn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function oh(t,e,f){return $l(e,t.child,null,f),t=sh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wp(t,e,f){t.lanes|=e;var v=t.alternate;v!==null&&(v.lanes|=e),ql(t.return,e,f)}function lh(t,e,f,v,A){var L=t.memoizedState;L===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:A}:(L.isBackwards=e,L.rendering=null,L.renderingStartTime=0,L.last=v,L.tail=f,L.tailMode=A)}function xp(t,e,f){var v=e.pendingProps,A=v.revealOrder,L=v.tail;if(Tn(t,e,v.children,f),v=hn.current,(v&2)!==0)v=v&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wp(t,f,e);else if(t.tag===19)wp(t,f,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}v&=1}switch(U(hn,v),A){case"forwards":for(f=e.child,A=null;f!==null;)t=f.alternate,t!==null&&Zc(t)===null&&(A=f),f=f.sibling;f=A,f===null?(A=e.child,e.child=null):(A=f.sibling,f.sibling=null),lh(e,!1,A,f,L);break;case"backwards":for(f=null,A=e.child,e.child=null;A!==null;){if(t=A.alternate,t!==null&&Zc(t)===null){e.child=A;break}t=A.sibling,A.sibling=f,f=A,A=t}lh(e,!0,f,null,L);break;case"together":lh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ds(t,e,f){if(t!==null&&(e.dependencies=t.dependencies),So|=e.lanes,(f&e.childLanes)===0)if(t!==null){if(co(t,e,f,!1),(f&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(y(153));if(e.child!==null){for(t=e.child,f=Rr(t,t.pendingProps),e.child=f,f.return=e;t.sibling!==null;)t=t.sibling,f=f.sibling=Rr(t,t.pendingProps),f.return=e;f.sibling=null}return e.child}function uh(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Yl(t)))}function x1(t,e,f){switch(e.tag){case 3:ht(e,e.stateNode.containerInfo),Ya(e,Ki,t.memoizedState.cache),Jn();break;case 27:case 5:At(e);break;case 4:ht(e,e.stateNode.containerInfo);break;case 10:Ya(e,e.type,e.memoizedProps.value);break;case 13:var v=e.memoizedState;if(v!==null)return v.dehydrated!==null?(vo(e),e.flags|=128,null):(f&e.child.childLanes)!==0?_p(t,e,f):(vo(e),t=Ds(t,e,f),t!==null?t.sibling:null);vo(e);break;case 19:var A=(t.flags&128)!==0;if(v=(f&e.childLanes)!==0,v||(co(t,e,f,!1),v=(f&e.childLanes)!==0),A){if(v)return xp(t,e,f);e.flags|=128}if(A=e.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),U(hn,hn.current),v)break;return null;case 22:case 23:return e.lanes=0,gp(t,e,f);case 24:Ya(e,Ki,t.memoizedState.cache)}return Ds(t,e,f)}function Sp(t,e,f){if(t!==null)if(t.memoizedProps!==e.pendingProps)yn=!0;else{if(!uh(t,f)&&(e.flags&128)===0)return yn=!1,x1(t,e,f);yn=(t.flags&131072)!==0}else yn=!1,Ze&&(e.flags&1048576)!==0&&Ec(e,Ul,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var v=e.elementType,A=v._init;if(v=A(v._payload),e.type=v,typeof v=="function")oo(v)?(t=bl(v,t),e.tag=1,e=yp(null,e,v,t,f)):(e.tag=0,e=ih(null,e,v,t,f));else{if(v!=null){if(A=v.$$typeof,A===O){e.tag=11,e=hp(null,e,v,t,f);break t}else if(A===z){e.tag=14,e=dp(null,e,v,t,f);break t}}throw e=M(v)||v,Error(y(306,e,""))}}return e;case 0:return ih(t,e,e.type,e.pendingProps,f);case 1:return v=e.type,A=bl(v,e.pendingProps),yp(t,e,v,A,f);case 3:t:{if(ht(e,e.stateNode.containerInfo),t===null)throw Error(y(387));v=e.pendingProps;var L=e.memoizedState;A=L.element,Dt(t,e),le(e,v,null,f);var Z=e.memoizedState;if(v=Z.cache,Ya(e,Ki,v),v!==L.cache&&Hl(e,[Ki],f,!0),ve(),v=Z.element,L.isDehydrated)if(L={element:v,isDehydrated:!1,cache:Z.cache},e.updateQueue.baseState=L,e.memoizedState=L,e.flags&256){e=bp(t,e,v,f);break t}else if(v!==A){A=Be(Error(y(424)),e),uo(A),e=bp(t,e,v,f);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Li=ga(t.firstChild),Wi=e,Ze=!0,Ha=null,Pr=!0,f=ep(e,null,v,f),e.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Jn(),v===A){e=Ds(t,e,f);break t}Tn(t,e,v,f)}e=e.child}return e;case 26:return Jc(t,e),t===null?(f=Og(e.type,null,e.pendingProps,null))?e.memoizedState=f:Ze||(f=e.type,t=e.pendingProps,v=pf(V.current).createElement(f),v[ci]=e,v[wi]=t,Ln(v,f,t),ri(v),e.stateNode=v):e.memoizedState=Og(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return At(e),t===null&&Ze&&(v=e.stateNode=Cg(e.type,e.pendingProps,V.current),Wi=e,Pr=!0,A=Li,Oo(e.type)?(Hh=A,Li=ga(v.firstChild)):Li=A),Tn(t,e,e.pendingProps.children,f),Jc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ze&&((A=v=Li)&&(v=K1(v,e.type,e.pendingProps,Pr),v!==null?(e.stateNode=v,Wi=e,Li=ga(v.firstChild),Pr=!1,A=!0):A=!1),A||As(e)),At(e),A=e.type,L=e.pendingProps,Z=t!==null?t.memoizedProps:null,v=L.children,zh(A,L)?v=null:Z!==null&&zh(A,Z)&&(e.flags|=32),e.memoizedState!==null&&(A=br(t,e,Va,null,null,f),cc._currentValue=A),Jc(t,e),Tn(t,e,v,f),e.child;case 6:return t===null&&Ze&&((t=f=Li)&&(f=Q1(f,e.pendingProps,Pr),f!==null?(e.stateNode=f,Wi=e,Li=null,t=!0):t=!1),t||As(e)),null;case 13:return _p(t,e,f);case 4:return ht(e,e.stateNode.containerInfo),v=e.pendingProps,t===null?e.child=$l(e,null,v,f):Tn(t,e,v,f),e.child;case 11:return hp(t,e,e.type,e.pendingProps,f);case 7:return Tn(t,e,e.pendingProps,f),e.child;case 8:return Tn(t,e,e.pendingProps.children,f),e.child;case 12:return Tn(t,e,e.pendingProps.children,f),e.child;case 10:return v=e.pendingProps,Ya(e,e.type,v.value),Tn(t,e,v.children,f),e.child;case 9:return A=e.type._context,v=e.pendingProps.children,zr(e),A=Zi(A),v=v(A),e.flags|=1,Tn(t,e,v,f),e.child;case 14:return dp(t,e,e.type,e.pendingProps,f);case 15:return pp(t,e,e.type,e.pendingProps,f);case 19:return xp(t,e,f);case 31:return v=e.pendingProps,f=e.mode,v={mode:v.mode,children:v.children},t===null?(f=$c(v,f),f.ref=e.ref,e.child=f,f.return=e,e=f):(f=Rr(t.child,v),f.ref=e.ref,e.child=f,f.return=e,e=f),e;case 22:return gp(t,e,f);case 24:return zr(e),v=Zi(Ki),t===null?(A=D(),A===null&&(A=_i,L=Mu(),A.pooledCache=L,L.refCount++,L!==null&&(A.pooledCacheLanes|=f),A=L),e.memoizedState={parent:v,cache:A},Et(e),Ya(e,Ki,A)):((t.lanes&f)!==0&&(Dt(t,e),le(e,null,null,f),ve()),A=t.memoizedState,L=e.memoizedState,A.parent!==v?(A={parent:v,cache:v},e.memoizedState=A,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=A),Ya(e,Ki,v)):(v=L.cache,Ya(e,Ki,v),v!==A.cache&&Hl(e,[Ki],f,!0))),Tn(t,e,e.pendingProps.children,f),e.child;case 29:throw e.pendingProps}throw Error(y(156,e.tag))}function Ms(t){t.flags|=4}function Cp(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dg(e)){if(e=Ur.current,e!==null&&((Ve&4194048)===Ve?Ka!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||e!==Ka))throw Ft=pt,at;t.flags|=8192}}function tf(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?pi():536870912,t.lanes|=e,nu|=e)}function Zu(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var f=null;e!==null;)e.alternate!==null&&(f=e),e=e.sibling;f===null?t.tail=null:f.sibling=null;break;case"collapsed":f=t.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:v.sibling=null}}function Pi(t){var e=t.alternate!==null&&t.alternate.child===t.child,f=0,v=0;if(e)for(var A=t.child;A!==null;)f|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=t,A=A.sibling;else for(A=t.child;A!==null;)f|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=t,A=A.sibling;return t.subtreeFlags|=v,t.childLanes=f,e}function S1(t,e,f){var v=e.pendingProps;switch(sl(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(e),null;case 1:return Pi(e),null;case 3:return f=e.stateNode,v=null,t!==null&&(v=t.memoizedState.cache),e.memoizedState.cache!==v&&(e.flags|=2048),Fr(Ki),dt(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(t===null||t.child===null)&&(Cn(e)?Ms(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Nc())),Pi(e),null;case 26:return f=e.memoizedState,t===null?(Ms(e),f!==null?(Pi(e),Cp(e,f)):(Pi(e),e.flags&=-16777217)):f?f!==t.memoizedState?(Ms(e),Pi(e),Cp(e,f)):(Pi(e),e.flags&=-16777217):(t.memoizedProps!==v&&Ms(e),Pi(e),e.flags&=-16777217),null;case 27:wt(e),f=V.current;var A=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==v&&Ms(e);else{if(!v){if(e.stateNode===null)throw Error(y(166));return Pi(e),null}t=R.current,Cn(e)?kc(e):(t=Cg(A,v,f),e.stateNode=t,Ms(e))}return Pi(e),null;case 5:if(wt(e),f=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==v&&Ms(e);else{if(!v){if(e.stateNode===null)throw Error(y(166));return Pi(e),null}if(t=R.current,Cn(e))kc(e);else{switch(A=pf(V.current),t){case 1:t=A.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:t=A.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":t=A.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":t=A.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof v.is=="string"?A.createElement("select",{is:v.is}):A.createElement("select"),v.multiple?t.multiple=!0:v.size&&(t.size=v.size);break;default:t=typeof v.is=="string"?A.createElement(f,{is:v.is}):A.createElement(f)}}t[ci]=e,t[wi]=v;t:for(A=e.child;A!==null;){if(A.tag===5||A.tag===6)t.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break t;for(;A.sibling===null;){if(A.return===null||A.return===e)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}e.stateNode=t;t:switch(Ln(t,f,v),f){case"button":case"input":case"select":case"textarea":t=!!v.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ms(e)}}return Pi(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==v&&Ms(e);else{if(typeof v!="string"&&e.stateNode===null)throw Error(y(166));if(t=V.current,Cn(e)){if(t=e.stateNode,f=e.memoizedProps,v=null,A=Wi,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}t[ci]=e,t=!!(t.nodeValue===f||v!==null&&v.suppressHydrationWarning===!0||vg(t.nodeValue,f)),t||As(e)}else t=pf(t).createTextNode(v),t[ci]=e,e.stateNode=t}return Pi(e),null;case 13:if(v=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(A=Cn(e),v!==null&&v.dehydrated!==null){if(t===null){if(!A)throw Error(y(318));if(A=e.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(y(317));A[ci]=e}else Jn(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Pi(e),A=!1}else A=Nc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=A),A=!0;if(!A)return e.flags&256?(Ns(e),e):(Ns(e),null)}if(Ns(e),(e.flags&128)!==0)return e.lanes=f,e;if(f=v!==null,t=t!==null&&t.memoizedState!==null,f){v=e.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool);var L=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(L=v.memoizedState.cachePool.pool),L!==A&&(v.flags|=2048)}return f!==t&&f&&(e.child.flags|=8192),tf(e,e.updateQueue),Pi(e),null;case 4:return dt(),t===null&&jh(e.stateNode.containerInfo),Pi(e),null;case 10:return Fr(e.type),Pi(e),null;case 19:if(N(hn),A=e.memoizedState,A===null)return Pi(e),null;if(v=(e.flags&128)!==0,L=A.rendering,L===null)if(v)Zu(A,!1);else{if(qi!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(L=Zc(t),L!==null){for(e.flags|=128,Zu(A,!1),t=L.updateQueue,e.updateQueue=t,tf(e,t),e.subtreeFlags=0,t=f,f=e.child;f!==null;)nl(f,t),f=f.sibling;return U(hn,hn.current&1|2),e.child}t=t.sibling}A.tail!==null&&$()>rf&&(e.flags|=128,v=!0,Zu(A,!1),e.lanes=4194304)}else{if(!v)if(t=Zc(L),t!==null){if(e.flags|=128,v=!0,t=t.updateQueue,e.updateQueue=t,tf(e,t),Zu(A,!0),A.tail===null&&A.tailMode==="hidden"&&!L.alternate&&!Ze)return Pi(e),null}else 2*$()-A.renderingStartTime>rf&&f!==536870912&&(e.flags|=128,v=!0,Zu(A,!1),e.lanes=4194304);A.isBackwards?(L.sibling=e.child,e.child=L):(t=A.last,t!==null?t.sibling=L:e.child=L,A.last=L)}return A.tail!==null?(e=A.tail,A.rendering=e,A.tail=e.sibling,A.renderingStartTime=$(),e.sibling=null,t=hn.current,U(hn,v?t&1|2:t&1),e):(Pi(e),null);case 22:case 23:return Ns(e),Ee(),v=e.memoizedState!==null,t!==null?t.memoizedState!==null!==v&&(e.flags|=8192):v&&(e.flags|=8192),v?(f&536870912)!==0&&(e.flags&128)===0&&(Pi(e),e.subtreeFlags&6&&(e.flags|=8192)):Pi(e),f=e.updateQueue,f!==null&&tf(e,f.retryQueue),f=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(f=t.memoizedState.cachePool.pool),v=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(v=e.memoizedState.cachePool.pool),v!==f&&(e.flags|=2048),t!==null&&N(T),null;case 24:return f=null,t!==null&&(f=t.memoizedState.cache),e.memoizedState.cache!==f&&(e.flags|=2048),Fr(Ki),Pi(e),null;case 25:return null;case 30:return null}throw Error(y(156,e.tag))}function C1(t,e){switch(sl(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fr(Ki),dt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return wt(e),null;case 13:if(Ns(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(y(340));Jn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return N(hn),null;case 4:return dt(),null;case 10:return Fr(e.type),null;case 22:case 23:return Ns(e),Ee(),t!==null&&N(T),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Fr(Ki),null;case 25:return null;default:return null}}function Ap(t,e){switch(sl(e),e.tag){case 3:Fr(Ki),dt();break;case 26:case 27:case 5:wt(e);break;case 4:dt();break;case 13:Ns(e);break;case 19:N(hn);break;case 10:Fr(e.type);break;case 22:case 23:Ns(e),Ee(),t!==null&&N(T);break;case 24:Fr(Ki)}}function Ku(t,e){try{var f=e.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var A=v.next;f=A;do{if((f.tag&t)===t){v=void 0;var L=f.create,Z=f.inst;v=L(),Z.destroy=v}f=f.next}while(f!==A)}}catch(ct){mi(e,e.return,ct)}}function bo(t,e,f){try{var v=e.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var L=A.next;v=L;do{if((v.tag&t)===t){var Z=v.inst,ct=Z.destroy;if(ct!==void 0){Z.destroy=void 0,A=e;var Ct=f,Ut=ct;try{Ut()}catch(Zt){mi(A,Ct,Zt)}}}v=v.next}while(v!==L)}}catch(Zt){mi(e,e.return,Zt)}}function Tp(t){var e=t.updateQueue;if(e!==null){var f=t.stateNode;try{Ke(e,f)}catch(v){mi(t,t.return,v)}}}function Op(t,e,f){f.props=bl(t.type,t.memoizedProps),f.state=t.memoizedState;try{f.componentWillUnmount()}catch(v){mi(t,e,v)}}function Qu(t,e){try{var f=t.ref;if(f!==null){switch(t.tag){case 26:case 27:case 5:var v=t.stateNode;break;case 30:v=t.stateNode;break;default:v=t.stateNode}typeof f=="function"?t.refCleanup=f(v):f.current=v}}catch(A){mi(t,e,A)}}function Qa(t,e){var f=t.ref,v=t.refCleanup;if(f!==null)if(typeof v=="function")try{v()}catch(A){mi(t,e,A)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(A){mi(t,e,A)}else f.current=null}function Lp(t){var e=t.type,f=t.memoizedProps,v=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":f.autoFocus&&v.focus();break t;case"img":f.src?v.src=f.src:f.srcSet&&(v.srcset=f.srcSet)}}catch(A){mi(t,t.return,A)}}function ch(t,e,f){try{var v=t.stateNode;X1(v,t.type,f,e),v[wi]=e}catch(A){mi(t,t.return,A)}}function Ep(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Oo(t.type)||t.tag===4}function fh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ep(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Oo(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hh(t,e,f){var v=t.tag;if(v===5||v===6)t=t.stateNode,e?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(t,e):(e=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,e.appendChild(t),f=f._reactRootContainer,f!=null||e.onclick!==null||(e.onclick=df));else if(v!==4&&(v===27&&Oo(t.type)&&(f=t.stateNode,e=null),t=t.child,t!==null))for(hh(t,e,f),t=t.sibling;t!==null;)hh(t,e,f),t=t.sibling}function ef(t,e,f){var v=t.tag;if(v===5||v===6)t=t.stateNode,e?f.insertBefore(t,e):f.appendChild(t);else if(v!==4&&(v===27&&Oo(t.type)&&(f=t.stateNode),t=t.child,t!==null))for(ef(t,e,f),t=t.sibling;t!==null;)ef(t,e,f),t=t.sibling}function kp(t){var e=t.stateNode,f=t.memoizedProps;try{for(var v=t.type,A=e.attributes;A.length;)e.removeAttributeNode(A[0]);Ln(e,v,f),e[ci]=t,e[wi]=f}catch(L){mi(t,t.return,L)}}var js=!1,Ji=!1,dh=!1,Np=typeof WeakSet=="function"?WeakSet:Set,bn=null;function A1(t,e){if(t=t.containerInfo,Bh=_f,t=Sn(t),fn(t)){if("selectionStart"in t)var f={start:t.selectionStart,end:t.selectionEnd};else t:{f=(f=t.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var A=v.anchorOffset,L=v.focusNode;v=v.focusOffset;try{f.nodeType,L.nodeType}catch{f=null;break t}var Z=0,ct=-1,Ct=-1,Ut=0,Zt=0,ee=t,Yt=null;e:for(;;){for(var Xt;ee!==f||A!==0&&ee.nodeType!==3||(ct=Z+A),ee!==L||v!==0&&ee.nodeType!==3||(Ct=Z+v),ee.nodeType===3&&(Z+=ee.nodeValue.length),(Xt=ee.firstChild)!==null;)Yt=ee,ee=Xt;for(;;){if(ee===t)break e;if(Yt===f&&++Ut===A&&(ct=Z),Yt===L&&++Zt===v&&(Ct=Z),(Xt=ee.nextSibling)!==null)break;ee=Yt,Yt=ee.parentNode}ee=Xt}f=ct===-1||Ct===-1?null:{start:ct,end:Ct}}else f=null}f=f||{start:0,end:0}}else f=null;for(Fh={focusedElem:t,selectionRange:f},_f=!1,bn=e;bn!==null;)if(e=bn,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,bn=t;else for(;bn!==null;){switch(e=bn,L=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&L!==null){t=void 0,f=e,A=L.memoizedProps,L=L.memoizedState,v=f.stateNode;try{var Te=bl(f.type,A,f.elementType===f.type);t=v.getSnapshotBeforeUpdate(Te,L),v.__reactInternalSnapshotBeforeUpdate=t}catch(_e){mi(f,f.return,_e)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,f=t.nodeType,f===9)Uh(t);else if(f===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Uh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(y(163))}if(t=e.sibling,t!==null){t.return=e.return,bn=t;break}bn=e.return}}function Dp(t,e,f){var v=f.flags;switch(f.tag){case 0:case 11:case 15:_o(t,f),v&4&&Ku(5,f);break;case 1:if(_o(t,f),v&4)if(t=f.stateNode,e===null)try{t.componentDidMount()}catch(Z){mi(f,f.return,Z)}else{var A=bl(f.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(A,e,t.__reactInternalSnapshotBeforeUpdate)}catch(Z){mi(f,f.return,Z)}}v&64&&Tp(f),v&512&&Qu(f,f.return);break;case 3:if(_o(t,f),v&64&&(t=f.updateQueue,t!==null)){if(e=null,f.child!==null)switch(f.child.tag){case 27:case 5:e=f.child.stateNode;break;case 1:e=f.child.stateNode}try{Ke(t,e)}catch(Z){mi(f,f.return,Z)}}break;case 27:e===null&&v&4&&kp(f);case 26:case 5:_o(t,f),e===null&&v&4&&Lp(f),v&512&&Qu(f,f.return);break;case 12:_o(t,f);break;case 13:_o(t,f),v&4&&Rp(t,f),v&64&&(t=f.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(f=j1.bind(null,f),J1(t,f))));break;case 22:if(v=f.memoizedState!==null||js,!v){e=e!==null&&e.memoizedState!==null||Ji,A=js;var L=Ji;js=v,(Ji=e)&&!L?wo(t,f,(f.subtreeFlags&8772)!==0):_o(t,f),js=A,Ji=L}break;case 30:break;default:_o(t,f)}}function Mp(t){var e=t.alternate;e!==null&&(t.alternate=null,Mp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Gn(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ei=null,or=!1;function Rs(t,e,f){for(f=f.child;f!==null;)jp(t,e,f),f=f.sibling}function jp(t,e,f){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount($t,f)}catch{}switch(f.tag){case 26:Ji||Qa(f,e),Rs(t,e,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Ji||Qa(f,e);var v=Ei,A=or;Oo(f.type)&&(Ei=f.stateNode,or=!1),Rs(t,e,f),sc(f.stateNode),Ei=v,or=A;break;case 5:Ji||Qa(f,e);case 6:if(v=Ei,A=or,Ei=null,Rs(t,e,f),Ei=v,or=A,Ei!==null)if(or)try{(Ei.nodeType===9?Ei.body:Ei.nodeName==="HTML"?Ei.ownerDocument.body:Ei).removeChild(f.stateNode)}catch(L){mi(f,e,L)}else try{Ei.removeChild(f.stateNode)}catch(L){mi(f,e,L)}break;case 18:Ei!==null&&(or?(t=Ei,xg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,f.stateNode),pc(t)):xg(Ei,f.stateNode));break;case 4:v=Ei,A=or,Ei=f.stateNode.containerInfo,or=!0,Rs(t,e,f),Ei=v,or=A;break;case 0:case 11:case 14:case 15:Ji||bo(2,f,e),Ji||bo(4,f,e),Rs(t,e,f);break;case 1:Ji||(Qa(f,e),v=f.stateNode,typeof v.componentWillUnmount=="function"&&Op(f,e,v)),Rs(t,e,f);break;case 21:Rs(t,e,f);break;case 22:Ji=(v=Ji)||f.memoizedState!==null,Rs(t,e,f),Ji=v;break;default:Rs(t,e,f)}}function Rp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pc(t)}catch(f){mi(e,e.return,f)}}function T1(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Np),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Np),e;default:throw Error(y(435,t.tag))}}function ph(t,e){var f=T1(t);e.forEach(function(v){var A=R1.bind(null,t,v);f.has(v)||(f.add(v),v.then(A,A))})}function wr(t,e){var f=e.deletions;if(f!==null)for(var v=0;v<f.length;v++){var A=f[v],L=t,Z=e,ct=Z;t:for(;ct!==null;){switch(ct.tag){case 27:if(Oo(ct.type)){Ei=ct.stateNode,or=!1;break t}break;case 5:Ei=ct.stateNode,or=!1;break t;case 3:case 4:Ei=ct.stateNode.containerInfo,or=!0;break t}ct=ct.return}if(Ei===null)throw Error(y(160));jp(L,Z,A),Ei=null,or=!1,L=A.alternate,L!==null&&(L.return=null),A.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Pp(e,t),e=e.sibling}var pa=null;function Pp(t,e){var f=t.alternate,v=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wr(e,t),xr(t),v&4&&(bo(3,t,t.return),Ku(3,t),bo(5,t,t.return));break;case 1:wr(e,t),xr(t),v&512&&(Ji||f===null||Qa(f,f.return)),v&64&&js&&(t=t.updateQueue,t!==null&&(v=t.callbacks,v!==null&&(f=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=f===null?v:f.concat(v))));break;case 26:var A=pa;if(wr(e,t),xr(t),v&512&&(Ji||f===null||Qa(f,f.return)),v&4){var L=f!==null?f.memoizedState:null;if(v=t.memoizedState,f===null)if(v===null)if(t.stateNode===null){t:{v=t.type,f=t.memoizedProps,A=A.ownerDocument||A;e:switch(v){case"title":L=A.getElementsByTagName("title")[0],(!L||L[Xn]||L[ci]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=A.createElement(v),A.head.insertBefore(L,A.querySelector("head > title"))),Ln(L,v,f),L[ci]=t,ri(L),v=L;break t;case"link":var Z=kg("link","href",A).get(v+(f.href||""));if(Z){for(var ct=0;ct<Z.length;ct++)if(L=Z[ct],L.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&L.getAttribute("rel")===(f.rel==null?null:f.rel)&&L.getAttribute("title")===(f.title==null?null:f.title)&&L.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){Z.splice(ct,1);break e}}L=A.createElement(v),Ln(L,v,f),A.head.appendChild(L);break;case"meta":if(Z=kg("meta","content",A).get(v+(f.content||""))){for(ct=0;ct<Z.length;ct++)if(L=Z[ct],L.getAttribute("content")===(f.content==null?null:""+f.content)&&L.getAttribute("name")===(f.name==null?null:f.name)&&L.getAttribute("property")===(f.property==null?null:f.property)&&L.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&L.getAttribute("charset")===(f.charSet==null?null:f.charSet)){Z.splice(ct,1);break e}}L=A.createElement(v),Ln(L,v,f),A.head.appendChild(L);break;default:throw Error(y(468,v))}L[ci]=t,ri(L),v=L}t.stateNode=v}else Ng(A,t.type,t.stateNode);else t.stateNode=Eg(A,v,t.memoizedProps);else L!==v?(L===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):L.count--,v===null?Ng(A,t.type,t.stateNode):Eg(A,v,t.memoizedProps)):v===null&&t.stateNode!==null&&ch(t,t.memoizedProps,f.memoizedProps)}break;case 27:wr(e,t),xr(t),v&512&&(Ji||f===null||Qa(f,f.return)),f!==null&&v&4&&ch(t,t.memoizedProps,f.memoizedProps);break;case 5:if(wr(e,t),xr(t),v&512&&(Ji||f===null||Qa(f,f.return)),t.flags&32){A=t.stateNode;try{Ca(A,"")}catch(Xt){mi(t,t.return,Xt)}}v&4&&t.stateNode!=null&&(A=t.memoizedProps,ch(t,A,f!==null?f.memoizedProps:A)),v&1024&&(dh=!0);break;case 6:if(wr(e,t),xr(t),v&4){if(t.stateNode===null)throw Error(y(162));v=t.memoizedProps,f=t.stateNode;try{f.nodeValue=v}catch(Xt){mi(t,t.return,Xt)}}break;case 3:if(vf=null,A=pa,pa=gf(e.containerInfo),wr(e,t),pa=A,xr(t),v&4&&f!==null&&f.memoizedState.isDehydrated)try{pc(e.containerInfo)}catch(Xt){mi(t,t.return,Xt)}dh&&(dh=!1,Bp(t));break;case 4:v=pa,pa=gf(t.stateNode.containerInfo),wr(e,t),xr(t),pa=v;break;case 12:wr(e,t),xr(t);break;case 13:wr(e,t),xr(t),t.child.flags&8192&&t.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(_h=$()),v&4&&(v=t.updateQueue,v!==null&&(t.updateQueue=null,ph(t,v)));break;case 22:A=t.memoizedState!==null;var Ct=f!==null&&f.memoizedState!==null,Ut=js,Zt=Ji;if(js=Ut||A,Ji=Zt||Ct,wr(e,t),Ji=Zt,js=Ut,xr(t),v&8192)t:for(e=t.stateNode,e._visibility=A?e._visibility&-2:e._visibility|1,A&&(f===null||Ct||js||Ji||_l(t)),f=null,e=t;;){if(e.tag===5||e.tag===26){if(f===null){Ct=f=e;try{if(L=Ct.stateNode,A)Z=L.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{ct=Ct.stateNode;var ee=Ct.memoizedProps.style,Yt=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;ct.style.display=Yt==null||typeof Yt=="boolean"?"":(""+Yt).trim()}}catch(Xt){mi(Ct,Ct.return,Xt)}}}else if(e.tag===6){if(f===null){Ct=e;try{Ct.stateNode.nodeValue=A?"":Ct.memoizedProps}catch(Xt){mi(Ct,Ct.return,Xt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;f===e&&(f=null),e=e.return}f===e&&(f=null),e.sibling.return=e.return,e=e.sibling}v&4&&(v=t.updateQueue,v!==null&&(f=v.retryQueue,f!==null&&(v.retryQueue=null,ph(t,f))));break;case 19:wr(e,t),xr(t),v&4&&(v=t.updateQueue,v!==null&&(t.updateQueue=null,ph(t,v)));break;case 30:break;case 21:break;default:wr(e,t),xr(t)}}function xr(t){var e=t.flags;if(e&2){try{for(var f,v=t.return;v!==null;){if(Ep(v)){f=v;break}v=v.return}if(f==null)throw Error(y(160));switch(f.tag){case 27:var A=f.stateNode,L=fh(t);ef(t,L,A);break;case 5:var Z=f.stateNode;f.flags&32&&(Ca(Z,""),f.flags&=-33);var ct=fh(t);ef(t,ct,Z);break;case 3:case 4:var Ct=f.stateNode.containerInfo,Ut=fh(t);hh(t,Ut,Ct);break;default:throw Error(y(161))}}catch(Zt){mi(t,t.return,Zt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Bp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Bp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function _o(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Dp(t,e.alternate,e),e=e.sibling}function _l(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:bo(4,e,e.return),_l(e);break;case 1:Qa(e,e.return);var f=e.stateNode;typeof f.componentWillUnmount=="function"&&Op(e,e.return,f),_l(e);break;case 27:sc(e.stateNode);case 26:case 5:Qa(e,e.return),_l(e);break;case 22:e.memoizedState===null&&_l(e);break;case 30:_l(e);break;default:_l(e)}t=t.sibling}}function wo(t,e,f){for(f=f&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var v=e.alternate,A=t,L=e,Z=L.flags;switch(L.tag){case 0:case 11:case 15:wo(A,L,f),Ku(4,L);break;case 1:if(wo(A,L,f),v=L,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Ut){mi(v,v.return,Ut)}if(v=L,A=v.updateQueue,A!==null){var ct=v.stateNode;try{var Ct=A.shared.hiddenCallbacks;if(Ct!==null)for(A.shared.hiddenCallbacks=null,A=0;A<Ct.length;A++)Xe(Ct[A],ct)}catch(Ut){mi(v,v.return,Ut)}}f&&Z&64&&Tp(L),Qu(L,L.return);break;case 27:kp(L);case 26:case 5:wo(A,L,f),f&&v===null&&Z&4&&Lp(L),Qu(L,L.return);break;case 12:wo(A,L,f);break;case 13:wo(A,L,f),f&&Z&4&&Rp(A,L);break;case 22:L.memoizedState===null&&wo(A,L,f),Qu(L,L.return);break;case 30:break;default:wo(A,L,f)}e=e.sibling}}function gh(t,e){var f=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(f=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==f&&(t!=null&&t.refCount++,f!=null&&ol(f))}function mh(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ol(t))}function Ja(t,e,f,v){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fp(t,e,f,v),e=e.sibling}function Fp(t,e,f,v){var A=e.flags;switch(e.tag){case 0:case 11:case 15:Ja(t,e,f,v),A&2048&&Ku(9,e);break;case 1:Ja(t,e,f,v);break;case 3:Ja(t,e,f,v),A&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ol(t)));break;case 12:if(A&2048){Ja(t,e,f,v),t=e.stateNode;try{var L=e.memoizedProps,Z=L.id,ct=L.onPostCommit;typeof ct=="function"&&ct(Z,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Ct){mi(e,e.return,Ct)}}else Ja(t,e,f,v);break;case 13:Ja(t,e,f,v);break;case 23:break;case 22:L=e.stateNode,Z=e.alternate,e.memoizedState!==null?L._visibility&2?Ja(t,e,f,v):Ju(t,e):L._visibility&2?Ja(t,e,f,v):(L._visibility|=2,tu(t,e,f,v,(e.subtreeFlags&10256)!==0)),A&2048&&gh(Z,e);break;case 24:Ja(t,e,f,v),A&2048&&mh(e.alternate,e);break;default:Ja(t,e,f,v)}}function tu(t,e,f,v,A){for(A=A&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var L=t,Z=e,ct=f,Ct=v,Ut=Z.flags;switch(Z.tag){case 0:case 11:case 15:tu(L,Z,ct,Ct,A),Ku(8,Z);break;case 23:break;case 22:var Zt=Z.stateNode;Z.memoizedState!==null?Zt._visibility&2?tu(L,Z,ct,Ct,A):Ju(L,Z):(Zt._visibility|=2,tu(L,Z,ct,Ct,A)),A&&Ut&2048&&gh(Z.alternate,Z);break;case 24:tu(L,Z,ct,Ct,A),A&&Ut&2048&&mh(Z.alternate,Z);break;default:tu(L,Z,ct,Ct,A)}e=e.sibling}}function Ju(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var f=t,v=e,A=v.flags;switch(v.tag){case 22:Ju(f,v),A&2048&&gh(v.alternate,v);break;case 24:Ju(f,v),A&2048&&mh(v.alternate,v);break;default:Ju(f,v)}e=e.sibling}}var $u=8192;function eu(t){if(t.subtreeFlags&$u)for(t=t.child;t!==null;)zp(t),t=t.sibling}function zp(t){switch(t.tag){case 26:eu(t),t.flags&$u&&t.memoizedState!==null&&fm(pa,t.memoizedState,t.memoizedProps);break;case 5:eu(t);break;case 3:case 4:var e=pa;pa=gf(t.stateNode.containerInfo),eu(t),pa=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=$u,$u=16777216,eu(t),$u=e):eu(t));break;default:eu(t)}}function Ip(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function tc(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var f=0;f<e.length;f++){var v=e[f];bn=v,qp(v,t)}Ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Up(t),t=t.sibling}function Up(t){switch(t.tag){case 0:case 11:case 15:tc(t),t.flags&2048&&bo(9,t,t.return);break;case 3:tc(t);break;case 12:tc(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,nf(t)):tc(t);break;default:tc(t)}}function nf(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var f=0;f<e.length;f++){var v=e[f];bn=v,qp(v,t)}Ip(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:bo(8,e,e.return),nf(e);break;case 22:f=e.stateNode,f._visibility&2&&(f._visibility&=-3,nf(e));break;default:nf(e)}t=t.sibling}}function qp(t,e){for(;bn!==null;){var f=bn;switch(f.tag){case 0:case 11:case 15:bo(8,f,e);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var v=f.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:ol(f.memoizedState.cache)}if(v=f.child,v!==null)v.return=f,bn=v;else t:for(f=t;bn!==null;){v=bn;var A=v.sibling,L=v.return;if(Mp(v),v===f){bn=null;break t}if(A!==null){A.return=L,bn=A;break t}bn=L}}}var O1={getCacheForType:function(t){var e=Zi(Ki),f=e.data.get(t);return f===void 0&&(f=t(),e.data.set(t,f)),f}},L1=typeof WeakMap=="function"?WeakMap:Map,si=0,_i=null,Ue=null,Ve=0,oi=0,Sr=null,xo=!1,iu=!1,vh=!1,Ps=0,qi=0,So=0,wl=0,yh=0,qr=0,nu=0,ec=null,lr=null,bh=!1,_h=0,rf=1/0,af=null,Co=null,On=0,Ao=null,ru=null,au=0,wh=0,xh=null,Hp=null,ic=0,Sh=null;function Cr(){if((si&2)!==0&&Ve!==0)return Ve&-Ve;if(st.T!==null){var t=Ts;return t!==0?t:kh()}return cr()}function Yp(){qr===0&&(qr=(Ve&536870912)===0||Ze?Or():536870912);var t=Ur.current;return t!==null&&(t.flags|=32),qr}function Ar(t,e,f){(t===_i&&(oi===2||oi===9)||t.cancelPendingCommit!==null)&&(su(t,0),To(t,Ve,qr,!1)),Yi(t,f),((si&2)===0||t!==_i)&&(t===_i&&((si&2)===0&&(wl|=f),qi===4&&To(t,Ve,qr,!1)),$a(t))}function Xp(t,e,f){if((si&6)!==0)throw Error(y(327));var v=!f&&(e&124)===0&&(e&t.expiredLanes)===0||un(t,e),A=v?N1(t,e):Th(t,e,!0),L=v;do{if(A===0){iu&&!v&&To(t,e,0,!1);break}else{if(f=t.current.alternate,L&&!E1(f)){A=Th(t,e,!1),L=!1;continue}if(A===2){if(L=e,t.errorRecoveryDisabledLanes&L)var Z=0;else Z=t.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){e=Z;t:{var ct=t;A=ec;var Ct=ct.current.memoizedState.isDehydrated;if(Ct&&(su(ct,Z).flags|=256),Z=Th(ct,Z,!1),Z!==2){if(vh&&!Ct){ct.errorRecoveryDisabledLanes|=L,wl|=L,A=4;break t}L=lr,lr=A,L!==null&&(lr===null?lr=L:lr.push.apply(lr,L))}A=Z}if(L=!1,A!==2)continue}}if(A===1){su(t,0),To(t,e,0,!0);break}t:{switch(v=t,L=A,L){case 0:case 1:throw Error(y(345));case 4:if((e&4194048)!==e)break;case 6:To(v,e,qr,!xo);break t;case 2:lr=null;break;case 3:case 5:break;default:throw Error(y(329))}if((e&62914560)===e&&(A=_h+300-$(),10<A)){if(To(v,e,qr,!xo),Me(v,0,!0)!==0)break t;v.timeoutHandle=_g(Gp.bind(null,v,f,lr,af,bh,e,qr,wl,nu,xo,L,2,-0,0),A);break t}Gp(v,f,lr,af,bh,e,qr,wl,nu,xo,L,0,-0,0)}}break}while(!0);$a(t)}function Gp(t,e,f,v,A,L,Z,ct,Ct,Ut,Zt,ee,Yt,Xt){if(t.timeoutHandle=-1,ee=e.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(uc={stylesheets:null,count:0,unsuspend:cm},zp(e),ee=hm(),ee!==null)){t.cancelPendingCommit=ee($p.bind(null,t,e,L,f,v,A,Z,ct,Ct,Zt,1,Yt,Xt)),To(t,L,Z,!Ut);return}$p(t,e,L,f,v,A,Z,ct,Ct)}function E1(t){for(var e=t;;){var f=e.tag;if((f===0||f===11||f===15)&&e.flags&16384&&(f=e.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var v=0;v<f.length;v++){var A=f[v],L=A.getSnapshot;A=A.value;try{if(!an(L(),A))return!1}catch{return!1}}if(f=e.child,e.subtreeFlags&16384&&f!==null)f.return=e,e=f;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function To(t,e,f,v){e&=~yh,e&=~wl,t.suspendedLanes|=e,t.pingedLanes&=~e,v&&(t.warmLanes|=e),v=t.expirationTimes;for(var A=e;0<A;){var L=31-ie(A),Z=1<<L;v[L]=-1,A&=~Z}f!==0&&Oe(t,f,e)}function sf(){return(si&6)===0?(nc(0),!1):!0}function Ch(){if(Ue!==null){if(oi===0)var t=Ue.return;else t=Ue,la=on=null,Gl(t),Jl=null,Vu=0,t=Ue;for(;t!==null;)Ap(t.alternate,t),t=t.return;Ue=null}}function su(t,e){var f=t.timeoutHandle;f!==-1&&(t.timeoutHandle=-1,V1(f)),f=t.cancelPendingCommit,f!==null&&(t.cancelPendingCommit=null,f()),Ch(),_i=t,Ue=f=Rr(t.current,null),Ve=e,oi=0,Sr=null,xo=!1,iu=un(t,e),vh=!1,nu=qr=yh=wl=So=qi=0,lr=ec=null,bh=!1,(e&8)!==0&&(e|=e&32);var v=t.entangledLanes;if(v!==0)for(t=t.entanglements,v&=e;0<v;){var A=31-ie(v),L=1<<A;e|=t[A],v&=~L}return Ps=e,nr(),f}function Vp(t,e){be=null,st.H=Gc,e===nt||e===lt?(e=Mt(),oi=3):e===at?(e=Mt(),oi=4):oi=e===fp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Sr=e,Ue===null&&(qi=1,Qc(t,Be(e,t.current)))}function Wp(){var t=st.H;return st.H=Gc,t===null?Gc:t}function Zp(){var t=st.A;return st.A=O1,t}function Ah(){qi=4,xo||(Ve&4194048)!==Ve&&Ur.current!==null||(iu=!0),(So&134217727)===0&&(wl&134217727)===0||_i===null||To(_i,Ve,qr,!1)}function Th(t,e,f){var v=si;si|=2;var A=Wp(),L=Zp();(_i!==t||Ve!==e)&&(af=null,su(t,e)),e=!1;var Z=qi;t:do try{if(oi!==0&&Ue!==null){var ct=Ue,Ct=Sr;switch(oi){case 8:Ch(),Z=6;break t;case 3:case 2:case 9:case 6:Ur.current===null&&(e=!0);var Ut=oi;if(oi=0,Sr=null,ou(t,ct,Ct,Ut),f&&iu){Z=0;break t}break;default:Ut=oi,oi=0,Sr=null,ou(t,ct,Ct,Ut)}}k1(),Z=qi;break}catch(Zt){Vp(t,Zt)}while(!0);return e&&t.shellSuspendCounter++,la=on=null,si=v,st.H=A,st.A=L,Ue===null&&(_i=null,Ve=0,nr()),Z}function k1(){for(;Ue!==null;)Kp(Ue)}function N1(t,e){var f=si;si|=2;var v=Wp(),A=Zp();_i!==t||Ve!==e?(af=null,rf=$()+500,su(t,e)):iu=un(t,e);t:do try{if(oi!==0&&Ue!==null){e=Ue;var L=Sr;e:switch(oi){case 1:oi=0,Sr=null,ou(t,e,L,1);break;case 2:case 9:if(yt(L)){oi=0,Sr=null,Qp(e);break}e=function(){oi!==2&&oi!==9||_i!==t||(oi=7),$a(t)},L.then(e,e);break t;case 3:oi=7;break t;case 4:oi=5;break t;case 7:yt(L)?(oi=0,Sr=null,Qp(e)):(oi=0,Sr=null,ou(t,e,L,7));break;case 5:var Z=null;switch(Ue.tag){case 26:Z=Ue.memoizedState;case 5:case 27:var ct=Ue;if(!Z||Dg(Z)){oi=0,Sr=null;var Ct=ct.sibling;if(Ct!==null)Ue=Ct;else{var Ut=ct.return;Ut!==null?(Ue=Ut,of(Ut)):Ue=null}break e}}oi=0,Sr=null,ou(t,e,L,5);break;case 6:oi=0,Sr=null,ou(t,e,L,6);break;case 8:Ch(),qi=6;break t;default:throw Error(y(462))}}D1();break}catch(Zt){Vp(t,Zt)}while(!0);return la=on=null,st.H=v,st.A=A,si=f,Ue!==null?0:(_i=null,Ve=0,nr(),qi)}function D1(){for(;Ue!==null&&!rt();)Kp(Ue)}function Kp(t){var e=Sp(t.alternate,t,Ps);t.memoizedProps=t.pendingProps,e===null?of(t):Ue=e}function Qp(t){var e=t,f=e.alternate;switch(e.tag){case 15:case 0:e=vp(f,e,e.pendingProps,e.type,void 0,Ve);break;case 11:e=vp(f,e,e.pendingProps,e.type.render,e.ref,Ve);break;case 5:Gl(e);default:Ap(f,e),e=Ue=nl(e,Ps),e=Sp(f,e,Ps)}t.memoizedProps=t.pendingProps,e===null?of(t):Ue=e}function ou(t,e,f,v){la=on=null,Gl(e),Jl=null,Vu=0;var A=e.return;try{if(w1(t,A,e,f,Ve)){qi=1,Qc(t,Be(f,t.current)),Ue=null;return}}catch(L){if(A!==null)throw Ue=A,L;qi=1,Qc(t,Be(f,t.current)),Ue=null;return}e.flags&32768?(Ze||v===1?t=!0:iu||(Ve&536870912)!==0?t=!1:(xo=t=!0,(v===2||v===9||v===3||v===6)&&(v=Ur.current,v!==null&&v.tag===13&&(v.flags|=16384))),Jp(e,t)):of(e)}function of(t){var e=t;do{if((e.flags&32768)!==0){Jp(e,xo);return}t=e.return;var f=S1(e.alternate,e,Ps);if(f!==null){Ue=f;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);qi===0&&(qi=5)}function Jp(t,e){do{var f=C1(t.alternate,t);if(f!==null){f.flags&=32767,Ue=f;return}if(f=t.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!e&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=f}while(t!==null);qi=6,Ue=null}function $p(t,e,f,v,A,L,Z,ct,Ct){t.cancelPendingCommit=null;do lf();while(On!==0);if((si&6)!==0)throw Error(y(327));if(e!==null){if(e===t.current)throw Error(y(177));if(L=e.lanes|e.childLanes,L|=Mi,ni(t,f,L,Z,ct,Ct),t===_i&&(Ue=_i=null,Ve=0),ru=e,Ao=t,au=f,wh=L,xh=A,Hp=v,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,P1(St,function(){return rg(),null})):(t.callbackNode=null,t.callbackPriority=0),v=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||v){v=st.T,st.T=null,A=ut.p,ut.p=2,Z=si,si|=4;try{A1(t,e,f)}finally{si=Z,ut.p=A,st.T=v}}On=1,tg(),eg(),ig()}}function tg(){if(On===1){On=0;var t=Ao,e=ru,f=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||f){f=st.T,st.T=null;var v=ut.p;ut.p=2;var A=si;si|=4;try{Pp(e,t);var L=Fh,Z=Sn(t.containerInfo),ct=L.focusedElem,Ct=L.selectionRange;if(Z!==ct&&ct&&ct.ownerDocument&&ja(ct.ownerDocument.documentElement,ct)){if(Ct!==null&&fn(ct)){var Ut=Ct.start,Zt=Ct.end;if(Zt===void 0&&(Zt=Ut),"selectionStart"in ct)ct.selectionStart=Ut,ct.selectionEnd=Math.min(Zt,ct.value.length);else{var ee=ct.ownerDocument||document,Yt=ee&&ee.defaultView||window;if(Yt.getSelection){var Xt=Yt.getSelection(),Te=ct.textContent.length,_e=Math.min(Ct.start,Te),di=Ct.end===void 0?_e:Math.min(Ct.end,Te);!Xt.extend&&_e>di&&(Z=di,di=_e,_e=Z);var jt=ta(ct,_e),kt=ta(ct,di);if(jt&&kt&&(Xt.rangeCount!==1||Xt.anchorNode!==jt.node||Xt.anchorOffset!==jt.offset||Xt.focusNode!==kt.node||Xt.focusOffset!==kt.offset)){var zt=ee.createRange();zt.setStart(jt.node,jt.offset),Xt.removeAllRanges(),_e>di?(Xt.addRange(zt),Xt.extend(kt.node,kt.offset)):(zt.setEnd(kt.node,kt.offset),Xt.addRange(zt))}}}}for(ee=[],Xt=ct;Xt=Xt.parentNode;)Xt.nodeType===1&&ee.push({element:Xt,left:Xt.scrollLeft,top:Xt.scrollTop});for(typeof ct.focus=="function"&&ct.focus(),ct=0;ct<ee.length;ct++){var Qt=ee[ct];Qt.element.scrollLeft=Qt.left,Qt.element.scrollTop=Qt.top}}_f=!!Bh,Fh=Bh=null}finally{si=A,ut.p=v,st.T=f}}t.current=e,On=2}}function eg(){if(On===2){On=0;var t=Ao,e=ru,f=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||f){f=st.T,st.T=null;var v=ut.p;ut.p=2;var A=si;si|=4;try{Dp(t,e.alternate,e)}finally{si=A,ut.p=v,st.T=f}}On=3}}function ig(){if(On===4||On===3){On=0,X();var t=Ao,e=ru,f=au,v=Hp;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?On=5:(On=0,ru=Ao=null,ng(t,t.pendingLanes));var A=t.pendingLanes;if(A===0&&(Co=null),Xi(f),e=e.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot($t,e,void 0,(e.current.flags&128)===128)}catch{}if(v!==null){e=st.T,A=ut.p,ut.p=2,st.T=null;try{for(var L=t.onRecoverableError,Z=0;Z<v.length;Z++){var ct=v[Z];L(ct.value,{componentStack:ct.stack})}}finally{st.T=e,ut.p=A}}(au&3)!==0&&lf(),$a(t),A=t.pendingLanes,(f&4194090)!==0&&(A&42)!==0?t===Sh?ic++:(ic=0,Sh=t):ic=0,nc(0)}}function ng(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ol(e)))}function lf(t){return tg(),eg(),ig(),rg()}function rg(){if(On!==5)return!1;var t=Ao,e=wh;wh=0;var f=Xi(au),v=st.T,A=ut.p;try{ut.p=32>f?32:f,st.T=null,f=xh,xh=null;var L=Ao,Z=au;if(On=0,ru=Ao=null,au=0,(si&6)!==0)throw Error(y(331));var ct=si;if(si|=4,Up(L.current),Fp(L,L.current,Z,f),si=ct,nc(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot($t,L)}catch{}return!0}finally{ut.p=A,st.T=v,ng(t,e)}}function ag(t,e,f){e=Be(f,e),e=eh(t.stateNode,e,2),t=te(t,e,2),t!==null&&(Yi(t,2),$a(t))}function mi(t,e,f){if(t.tag===3)ag(t,t,f);else for(;e!==null;){if(e.tag===3){ag(e,t,f);break}else if(e.tag===1){var v=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Co===null||!Co.has(v))){t=Be(f,t),f=up(2),v=te(e,f,2),v!==null&&(cp(f,v,e,t),Yi(v,2),$a(v));break}}e=e.return}}function Oh(t,e,f){var v=t.pingCache;if(v===null){v=t.pingCache=new L1;var A=new Set;v.set(e,A)}else A=v.get(e),A===void 0&&(A=new Set,v.set(e,A));A.has(f)||(vh=!0,A.add(f),t=M1.bind(null,t,e,f),e.then(t,t))}function M1(t,e,f){var v=t.pingCache;v!==null&&v.delete(e),t.pingedLanes|=t.suspendedLanes&f,t.warmLanes&=~f,_i===t&&(Ve&f)===f&&(qi===4||qi===3&&(Ve&62914560)===Ve&&300>$()-_h?(si&2)===0&&su(t,0):yh|=f,nu===Ve&&(nu=0)),$a(t)}function sg(t,e){e===0&&(e=pi()),t=ia(t,e),t!==null&&(Yi(t,e),$a(t))}function j1(t){var e=t.memoizedState,f=0;e!==null&&(f=e.retryLane),sg(t,f)}function R1(t,e){var f=0;switch(t.tag){case 13:var v=t.stateNode,A=t.memoizedState;A!==null&&(f=A.retryLane);break;case 19:v=t.stateNode;break;case 22:v=t.stateNode._retryCache;break;default:throw Error(y(314))}v!==null&&v.delete(e),sg(t,f)}function P1(t,e){return xt(t,e)}var uf=null,lu=null,Lh=!1,cf=!1,Eh=!1,xl=0;function $a(t){t!==lu&&t.next===null&&(lu===null?uf=lu=t:lu=lu.next=t),cf=!0,Lh||(Lh=!0,F1())}function nc(t,e){if(!Eh&&cf){Eh=!0;do for(var f=!1,v=uf;v!==null;){if(t!==0){var A=v.pendingLanes;if(A===0)var L=0;else{var Z=v.suspendedLanes,ct=v.pingedLanes;L=(1<<31-ie(42|t)+1)-1,L&=A&~(Z&~ct),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(f=!0,cg(v,L))}else L=Ve,L=Me(v,v===_i?L:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(L&3)===0||un(v,L)||(f=!0,cg(v,L));v=v.next}while(f);Eh=!1}}function B1(){og()}function og(){cf=Lh=!1;var t=0;xl!==0&&(G1()&&(t=xl),xl=0);for(var e=$(),f=null,v=uf;v!==null;){var A=v.next,L=lg(v,e);L===0?(v.next=null,f===null?uf=A:f.next=A,A===null&&(lu=f)):(f=v,(t!==0||(L&3)!==0)&&(cf=!0)),v=A}nc(t)}function lg(t,e){for(var f=t.suspendedLanes,v=t.pingedLanes,A=t.expirationTimes,L=t.pendingLanes&-62914561;0<L;){var Z=31-ie(L),ct=1<<Z,Ct=A[Z];Ct===-1?((ct&f)===0||(ct&v)!==0)&&(A[Z]=Ye(ct,e)):Ct<=e&&(t.expiredLanes|=ct),L&=~ct}if(e=_i,f=Ve,f=Me(t,t===e?f:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),v=t.callbackNode,f===0||t===e&&(oi===2||oi===9)||t.cancelPendingCommit!==null)return v!==null&&v!==null&&j(v),t.callbackNode=null,t.callbackPriority=0;if((f&3)===0||un(t,f)){if(e=f&-f,e===t.callbackPriority)return e;switch(v!==null&&j(v),Xi(f)){case 2:case 8:f=_t;break;case 32:f=St;break;case 268435456:f=Lt;break;default:f=St}return v=ug.bind(null,t),f=xt(f,v),t.callbackPriority=e,t.callbackNode=f,e}return v!==null&&v!==null&&j(v),t.callbackPriority=2,t.callbackNode=null,2}function ug(t,e){if(On!==0&&On!==5)return t.callbackNode=null,t.callbackPriority=0,null;var f=t.callbackNode;if(lf()&&t.callbackNode!==f)return null;var v=Ve;return v=Me(t,t===_i?v:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),v===0?null:(Xp(t,v,e),lg(t,$()),t.callbackNode!=null&&t.callbackNode===f?ug.bind(null,t):null)}function cg(t,e){if(lf())return null;Xp(t,e,!0)}function F1(){W1(function(){(si&6)!==0?xt(ot,B1):og()})}function kh(){return xl===0&&(xl=Or()),xl}function fg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zr(""+t)}function hg(t,e){var f=e.ownerDocument.createElement("input");return f.name=e.name,f.value=e.value,t.id&&f.setAttribute("form",t.id),e.parentNode.insertBefore(f,e),t=new FormData(t),f.parentNode.removeChild(f),t}function z1(t,e,f,v,A){if(e==="submit"&&f&&f.stateNode===A){var L=fg((A[wi]||null).action),Z=v.submitter;Z&&(e=(e=Z[wi]||null)?fg(e.formAction):Z.getAttribute("formAction"),e!==null&&(L=e,Z=null));var ct=new Oa("action","action",null,v,A);t.push({event:ct,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(xl!==0){var Ct=Z?hg(A,Z):new FormData(A);Ir(f,{pending:!0,data:Ct,method:A.method,action:L},null,Ct)}}else typeof L=="function"&&(ct.preventDefault(),Ct=Z?hg(A,Z):new FormData(A),Ir(f,{pending:!0,data:Ct,method:A.method,action:L},L,Ct))},currentTarget:A}]})}}for(var Nh=0;Nh<_s.length;Nh++){var Dh=_s[Nh],I1=Dh.toLowerCase(),U1=Dh[0].toUpperCase()+Dh.slice(1);Oi(I1,"on"+U1)}Oi(ao,"onAnimationEnd"),Oi(Pa,"onAnimationIteration"),Oi(Ba,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Fa,"onTransitionRun"),Oi(bs,"onTransitionStart"),Oi(so,"onTransitionCancel"),Oi(za,"onTransitionEnd"),fr("onMouseEnter",["mouseout","mouseover"]),fr("onMouseLeave",["mouseout","mouseover"]),fr("onPointerEnter",["pointerout","pointerover"]),fr("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function dg(t,e){e=(e&4)!==0;for(var f=0;f<t.length;f++){var v=t[f],A=v.event;v=v.listeners;t:{var L=void 0;if(e)for(var Z=v.length-1;0<=Z;Z--){var ct=v[Z],Ct=ct.instance,Ut=ct.currentTarget;if(ct=ct.listener,Ct!==L&&A.isPropagationStopped())break t;L=ct,A.currentTarget=Ut;try{L(A)}catch(Zt){Kc(Zt)}A.currentTarget=null,L=Ct}else for(Z=0;Z<v.length;Z++){if(ct=v[Z],Ct=ct.instance,Ut=ct.currentTarget,ct=ct.listener,Ct!==L&&A.isPropagationStopped())break t;L=ct,A.currentTarget=Ut;try{L(A)}catch(Zt){Kc(Zt)}A.currentTarget=null,L=Ct}}}}function qe(t,e){var f=e[ki];f===void 0&&(f=e[ki]=new Set);var v=t+"__bubble";f.has(v)||(pg(e,t,2,!1),f.add(v))}function Mh(t,e,f){var v=0;e&&(v|=4),pg(f,t,v,e)}var ff="_reactListening"+Math.random().toString(36).slice(2);function jh(t){if(!t[ff]){t[ff]=!0,wa.forEach(function(f){f!=="selectionchange"&&(q1.has(f)||Mh(f,!1,t),Mh(f,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ff]||(e[ff]=!0,Mh("selectionchange",!1,e))}}function pg(t,e,f,v){switch(Fg(e)){case 2:var A=gm;break;case 8:A=mm;break;default:A=Wh}f=A.bind(null,e,f,t),A=void 0,!Gs||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(A=!0),v?A!==void 0?t.addEventListener(e,f,{capture:!0,passive:A}):t.addEventListener(e,f,!0):A!==void 0?t.addEventListener(e,f,{passive:A}):t.addEventListener(e,f,!1)}function Rh(t,e,f,v,A){var L=v;if((e&1)===0&&(e&2)===0&&v!==null)t:for(;;){if(v===null)return;var Z=v.tag;if(Z===3||Z===4){var ct=v.stateNode.containerInfo;if(ct===A)break;if(Z===4)for(Z=v.return;Z!==null;){var Ct=Z.tag;if((Ct===3||Ct===4)&&Z.stateNode.containerInfo===A)return;Z=Z.return}for(;ct!==null;){if(Z=pn(ct),Z===null)return;if(Ct=Z.tag,Ct===5||Ct===6||Ct===26||Ct===27){v=L=Z;continue t}ct=ct.parentNode}}v=v.return}jl(function(){var Ut=L,Zt=nn(f),ee=[];t:{var Yt=ea.get(t);if(Yt!==void 0){var Xt=Oa,Te=t;switch(t){case"keypress":if(Ta(f)===0)break t;case"keydown":case"keyup":Xt=to;break;case"focusin":Te="focus",Xt=hs;break;case"focusout":Te="blur",Xt=hs;break;case"beforeblur":case"afterblur":Xt=hs;break;case"click":if(f.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xt=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xt=Ea;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xt=$o;break;case ao:case Pa:case Ba:Xt=Lu;break;case za:Xt=et;break;case"scroll":case"scrollend":Xt=Pl;break;case"wheel":Xt=Tt;break;case"copy":case"cut":case"paste":Xt=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xt=eo;break;case"toggle":case"beforetoggle":Xt=Vt}var _e=(e&4)!==0,di=!_e&&(t==="scroll"||t==="scrollend"),jt=_e?Yt!==null?Yt+"Capture":null:Yt;_e=[];for(var kt=Ut,zt;kt!==null;){var Qt=kt;if(zt=Qt.stateNode,Qt=Qt.tag,Qt!==5&&Qt!==26&&Qt!==27||zt===null||jt===null||(Qt=Dn(kt,jt),Qt!=null&&_e.push(ac(kt,Qt,zt))),di)break;kt=kt.return}0<_e.length&&(Yt=new Xt(Yt,Te,null,f,Zt),ee.push({event:Yt,listeners:_e}))}}if((e&7)===0){t:{if(Yt=t==="mouseover"||t==="pointerover",Xt=t==="mouseout"||t==="pointerout",Yt&&f!==Xs&&(Te=f.relatedTarget||f.fromElement)&&(pn(Te)||Te[Gi]))break t;if((Xt||Yt)&&(Yt=Zt.window===Zt?Zt:(Yt=Zt.ownerDocument)?Yt.defaultView||Yt.parentWindow:window,Xt?(Te=f.relatedTarget||f.toElement,Xt=Ut,Te=Te?pn(Te):null,Te!==null&&(di=b(Te),_e=Te.tag,Te!==di||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(Xt=null,Te=Ut),Xt!==Te)){if(_e=Dr,Qt="onMouseLeave",jt="onMouseEnter",kt="mouse",(t==="pointerout"||t==="pointerover")&&(_e=eo,Qt="onPointerLeave",jt="onPointerEnter",kt="pointer"),di=Xt==null?Yt:kn(Xt),zt=Te==null?Yt:kn(Te),Yt=new _e(Qt,kt+"leave",Xt,f,Zt),Yt.target=di,Yt.relatedTarget=zt,Qt=null,pn(Zt)===Ut&&(_e=new _e(jt,kt+"enter",Te,f,Zt),_e.target=zt,_e.relatedTarget=di,Qt=_e),di=Qt,Xt&&Te)e:{for(_e=Xt,jt=Te,kt=0,zt=_e;zt;zt=uu(zt))kt++;for(zt=0,Qt=jt;Qt;Qt=uu(Qt))zt++;for(;0<kt-zt;)_e=uu(_e),kt--;for(;0<zt-kt;)jt=uu(jt),zt--;for(;kt--;){if(_e===jt||jt!==null&&_e===jt.alternate)break e;_e=uu(_e),jt=uu(jt)}_e=null}else _e=null;Xt!==null&&gg(ee,Yt,Xt,_e,!1),Te!==null&&di!==null&&gg(ee,di,Te,_e,!0)}}t:{if(Yt=Ut?kn(Ut):window,Xt=Yt.nodeName&&Yt.nodeName.toLowerCase(),Xt==="select"||Xt==="input"&&Yt.type==="file")var he=no;else if(gr(Yt))if(gs)he=Fl;else{he=Nu;var ze=Mn}else Xt=Yt.nodeName,!Xt||Xt.toLowerCase()!=="input"||Yt.type!=="checkbox"&&Yt.type!=="radio"?Ut&&Vo(Ut.elementType)&&(he=no):he=el;if(he&&(he=he(t,Ut))){tl(ee,he,f,Zt);break t}ze&&ze(t,Yt,Ut),t==="focusout"&&Ut&&Yt.type==="number"&&Ut.memoizedProps.value!=null&&Yo(Yt,"number",Yt.value)}switch(ze=Ut?kn(Ut):window,t){case"focusin":(gr(ze)||ze.contentEditable==="true")&&(jn=ze,mr=Ut,Mr=null);break;case"focusout":Mr=mr=jn=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,Ti(ee,f,Zt);break;case"selectionchange":if(Ra)break;case"keydown":case"keyup":Ti(ee,f,Zt)}var ye;if(ue)t:{switch(t){case"compositionstart":var we="onCompositionStart";break t;case"compositionend":we="onCompositionEnd";break t;case"compositionupdate":we="onCompositionUpdate";break t}we=void 0}else Di?xi(t,f)&&(we="onCompositionEnd"):t==="keydown"&&f.keyCode===229&&(we="onCompositionStart");we&&(Le&&f.locale!=="ko"&&(Di||we!=="onCompositionStart"?we==="onCompositionEnd"&&Di&&(ye=Rl()):(er=Zt,Zo="value"in er?er.value:er.textContent,Di=!0)),ze=hf(Ut,we),0<ze.length&&(we=new Qs(we,t,null,f,Zt),ee.push({event:we,listeners:ze}),ye?we.data=ye:(ye=Ni(f),ye!==null&&(we.data=ye)))),(ye=ke?rn(t,f):pr(t,f))&&(we=hf(Ut,"onBeforeInput"),0<we.length&&(ze=new Qs("onBeforeInput","beforeinput",null,f,Zt),ee.push({event:ze,listeners:we}),ze.data=ye)),z1(ee,t,Ut,f,Zt)}dg(ee,e)})}function ac(t,e,f){return{instance:t,listener:e,currentTarget:f}}function hf(t,e){for(var f=e+"Capture",v=[];t!==null;){var A=t,L=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||L===null||(A=Dn(t,f),A!=null&&v.unshift(ac(t,A,L)),A=Dn(t,e),A!=null&&v.push(ac(t,A,L))),t.tag===3)return v;t=t.return}return[]}function uu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gg(t,e,f,v,A){for(var L=e._reactName,Z=[];f!==null&&f!==v;){var ct=f,Ct=ct.alternate,Ut=ct.stateNode;if(ct=ct.tag,Ct!==null&&Ct===v)break;ct!==5&&ct!==26&&ct!==27||Ut===null||(Ct=Ut,A?(Ut=Dn(f,L),Ut!=null&&Z.unshift(ac(f,Ut,Ct))):A||(Ut=Dn(f,L),Ut!=null&&Z.push(ac(f,Ut,Ct)))),f=f.return}Z.length!==0&&t.push({event:e,listeners:Z})}var H1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function mg(t){return(typeof t=="string"?t:""+t).replace(H1,`
`).replace(Y1,"")}function vg(t,e){return e=mg(e),mg(t)===e}function df(){}function hi(t,e,f,v,A,L){switch(f){case"children":typeof v=="string"?e==="body"||e==="textarea"&&v===""||Ca(t,v):(typeof v=="number"||typeof v=="bigint")&&e!=="body"&&Ca(t,""+v);break;case"className":us(t,"class",v);break;case"tabIndex":us(t,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":us(t,f,v);break;case"style":Ml(t,v,L);break;case"data":if(e!=="object"){us(t,"data",v);break}case"src":case"href":if(v===""&&(e!=="a"||f!=="href")){t.removeAttribute(f);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){t.removeAttribute(f);break}v=Zr(""+v),t.setAttribute(f,v);break;case"action":case"formAction":if(typeof v=="function"){t.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(f==="formAction"?(e!=="input"&&hi(t,e,"name",A.name,A,null),hi(t,e,"formEncType",A.formEncType,A,null),hi(t,e,"formMethod",A.formMethod,A,null),hi(t,e,"formTarget",A.formTarget,A,null)):(hi(t,e,"encType",A.encType,A,null),hi(t,e,"method",A.method,A,null),hi(t,e,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){t.removeAttribute(f);break}v=Zr(""+v),t.setAttribute(f,v);break;case"onClick":v!=null&&(t.onclick=df);break;case"onScroll":v!=null&&qe("scroll",t);break;case"onScrollEnd":v!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(y(61));if(f=v.__html,f!=null){if(A.children!=null)throw Error(y(60));t.innerHTML=f}}break;case"multiple":t.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":t.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){t.removeAttribute("xlink:href");break}f=Zr(""+v),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?t.setAttribute(f,""+v):t.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?t.setAttribute(f,""):t.removeAttribute(f);break;case"capture":case"download":v===!0?t.setAttribute(f,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?t.setAttribute(f,v):t.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?t.setAttribute(f,v):t.removeAttribute(f);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?t.removeAttribute(f):t.setAttribute(f,v);break;case"popover":qe("beforetoggle",t),qe("toggle",t),Xr(t,"popover",v);break;case"xlinkActuate":hr(t,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":hr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":hr(t,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":hr(t,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":hr(t,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":hr(t,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":hr(t,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":hr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":hr(t,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Xr(t,"is",v);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Wr.get(f)||f,Xr(t,f,v))}}function Ph(t,e,f,v,A,L){switch(f){case"style":Ml(t,v,L);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(y(61));if(f=v.__html,f!=null){if(A.children!=null)throw Error(y(60));t.innerHTML=f}}break;case"children":typeof v=="string"?Ca(t,v):(typeof v=="number"||typeof v=="bigint")&&Ca(t,""+v);break;case"onScroll":v!=null&&qe("scroll",t);break;case"onScrollEnd":v!=null&&qe("scrollend",t);break;case"onClick":v!=null&&(t.onclick=df);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ls.hasOwnProperty(f))t:{if(f[0]==="o"&&f[1]==="n"&&(A=f.endsWith("Capture"),e=f.slice(2,A?f.length-7:void 0),L=t[wi]||null,L=L!=null?L[f]:null,typeof L=="function"&&t.removeEventListener(e,L,A),typeof v=="function")){typeof L!="function"&&L!==null&&(f in t?t[f]=null:t.hasAttribute(f)&&t.removeAttribute(f)),t.addEventListener(e,v,A);break t}f in t?t[f]=v:v===!0?t.setAttribute(f,""):Xr(t,f,v)}}}function Ln(t,e,f){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var v=!1,A=!1,L;for(L in f)if(f.hasOwnProperty(L)){var Z=f[L];if(Z!=null)switch(L){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(y(137,e));default:hi(t,e,L,Z,f,null)}}A&&hi(t,e,"srcSet",f.srcSet,f,null),v&&hi(t,e,"src",f.src,f,null);return;case"input":qe("invalid",t);var ct=L=Z=A=null,Ct=null,Ut=null;for(v in f)if(f.hasOwnProperty(v)){var Zt=f[v];if(Zt!=null)switch(v){case"name":A=Zt;break;case"type":Z=Zt;break;case"checked":Ct=Zt;break;case"defaultChecked":Ut=Zt;break;case"value":L=Zt;break;case"defaultValue":ct=Zt;break;case"children":case"dangerouslySetInnerHTML":if(Zt!=null)throw Error(y(137,e));break;default:hi(t,e,v,Zt,f,null)}}Ho(t,L,ct,Ct,Ut,Z,A,!1),Sa(t);return;case"select":qe("invalid",t),v=Z=L=null;for(A in f)if(f.hasOwnProperty(A)&&(ct=f[A],ct!=null))switch(A){case"value":L=ct;break;case"defaultValue":Z=ct;break;case"multiple":v=ct;default:hi(t,e,A,ct,f,null)}e=L,f=Z,t.multiple=!!v,e!=null?Vr(t,!!v,e,!1):f!=null&&Vr(t,!!v,f,!0);return;case"textarea":qe("invalid",t),L=A=v=null;for(Z in f)if(f.hasOwnProperty(Z)&&(ct=f[Z],ct!=null))switch(Z){case"value":v=ct;break;case"defaultValue":A=ct;break;case"children":L=ct;break;case"dangerouslySetInnerHTML":if(ct!=null)throw Error(y(91));break;default:hi(t,e,Z,ct,f,null)}Xo(t,v,A,L),Sa(t);return;case"option":for(Ct in f)if(f.hasOwnProperty(Ct)&&(v=f[Ct],v!=null))switch(Ct){case"selected":t.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:hi(t,e,Ct,v,f,null)}return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(v=0;v<rc.length;v++)qe(rc[v],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ut in f)if(f.hasOwnProperty(Ut)&&(v=f[Ut],v!=null))switch(Ut){case"children":case"dangerouslySetInnerHTML":throw Error(y(137,e));default:hi(t,e,Ut,v,f,null)}return;default:if(Vo(e)){for(Zt in f)f.hasOwnProperty(Zt)&&(v=f[Zt],v!==void 0&&Ph(t,e,Zt,v,f,void 0));return}}for(ct in f)f.hasOwnProperty(ct)&&(v=f[ct],v!=null&&hi(t,e,ct,v,f,null))}function X1(t,e,f,v){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,L=null,Z=null,ct=null,Ct=null,Ut=null,Zt=null;for(Xt in f){var ee=f[Xt];if(f.hasOwnProperty(Xt)&&ee!=null)switch(Xt){case"checked":break;case"value":break;case"defaultValue":Ct=ee;default:v.hasOwnProperty(Xt)||hi(t,e,Xt,null,v,ee)}}for(var Yt in v){var Xt=v[Yt];if(ee=f[Yt],v.hasOwnProperty(Yt)&&(Xt!=null||ee!=null))switch(Yt){case"type":L=Xt;break;case"name":A=Xt;break;case"checked":Ut=Xt;break;case"defaultChecked":Zt=Xt;break;case"value":Z=Xt;break;case"defaultValue":ct=Xt;break;case"children":case"dangerouslySetInnerHTML":if(Xt!=null)throw Error(y(137,e));break;default:Xt!==ee&&hi(t,e,Yt,Xt,v,ee)}}fs(t,Z,ct,Ct,Ut,Zt,L,A);return;case"select":Xt=Z=ct=Yt=null;for(L in f)if(Ct=f[L],f.hasOwnProperty(L)&&Ct!=null)switch(L){case"value":break;case"multiple":Xt=Ct;default:v.hasOwnProperty(L)||hi(t,e,L,null,v,Ct)}for(A in v)if(L=v[A],Ct=f[A],v.hasOwnProperty(A)&&(L!=null||Ct!=null))switch(A){case"value":Yt=L;break;case"defaultValue":ct=L;break;case"multiple":Z=L;default:L!==Ct&&hi(t,e,A,L,v,Ct)}e=ct,f=Z,v=Xt,Yt!=null?Vr(t,!!f,Yt,!1):!!v!=!!f&&(e!=null?Vr(t,!!f,e,!0):Vr(t,!!f,f?[]:"",!1));return;case"textarea":Xt=Yt=null;for(ct in f)if(A=f[ct],f.hasOwnProperty(ct)&&A!=null&&!v.hasOwnProperty(ct))switch(ct){case"value":break;case"children":break;default:hi(t,e,ct,null,v,A)}for(Z in v)if(A=v[Z],L=f[Z],v.hasOwnProperty(Z)&&(A!=null||L!=null))switch(Z){case"value":Yt=A;break;case"defaultValue":Xt=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(y(91));break;default:A!==L&&hi(t,e,Z,A,v,L)}Nl(t,Yt,Xt);return;case"option":for(var Te in f)if(Yt=f[Te],f.hasOwnProperty(Te)&&Yt!=null&&!v.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:hi(t,e,Te,null,v,Yt)}for(Ct in v)if(Yt=v[Ct],Xt=f[Ct],v.hasOwnProperty(Ct)&&Yt!==Xt&&(Yt!=null||Xt!=null))switch(Ct){case"selected":t.selected=Yt&&typeof Yt!="function"&&typeof Yt!="symbol";break;default:hi(t,e,Ct,Yt,v,Xt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in f)Yt=f[_e],f.hasOwnProperty(_e)&&Yt!=null&&!v.hasOwnProperty(_e)&&hi(t,e,_e,null,v,Yt);for(Ut in v)if(Yt=v[Ut],Xt=f[Ut],v.hasOwnProperty(Ut)&&Yt!==Xt&&(Yt!=null||Xt!=null))switch(Ut){case"children":case"dangerouslySetInnerHTML":if(Yt!=null)throw Error(y(137,e));break;default:hi(t,e,Ut,Yt,v,Xt)}return;default:if(Vo(e)){for(var di in f)Yt=f[di],f.hasOwnProperty(di)&&Yt!==void 0&&!v.hasOwnProperty(di)&&Ph(t,e,di,void 0,v,Yt);for(Zt in v)Yt=v[Zt],Xt=f[Zt],!v.hasOwnProperty(Zt)||Yt===Xt||Yt===void 0&&Xt===void 0||Ph(t,e,Zt,Yt,v,Xt);return}}for(var jt in f)Yt=f[jt],f.hasOwnProperty(jt)&&Yt!=null&&!v.hasOwnProperty(jt)&&hi(t,e,jt,null,v,Yt);for(ee in v)Yt=v[ee],Xt=f[ee],!v.hasOwnProperty(ee)||Yt===Xt||Yt==null&&Xt==null||hi(t,e,ee,Yt,v,Xt)}var Bh=null,Fh=null;function pf(t){return t.nodeType===9?t:t.ownerDocument}function yg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function zh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ih=null;function G1(){var t=window.event;return t&&t.type==="popstate"?t===Ih?!1:(Ih=t,!0):(Ih=null,!1)}var _g=typeof setTimeout=="function"?setTimeout:void 0,V1=typeof clearTimeout=="function"?clearTimeout:void 0,wg=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof wg<"u"?function(t){return wg.resolve(null).then(t).catch(Z1)}:_g;function Z1(t){setTimeout(function(){throw t})}function Oo(t){return t==="head"}function xg(t,e){var f=e,v=0,A=0;do{var L=f.nextSibling;if(t.removeChild(f),L&&L.nodeType===8)if(f=L.data,f==="/$"){if(0<v&&8>v){f=v;var Z=t.ownerDocument;if(f&1&&sc(Z.documentElement),f&2&&sc(Z.body),f&4)for(f=Z.head,sc(f),Z=f.firstChild;Z;){var ct=Z.nextSibling,Ct=Z.nodeName;Z[Xn]||Ct==="SCRIPT"||Ct==="STYLE"||Ct==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||f.removeChild(Z),Z=ct}}if(A===0){t.removeChild(L),pc(e);return}A--}else f==="$"||f==="$?"||f==="$!"?A++:v=f.charCodeAt(0)-48;else v=0;f=L}while(f);pc(e)}function Uh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var f=e;switch(e=e.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Uh(f),Gn(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}t.removeChild(f)}}function K1(t,e,f,v){for(;t.nodeType===1;){var A=f;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!v&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(v){if(!t[Xn])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(L=t.getAttribute("rel"),L==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(L!==A.rel||t.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||t.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||t.getAttribute("title")!==(A.title==null?null:A.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(L=t.getAttribute("src"),(L!==(A.src==null?null:A.src)||t.getAttribute("type")!==(A.type==null?null:A.type)||t.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&L&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var L=A.name==null?null:""+A.name;if(A.type==="hidden"&&t.getAttribute("name")===L)return t}else return t;if(t=ga(t.nextSibling),t===null)break}return null}function Q1(t,e,f){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!f||(t=ga(t.nextSibling),t===null))return null;return t}function qh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function J1(t,e){var f=t.ownerDocument;if(t.data!=="$?"||f.readyState==="complete")e();else{var v=function(){e(),f.removeEventListener("DOMContentLoaded",v)};f.addEventListener("DOMContentLoaded",v),t._reactRetry=v}}function ga(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Hh=null;function Sg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var f=t.data;if(f==="$"||f==="$!"||f==="$?"){if(e===0)return t;e--}else f==="/$"&&e++}t=t.previousSibling}return null}function Cg(t,e,f){switch(e=pf(f),t){case"html":if(t=e.documentElement,!t)throw Error(y(452));return t;case"head":if(t=e.head,!t)throw Error(y(453));return t;case"body":if(t=e.body,!t)throw Error(y(454));return t;default:throw Error(y(451))}}function sc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Gn(t)}var Hr=new Map,Ag=new Set;function gf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bs=ut.d;ut.d={f:$1,r:tm,D:em,C:im,L:nm,m:rm,X:sm,S:am,M:om};function $1(){var t=Bs.f(),e=sf();return t||e}function tm(t){var e=gn(t);e!==null&&e.tag===5&&e.type==="form"?vl(e):Bs.r(t)}var cu=typeof document>"u"?null:document;function Tg(t,e,f){var v=cu;if(v&&typeof e=="string"&&e){var A=gi(e);A='link[rel="'+t+'"][href="'+A+'"]',typeof f=="string"&&(A+='[crossorigin="'+f+'"]'),Ag.has(A)||(Ag.add(A),t={rel:t,crossOrigin:f,href:e},v.querySelector(A)===null&&(e=v.createElement("link"),Ln(e,"link",t),ri(e),v.head.appendChild(e)))}}function em(t){Bs.D(t),Tg("dns-prefetch",t,null)}function im(t,e){Bs.C(t,e),Tg("preconnect",t,e)}function nm(t,e,f){Bs.L(t,e,f);var v=cu;if(v&&t&&e){var A='link[rel="preload"][as="'+gi(e)+'"]';e==="image"&&f&&f.imageSrcSet?(A+='[imagesrcset="'+gi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(A+='[imagesizes="'+gi(f.imageSizes)+'"]')):A+='[href="'+gi(t)+'"]';var L=A;switch(e){case"style":L=fu(t);break;case"script":L=hu(t)}Hr.has(L)||(t=h({rel:"preload",href:e==="image"&&f&&f.imageSrcSet?void 0:t,as:e},f),Hr.set(L,t),v.querySelector(A)!==null||e==="style"&&v.querySelector(oc(L))||e==="script"&&v.querySelector(lc(L))||(e=v.createElement("link"),Ln(e,"link",t),ri(e),v.head.appendChild(e)))}}function rm(t,e){Bs.m(t,e);var f=cu;if(f&&t){var v=e&&typeof e.as=="string"?e.as:"script",A='link[rel="modulepreload"][as="'+gi(v)+'"][href="'+gi(t)+'"]',L=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=hu(t)}if(!Hr.has(L)&&(t=h({rel:"modulepreload",href:t},e),Hr.set(L,t),f.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(lc(L)))return}v=f.createElement("link"),Ln(v,"link",t),ri(v),f.head.appendChild(v)}}}function am(t,e,f){Bs.S(t,e,f);var v=cu;if(v&&t){var A=cn(v).hoistableStyles,L=fu(t);e=e||"default";var Z=A.get(L);if(!Z){var ct={loading:0,preload:null};if(Z=v.querySelector(oc(L)))ct.loading=5;else{t=h({rel:"stylesheet",href:t,"data-precedence":e},f),(f=Hr.get(L))&&Yh(t,f);var Ct=Z=v.createElement("link");ri(Ct),Ln(Ct,"link",t),Ct._p=new Promise(function(Ut,Zt){Ct.onload=Ut,Ct.onerror=Zt}),Ct.addEventListener("load",function(){ct.loading|=1}),Ct.addEventListener("error",function(){ct.loading|=2}),ct.loading|=4,mf(Z,e,v)}Z={type:"stylesheet",instance:Z,count:1,state:ct},A.set(L,Z)}}}function sm(t,e){Bs.X(t,e);var f=cu;if(f&&t){var v=cn(f).hoistableScripts,A=hu(t),L=v.get(A);L||(L=f.querySelector(lc(A)),L||(t=h({src:t,async:!0},e),(e=Hr.get(A))&&Xh(t,e),L=f.createElement("script"),ri(L),Ln(L,"link",t),f.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},v.set(A,L))}}function om(t,e){Bs.M(t,e);var f=cu;if(f&&t){var v=cn(f).hoistableScripts,A=hu(t),L=v.get(A);L||(L=f.querySelector(lc(A)),L||(t=h({src:t,async:!0,type:"module"},e),(e=Hr.get(A))&&Xh(t,e),L=f.createElement("script"),ri(L),Ln(L,"link",t),f.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},v.set(A,L))}}function Og(t,e,f,v){var A=(A=V.current)?gf(A):null;if(!A)throw Error(y(446));switch(t){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(e=fu(f.href),f=cn(A).hoistableStyles,v=f.get(e),v||(v={type:"style",instance:null,count:0,state:null},f.set(e,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){t=fu(f.href);var L=cn(A).hoistableStyles,Z=L.get(t);if(Z||(A=A.ownerDocument||A,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(t,Z),(L=A.querySelector(oc(t)))&&!L._p&&(Z.instance=L,Z.state.loading=5),Hr.has(t)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Hr.set(t,f),L||lm(A,t,f,Z.state))),e&&v===null)throw Error(y(528,""));return Z}if(e&&v!==null)throw Error(y(529,""));return null;case"script":return e=f.async,f=f.src,typeof f=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=hu(f),f=cn(A).hoistableScripts,v=f.get(e),v||(v={type:"script",instance:null,count:0,state:null},f.set(e,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(y(444,t))}}function fu(t){return'href="'+gi(t)+'"'}function oc(t){return'link[rel="stylesheet"]['+t+"]"}function Lg(t){return h({},t,{"data-precedence":t.precedence,precedence:null})}function lm(t,e,f,v){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?v.loading=1:(e=t.createElement("link"),v.preload=e,e.addEventListener("load",function(){return v.loading|=1}),e.addEventListener("error",function(){return v.loading|=2}),Ln(e,"link",f),ri(e),t.head.appendChild(e))}function hu(t){return'[src="'+gi(t)+'"]'}function lc(t){return"script[async]"+t}function Eg(t,e,f){if(e.count++,e.instance===null)switch(e.type){case"style":var v=t.querySelector('style[data-href~="'+gi(f.href)+'"]');if(v)return e.instance=v,ri(v),v;var A=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return v=(t.ownerDocument||t).createElement("style"),ri(v),Ln(v,"style",A),mf(v,f.precedence,t),e.instance=v;case"stylesheet":A=fu(f.href);var L=t.querySelector(oc(A));if(L)return e.state.loading|=4,e.instance=L,ri(L),L;v=Lg(f),(A=Hr.get(A))&&Yh(v,A),L=(t.ownerDocument||t).createElement("link"),ri(L);var Z=L;return Z._p=new Promise(function(ct,Ct){Z.onload=ct,Z.onerror=Ct}),Ln(L,"link",v),e.state.loading|=4,mf(L,f.precedence,t),e.instance=L;case"script":return L=hu(f.src),(A=t.querySelector(lc(L)))?(e.instance=A,ri(A),A):(v=f,(A=Hr.get(L))&&(v=h({},f),Xh(v,A)),t=t.ownerDocument||t,A=t.createElement("script"),ri(A),Ln(A,"link",v),t.head.appendChild(A),e.instance=A);case"void":return null;default:throw Error(y(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(v=e.instance,e.state.loading|=4,mf(v,f.precedence,t));return e.instance}function mf(t,e,f){for(var v=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,L=A,Z=0;Z<v.length;Z++){var ct=v[Z];if(ct.dataset.precedence===e)L=ct;else if(L!==A)break}L?L.parentNode.insertBefore(t,L.nextSibling):(e=f.nodeType===9?f.head:f,e.insertBefore(t,e.firstChild))}function Yh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Xh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var vf=null;function kg(t,e,f){if(vf===null){var v=new Map,A=vf=new Map;A.set(f,v)}else A=vf,v=A.get(f),v||(v=new Map,A.set(f,v));if(v.has(t))return v;for(v.set(t,null),f=f.getElementsByTagName(t),A=0;A<f.length;A++){var L=f[A];if(!(L[Xn]||L[ci]||t==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=L.getAttribute(e)||"";Z=t+Z;var ct=v.get(Z);ct?ct.push(L):v.set(Z,[L])}}return v}function Ng(t,e,f){t=t.ownerDocument||t,t.head.insertBefore(f,e==="title"?t.querySelector("head > title"):null)}function um(t,e,f){if(f===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Dg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var uc=null;function cm(){}function fm(t,e,f){if(uc===null)throw Error(y(475));var v=uc;if(e.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var A=fu(f.href),L=t.querySelector(oc(A));if(L){t=L._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(v.count++,v=yf.bind(v),t.then(v,v)),e.state.loading|=4,e.instance=L,ri(L);return}L=t.ownerDocument||t,f=Lg(f),(A=Hr.get(A))&&Yh(f,A),L=L.createElement("link"),ri(L);var Z=L;Z._p=new Promise(function(ct,Ct){Z.onload=ct,Z.onerror=Ct}),Ln(L,"link",f),e.instance=L}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(v.count++,e=yf.bind(v),t.addEventListener("load",e),t.addEventListener("error",e))}}function hm(){if(uc===null)throw Error(y(475));var t=uc;return t.stylesheets&&t.count===0&&Gh(t,t.stylesheets),0<t.count?function(e){var f=setTimeout(function(){if(t.stylesheets&&Gh(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(f)}}:null}function yf(){if(this.count--,this.count===0){if(this.stylesheets)Gh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bf=null;function Gh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bf=new Map,e.forEach(dm,t),bf=null,yf.call(t))}function dm(t,e){if(!(e.state.loading&4)){var f=bf.get(t);if(f)var v=f.get(null);else{f=new Map,bf.set(t,f);for(var A=t.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<A.length;L++){var Z=A[L];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(f.set(Z.dataset.precedence,Z),v=Z)}v&&f.set(null,v)}A=e.instance,Z=A.getAttribute("data-precedence"),L=f.get(Z)||v,L===v&&f.set(null,A),f.set(Z,A),this.count++,v=yf.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),L?L.parentNode.insertBefore(A,L.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(A,t.firstChild)),e.state.loading|=4}}var cc={$$typeof:C,Provider:null,Consumer:null,_currentValue:vt,_currentValue2:vt,_threadCount:0};function pm(t,e,f,v,A,L,Z,ct){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dn(0),this.hiddenUpdates=dn(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=L,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ct,this.incompleteTransitions=new Map}function Mg(t,e,f,v,A,L,Z,ct,Ct,Ut,Zt,ee){return t=new pm(t,e,f,Z,ct,Ct,Ut,ee),e=1,L===!0&&(e|=24),L=vn(3,null,null,e),t.current=L,L.stateNode=t,e=Mu(),e.refCount++,t.pooledCache=e,e.refCount++,L.memoizedState={element:v,isDehydrated:f,cache:e},Et(L),t}function jg(t){return t?(t=sn,t):sn}function Rg(t,e,f,v,A,L){A=jg(A),v.context===null?v.context=A:v.pendingContext=A,v=Wt(e),v.payload={element:f},L=L===void 0?null:L,L!==null&&(v.callback=L),f=te(t,v,e),f!==null&&(Ar(f,t,e),Kt(f,t,e))}function Pg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var f=t.retryLane;t.retryLane=f!==0&&f<e?f:e}}function Vh(t,e){Pg(t,e),(t=t.alternate)&&Pg(t,e)}function Bg(t){if(t.tag===13){var e=ia(t,67108864);e!==null&&Ar(e,t,67108864),Vh(t,67108864)}}var _f=!0;function gm(t,e,f,v){var A=st.T;st.T=null;var L=ut.p;try{ut.p=2,Wh(t,e,f,v)}finally{ut.p=L,st.T=A}}function mm(t,e,f,v){var A=st.T;st.T=null;var L=ut.p;try{ut.p=8,Wh(t,e,f,v)}finally{ut.p=L,st.T=A}}function Wh(t,e,f,v){if(_f){var A=Zh(v);if(A===null)Rh(t,e,v,wf,f),zg(t,v);else if(ym(A,t,e,f,v))v.stopPropagation();else if(zg(t,v),e&4&&-1<vm.indexOf(t)){for(;A!==null;){var L=gn(A);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var Z=De(L.pendingLanes);if(Z!==0){var ct=L;for(ct.pendingLanes|=2,ct.entangledLanes|=2;Z;){var Ct=1<<31-ie(Z);ct.entanglements[1]|=Ct,Z&=~Ct}$a(L),(si&6)===0&&(rf=$()+500,nc(0))}}break;case 13:ct=ia(L,2),ct!==null&&Ar(ct,L,2),sf(),Vh(L,2)}if(L=Zh(v),L===null&&Rh(t,e,v,wf,f),L===A)break;A=L}A!==null&&v.stopPropagation()}else Rh(t,e,v,null,f)}}function Zh(t){return t=nn(t),Kh(t)}var wf=null;function Kh(t){if(wf=null,t=pn(t),t!==null){var e=b(t);if(e===null)t=null;else{var f=e.tag;if(f===13){if(t=S(e),t!==null)return t;t=null}else if(f===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return wf=t,null}function Fg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(K()){case ot:return 2;case _t:return 8;case St:case ft:return 32;case Lt:return 268435456;default:return 32}default:return 32}}var Qh=!1,Lo=null,Eo=null,ko=null,fc=new Map,hc=new Map,No=[],vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zg(t,e){switch(t){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":fc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(e.pointerId)}}function dc(t,e,f,v,A,L){return t===null||t.nativeEvent!==L?(t={blockedOn:e,domEventName:f,eventSystemFlags:v,nativeEvent:L,targetContainers:[A]},e!==null&&(e=gn(e),e!==null&&Bg(e)),t):(t.eventSystemFlags|=v,e=t.targetContainers,A!==null&&e.indexOf(A)===-1&&e.push(A),t)}function ym(t,e,f,v,A){switch(e){case"focusin":return Lo=dc(Lo,t,e,f,v,A),!0;case"dragenter":return Eo=dc(Eo,t,e,f,v,A),!0;case"mouseover":return ko=dc(ko,t,e,f,v,A),!0;case"pointerover":var L=A.pointerId;return fc.set(L,dc(fc.get(L)||null,t,e,f,v,A)),!0;case"gotpointercapture":return L=A.pointerId,hc.set(L,dc(hc.get(L)||null,t,e,f,v,A)),!0}return!1}function Ig(t){var e=pn(t.target);if(e!==null){var f=b(e);if(f!==null){if(e=f.tag,e===13){if(e=S(f),e!==null){t.blockedOn=e,Lr(t.priority,function(){if(f.tag===13){var v=Cr();v=Yr(v);var A=ia(f,v);A!==null&&Ar(A,f,v),Vh(f,v)}});return}}else if(e===3&&f.stateNode.current.memoizedState.isDehydrated){t.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var f=Zh(t.nativeEvent);if(f===null){f=t.nativeEvent;var v=new f.constructor(f.type,f);Xs=v,f.target.dispatchEvent(v),Xs=null}else return e=gn(f),e!==null&&Bg(e),t.blockedOn=f,!1;e.shift()}return!0}function Ug(t,e,f){xf(t)&&f.delete(e)}function bm(){Qh=!1,Lo!==null&&xf(Lo)&&(Lo=null),Eo!==null&&xf(Eo)&&(Eo=null),ko!==null&&xf(ko)&&(ko=null),fc.forEach(Ug),hc.forEach(Ug)}function Sf(t,e){t.blockedOn===e&&(t.blockedOn=null,Qh||(Qh=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,bm)))}var Cf=null;function qg(t){Cf!==t&&(Cf=t,m.unstable_scheduleCallback(m.unstable_NormalPriority,function(){Cf===t&&(Cf=null);for(var e=0;e<t.length;e+=3){var f=t[e],v=t[e+1],A=t[e+2];if(typeof v!="function"){if(Kh(v||f)===null)continue;break}var L=gn(f);L!==null&&(t.splice(e,3),e-=3,Ir(L,{pending:!0,data:A,method:f.method,action:v},v,A))}}))}function pc(t){function e(Ct){return Sf(Ct,t)}Lo!==null&&Sf(Lo,t),Eo!==null&&Sf(Eo,t),ko!==null&&Sf(ko,t),fc.forEach(e),hc.forEach(e);for(var f=0;f<No.length;f++){var v=No[f];v.blockedOn===t&&(v.blockedOn=null)}for(;0<No.length&&(f=No[0],f.blockedOn===null);)Ig(f),f.blockedOn===null&&No.shift();if(f=(t.ownerDocument||t).$$reactFormReplay,f!=null)for(v=0;v<f.length;v+=3){var A=f[v],L=f[v+1],Z=A[wi]||null;if(typeof L=="function")Z||qg(f);else if(Z){var ct=null;if(L&&L.hasAttribute("formAction")){if(A=L,Z=L[wi]||null)ct=Z.formAction;else if(Kh(A)!==null)continue}else ct=Z.action;typeof ct=="function"?f[v+1]=ct:(f.splice(v,3),v-=3),qg(f)}}}function Jh(t){this._internalRoot=t}Af.prototype.render=Jh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(y(409));var f=e.current,v=Cr();Rg(f,v,t,e,null,null)},Af.prototype.unmount=Jh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rg(t.current,2,null,t,null,null),sf(),e[Gi]=null}};function Af(t){this._internalRoot=t}Af.prototype.unstable_scheduleHydration=function(t){if(t){var e=cr();t={blockedOn:null,target:t,priority:e};for(var f=0;f<No.length&&e!==0&&e<No[f].priority;f++);No.splice(f,0,t),f===0&&Ig(t)}};var Hg=s.version;if(Hg!=="19.1.0")throw Error(y(527,Hg,"19.1.0"));ut.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(y(188)):(t=Object.keys(t).join(","),Error(y(268,t)));return t=i(e),t=t!==null?o(t):null,t=t===null?null:t.stateNode,t};var _m={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:st,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{$t=Tf.inject(_m),re=Tf}catch{}}return mc.createRoot=function(t,e){if(!w(t))throw Error(y(299));var f=!1,v="",A=ap,L=sp,Z=op,ct=null;return e!=null&&(e.unstable_strictMode===!0&&(f=!0),e.identifierPrefix!==void 0&&(v=e.identifierPrefix),e.onUncaughtError!==void 0&&(A=e.onUncaughtError),e.onCaughtError!==void 0&&(L=e.onCaughtError),e.onRecoverableError!==void 0&&(Z=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(ct=e.unstable_transitionCallbacks)),e=Mg(t,1,!1,null,null,f,v,A,L,Z,ct,null),t[Gi]=e.current,jh(t),new Jh(e)},mc.hydrateRoot=function(t,e,f){if(!w(t))throw Error(y(299));var v=!1,A="",L=ap,Z=sp,ct=op,Ct=null,Ut=null;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onUncaughtError!==void 0&&(L=f.onUncaughtError),f.onCaughtError!==void 0&&(Z=f.onCaughtError),f.onRecoverableError!==void 0&&(ct=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Ct=f.unstable_transitionCallbacks),f.formState!==void 0&&(Ut=f.formState)),e=Mg(t,1,!0,e,f??null,v,A,L,Z,ct,Ct,Ut),e.context=jg(null),f=e.current,v=Cr(),v=Yr(v),A=Wt(v),A.callback=null,te(f,A,v),f=v,e.current.lanes=f,Yi(e,f),$a(e),t[Gi]=e.current,jh(t),new Af(e)},mc.version="19.1.0",mc}var $g;function Nm(){if($g)return td.exports;$g=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(s){console.error(s)}}return m(),td.exports=km(),td.exports}var Dm=Nm();const Mm=Rd(Dm);var Ht=Pd();const t0=Rd(Ht);var vc={},e0;function jm(){if(e0)return vc;e0=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.parse=S,vc.serialize=o;const m=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,s=/^[\u0021-\u003A\u003C-\u007E]*$/,p=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,y=/^[\u0020-\u003A\u003D-\u007E]*$/,w=Object.prototype.toString,b=(()=>{const a=function(){};return a.prototype=Object.create(null),a})();function S(a,n){const l=new b,d=a.length;if(d<2)return l;const c=(n==null?void 0:n.decode)||h;let g=0;do{const _=a.indexOf("=",g);if(_===-1)break;const C=a.indexOf(";",g),O=C===-1?d:C;if(_>O){g=a.lastIndexOf(";",_-1)+1;continue}const k=u(a,g,_),F=i(a,_,k),z=a.slice(k,F);if(l[z]===void 0){let q=u(a,_+1,O),Q=i(a,O,q);const gt=c(a.slice(q,Q));l[z]=gt}g=O+1}while(g<d);return l}function u(a,n,l){do{const d=a.charCodeAt(n);if(d!==32&&d!==9)return n}while(++n<l);return l}function i(a,n,l){for(;n>l;){const d=a.charCodeAt(--n);if(d!==32&&d!==9)return n+1}return l}function o(a,n,l){const d=(l==null?void 0:l.encode)||encodeURIComponent;if(!m.test(a))throw new TypeError(`argument name is invalid: ${a}`);const c=d(n);if(!s.test(c))throw new TypeError(`argument val is invalid: ${n}`);let g=a+"="+c;if(!l)return g;if(l.maxAge!==void 0){if(!Number.isInteger(l.maxAge))throw new TypeError(`option maxAge is invalid: ${l.maxAge}`);g+="; Max-Age="+l.maxAge}if(l.domain){if(!p.test(l.domain))throw new TypeError(`option domain is invalid: ${l.domain}`);g+="; Domain="+l.domain}if(l.path){if(!y.test(l.path))throw new TypeError(`option path is invalid: ${l.path}`);g+="; Path="+l.path}if(l.expires){if(!r(l.expires)||!Number.isFinite(l.expires.valueOf()))throw new TypeError(`option expires is invalid: ${l.expires}`);g+="; Expires="+l.expires.toUTCString()}if(l.httpOnly&&(g+="; HttpOnly"),l.secure&&(g+="; Secure"),l.partitioned&&(g+="; Partitioned"),l.priority)switch(typeof l.priority=="string"?l.priority.toLowerCase():void 0){case"low":g+="; Priority=Low";break;case"medium":g+="; Priority=Medium";break;case"high":g+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${l.priority}`)}if(l.sameSite)switch(typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite){case!0:case"strict":g+="; SameSite=Strict";break;case"lax":g+="; SameSite=Lax";break;case"none":g+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${l.sameSite}`)}return g}function h(a){if(a.indexOf("%")===-1)return a;try{return decodeURIComponent(a)}catch{return a}}function r(a){return w.call(a)==="[object Date]"}return vc}jm();var i0="popstate";function Rm(m={}){function s(y,w){let{pathname:b,search:S,hash:u}=y.location;return _d("",{pathname:b,search:S,hash:u},w.state&&w.state.usr||null,w.state&&w.state.key||"default")}function p(y,w){return typeof w=="string"?w:Sc(w)}return Bm(s,p,null,m)}function Bi(m,s){if(m===!1||m===null||typeof m>"u")throw new Error(s)}function rs(m,s){if(!m){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Pm(){return Math.random().toString(36).substring(2,10)}function n0(m,s){return{usr:m.state,key:m.key,idx:s}}function _d(m,s,p=null,y){return{pathname:typeof m=="string"?m:m.pathname,search:"",hash:"",...typeof s=="string"?Su(s):s,state:p,key:s&&s.key||y||Pm()}}function Sc({pathname:m="/",search:s="",hash:p=""}){return s&&s!=="?"&&(m+=s.charAt(0)==="?"?s:"?"+s),p&&p!=="#"&&(m+=p.charAt(0)==="#"?p:"#"+p),m}function Su(m){let s={};if(m){let p=m.indexOf("#");p>=0&&(s.hash=m.substring(p),m=m.substring(0,p));let y=m.indexOf("?");y>=0&&(s.search=m.substring(y),m=m.substring(0,y)),m&&(s.pathname=m)}return s}function Bm(m,s,p,y={}){let{window:w=document.defaultView,v5Compat:b=!1}=y,S=w.history,u="POP",i=null,o=h();o==null&&(o=0,S.replaceState({...S.state,idx:o},""));function h(){return(S.state||{idx:null}).idx}function r(){u="POP";let c=h(),g=c==null?null:c-o;o=c,i&&i({action:u,location:d.location,delta:g})}function a(c,g){u="PUSH";let _=_d(d.location,c,g);o=h()+1;let C=n0(_,o),O=d.createHref(_);try{S.pushState(C,"",O)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;w.location.assign(O)}b&&i&&i({action:u,location:d.location,delta:1})}function n(c,g){u="REPLACE";let _=_d(d.location,c,g);o=h();let C=n0(_,o),O=d.createHref(_);S.replaceState(C,"",O),b&&i&&i({action:u,location:d.location,delta:0})}function l(c){return Fm(c)}let d={get action(){return u},get location(){return m(w,S)},listen(c){if(i)throw new Error("A history only accepts one active listener");return w.addEventListener(i0,r),i=c,()=>{w.removeEventListener(i0,r),i=null}},createHref(c){return s(w,c)},createURL:l,encodeLocation(c){let g=l(c);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:a,replace:n,go(c){return S.go(c)}};return d}function Fm(m,s=!1){let p="http://localhost";typeof window<"u"&&(p=window.location.origin!=="null"?window.location.origin:window.location.href),Bi(p,"No window.location.(origin|href) available to create URL");let y=typeof m=="string"?m:Sc(m);return y=y.replace(/ $/,"%20"),!s&&y.startsWith("//")&&(y=p+y),new URL(y,p)}function M0(m,s,p="/"){return zm(m,s,p,!1)}function zm(m,s,p,y){let w=typeof s=="string"?Su(s):s,b=Is(w.pathname||"/",p);if(b==null)return null;let S=j0(m);Im(S);let u=null;for(let i=0;u==null&&i<S.length;++i){let o=Qm(b);u=Zm(S[i],o,y)}return u}function j0(m,s=[],p=[],y=""){let w=(b,S,u)=>{let i={relativePath:u===void 0?b.path||"":u,caseSensitive:b.caseSensitive===!0,childrenIndex:S,route:b};i.relativePath.startsWith("/")&&(Bi(i.relativePath.startsWith(y),`Absolute route path "${i.relativePath}" nested under path "${y}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),i.relativePath=i.relativePath.slice(y.length));let o=zs([y,i.relativePath]),h=p.concat(i);b.children&&b.children.length>0&&(Bi(b.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${o}".`),j0(b.children,s,h,o)),!(b.path==null&&!b.index)&&s.push({path:o,score:Vm(o,b.index),routesMeta:h})};return m.forEach((b,S)=>{var u;if(b.path===""||!((u=b.path)!=null&&u.includes("?")))w(b,S);else for(let i of R0(b.path))w(b,S,i)}),s}function R0(m){let s=m.split("/");if(s.length===0)return[];let[p,...y]=s,w=p.endsWith("?"),b=p.replace(/\?$/,"");if(y.length===0)return w?[b,""]:[b];let S=R0(y.join("/")),u=[];return u.push(...S.map(i=>i===""?b:[b,i].join("/"))),w&&u.push(...S),u.map(i=>m.startsWith("/")&&i===""?"/":i)}function Im(m){m.sort((s,p)=>s.score!==p.score?p.score-s.score:Wm(s.routesMeta.map(y=>y.childrenIndex),p.routesMeta.map(y=>y.childrenIndex)))}var Um=/^:[\w-]+$/,qm=3,Hm=2,Ym=1,Xm=10,Gm=-2,r0=m=>m==="*";function Vm(m,s){let p=m.split("/"),y=p.length;return p.some(r0)&&(y+=Gm),s&&(y+=Hm),p.filter(w=>!r0(w)).reduce((w,b)=>w+(Um.test(b)?qm:b===""?Ym:Xm),y)}function Wm(m,s){return m.length===s.length&&m.slice(0,-1).every((y,w)=>y===s[w])?m[m.length-1]-s[s.length-1]:0}function Zm(m,s,p=!1){let{routesMeta:y}=m,w={},b="/",S=[];for(let u=0;u<y.length;++u){let i=y[u],o=u===y.length-1,h=b==="/"?s:s.slice(b.length)||"/",r=If({path:i.relativePath,caseSensitive:i.caseSensitive,end:o},h),a=i.route;if(!r&&o&&p&&!y[y.length-1].route.index&&(r=If({path:i.relativePath,caseSensitive:i.caseSensitive,end:!1},h)),!r)return null;Object.assign(w,r.params),S.push({params:w,pathname:zs([b,r.pathname]),pathnameBase:e2(zs([b,r.pathnameBase])),route:a}),r.pathnameBase!=="/"&&(b=zs([b,r.pathnameBase]))}return S}function If(m,s){typeof m=="string"&&(m={path:m,caseSensitive:!1,end:!0});let[p,y]=Km(m.path,m.caseSensitive,m.end),w=s.match(p);if(!w)return null;let b=w[0],S=b.replace(/(.)\/+$/,"$1"),u=w.slice(1);return{params:y.reduce((o,{paramName:h,isOptional:r},a)=>{if(h==="*"){let l=u[a]||"";S=b.slice(0,b.length-l.length).replace(/(.)\/+$/,"$1")}const n=u[a];return r&&!n?o[h]=void 0:o[h]=(n||"").replace(/%2F/g,"/"),o},{}),pathname:b,pathnameBase:S,pattern:m}}function Km(m,s=!1,p=!0){rs(m==="*"||!m.endsWith("*")||m.endsWith("/*"),`Route path "${m}" will be treated as if it were "${m.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${m.replace(/\*$/,"/*")}".`);let y=[],w="^"+m.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(S,u,i)=>(y.push({paramName:u,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return m.endsWith("*")?(y.push({paramName:"*"}),w+=m==="*"||m==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):p?w+="\\/*$":m!==""&&m!=="/"&&(w+="(?:(?=\\/|$))"),[new RegExp(w,s?void 0:"i"),y]}function Qm(m){try{return m.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return rs(!1,`The URL path "${m}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),m}}function Is(m,s){if(s==="/")return m;if(!m.toLowerCase().startsWith(s.toLowerCase()))return null;let p=s.endsWith("/")?s.length-1:s.length,y=m.charAt(p);return y&&y!=="/"?null:m.slice(p)||"/"}function Jm(m,s="/"){let{pathname:p,search:y="",hash:w=""}=typeof m=="string"?Su(m):m;return{pathname:p?p.startsWith("/")?p:$m(p,s):s,search:i2(y),hash:n2(w)}}function $m(m,s){let p=s.replace(/\/+$/,"").split("/");return m.split("/").forEach(w=>{w===".."?p.length>1&&p.pop():w!=="."&&p.push(w)}),p.length>1?p.join("/"):"/"}function ad(m,s,p,y){return`Cannot include a '${m}' character in a manually specified \`to.${s}\` field [${JSON.stringify(y)}].  Please separate it out to the \`to.${p}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t2(m){return m.filter((s,p)=>p===0||s.route.path&&s.route.path.length>0)}function P0(m){let s=t2(m);return s.map((p,y)=>y===s.length-1?p.pathname:p.pathnameBase)}function B0(m,s,p,y=!1){let w;typeof m=="string"?w=Su(m):(w={...m},Bi(!w.pathname||!w.pathname.includes("?"),ad("?","pathname","search",w)),Bi(!w.pathname||!w.pathname.includes("#"),ad("#","pathname","hash",w)),Bi(!w.search||!w.search.includes("#"),ad("#","search","hash",w)));let b=m===""||w.pathname==="",S=b?"/":w.pathname,u;if(S==null)u=p;else{let r=s.length-1;if(!y&&S.startsWith("..")){let a=S.split("/");for(;a[0]==="..";)a.shift(),r-=1;w.pathname=a.join("/")}u=r>=0?s[r]:"/"}let i=Jm(w,u),o=S&&S!=="/"&&S.endsWith("/"),h=(b||S===".")&&p.endsWith("/");return!i.pathname.endsWith("/")&&(o||h)&&(i.pathname+="/"),i}var zs=m=>m.join("/").replace(/\/\/+/g,"/"),e2=m=>m.replace(/\/+$/,"").replace(/^\/*/,"/"),i2=m=>!m||m==="?"?"":m.startsWith("?")?m:"?"+m,n2=m=>!m||m==="#"?"":m.startsWith("#")?m:"#"+m;function r2(m){return m!=null&&typeof m.status=="number"&&typeof m.statusText=="string"&&typeof m.internal=="boolean"&&"data"in m}var F0=["POST","PUT","PATCH","DELETE"];new Set(F0);var a2=["GET",...F0];new Set(a2);var Cu=Ht.createContext(null);Cu.displayName="DataRouter";var Hf=Ht.createContext(null);Hf.displayName="DataRouterState";var z0=Ht.createContext({isTransitioning:!1});z0.displayName="ViewTransition";var s2=Ht.createContext(new Map);s2.displayName="Fetchers";var o2=Ht.createContext(null);o2.displayName="Await";var as=Ht.createContext(null);as.displayName="Navigation";var Tc=Ht.createContext(null);Tc.displayName="Location";var Us=Ht.createContext({outlet:null,matches:[],isDataRoute:!1});Us.displayName="Route";var Bd=Ht.createContext(null);Bd.displayName="RouteError";function l2(m,{relative:s}={}){Bi(Oc(),"useHref() may be used only in the context of a <Router> component.");let{basename:p,navigator:y}=Ht.useContext(as),{hash:w,pathname:b,search:S}=Lc(m,{relative:s}),u=b;return p!=="/"&&(u=b==="/"?p:zs([p,b])),y.createHref({pathname:u,search:S,hash:w})}function Oc(){return Ht.useContext(Tc)!=null}function zo(){return Bi(Oc(),"useLocation() may be used only in the context of a <Router> component."),Ht.useContext(Tc).location}var I0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U0(m){Ht.useContext(as).static||Ht.useLayoutEffect(m)}function Fd(){let{isDataRoute:m}=Ht.useContext(Us);return m?w2():u2()}function u2(){Bi(Oc(),"useNavigate() may be used only in the context of a <Router> component.");let m=Ht.useContext(Cu),{basename:s,navigator:p}=Ht.useContext(as),{matches:y}=Ht.useContext(Us),{pathname:w}=zo(),b=JSON.stringify(P0(y)),S=Ht.useRef(!1);return U0(()=>{S.current=!0}),Ht.useCallback((i,o={})=>{if(rs(S.current,I0),!S.current)return;if(typeof i=="number"){p.go(i);return}let h=B0(i,JSON.parse(b),w,o.relative==="path");m==null&&s!=="/"&&(h.pathname=h.pathname==="/"?s:zs([s,h.pathname])),(o.replace?p.replace:p.push)(h,o.state,o)},[s,p,b,w,m])}Ht.createContext(null);function Lc(m,{relative:s}={}){let{matches:p}=Ht.useContext(Us),{pathname:y}=zo(),w=JSON.stringify(P0(p));return Ht.useMemo(()=>B0(m,JSON.parse(w),y,s==="path"),[m,w,y,s])}function c2(m,s){return q0(m,s)}function q0(m,s,p,y){var g;Bi(Oc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:w}=Ht.useContext(as),{matches:b}=Ht.useContext(Us),S=b[b.length-1],u=S?S.params:{},i=S?S.pathname:"/",o=S?S.pathnameBase:"/",h=S&&S.route;{let _=h&&h.path||"";H0(i,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${i}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let r=zo(),a;if(s){let _=typeof s=="string"?Su(s):s;Bi(o==="/"||((g=_.pathname)==null?void 0:g.startsWith(o)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${o}" but pathname "${_.pathname}" was given in the \`location\` prop.`),a=_}else a=r;let n=a.pathname||"/",l=n;if(o!=="/"){let _=o.replace(/^\//,"").split("/");l="/"+n.replace(/^\//,"").split("/").slice(_.length).join("/")}let d=M0(m,{pathname:l});rs(h||d!=null,`No routes matched location "${a.pathname}${a.search}${a.hash}" `),rs(d==null||d[d.length-1].route.element!==void 0||d[d.length-1].route.Component!==void 0||d[d.length-1].route.lazy!==void 0,`Matched leaf route at location "${a.pathname}${a.search}${a.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let c=g2(d&&d.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:zs([o,w.encodeLocation?w.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?o:zs([o,w.encodeLocation?w.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),b,p,y);return s&&c?Ht.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...a},navigationType:"POP"}},c):c}function f2(){let m=_2(),s=r2(m)?`${m.status} ${m.statusText}`:m instanceof Error?m.message:JSON.stringify(m),p=m instanceof Error?m.stack:null,y="rgba(200,200,200, 0.5)",w={padding:"0.5rem",backgroundColor:y},b={padding:"2px 4px",backgroundColor:y},S=null;return console.error("Error handled by React Router default ErrorBoundary:",m),S=Ht.createElement(Ht.Fragment,null,Ht.createElement("p",null," Hey developer "),Ht.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ht.createElement("code",{style:b},"ErrorBoundary")," or"," ",Ht.createElement("code",{style:b},"errorElement")," prop on your route.")),Ht.createElement(Ht.Fragment,null,Ht.createElement("h2",null,"Unexpected Application Error!"),Ht.createElement("h3",{style:{fontStyle:"italic"}},s),p?Ht.createElement("pre",{style:w},p):null,S)}var h2=Ht.createElement(f2,null),d2=class extends Ht.Component{constructor(m){super(m),this.state={location:m.location,revalidation:m.revalidation,error:m.error}}static getDerivedStateFromError(m){return{error:m}}static getDerivedStateFromProps(m,s){return s.location!==m.location||s.revalidation!=="idle"&&m.revalidation==="idle"?{error:m.error,location:m.location,revalidation:m.revalidation}:{error:m.error!==void 0?m.error:s.error,location:s.location,revalidation:m.revalidation||s.revalidation}}componentDidCatch(m,s){console.error("React Router caught the following error during render",m,s)}render(){return this.state.error!==void 0?Ht.createElement(Us.Provider,{value:this.props.routeContext},Ht.createElement(Bd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p2({routeContext:m,match:s,children:p}){let y=Ht.useContext(Cu);return y&&y.static&&y.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(y.staticContext._deepestRenderedBoundaryId=s.route.id),Ht.createElement(Us.Provider,{value:m},p)}function g2(m,s=[],p=null,y=null){if(m==null){if(!p)return null;if(p.errors)m=p.matches;else if(s.length===0&&!p.initialized&&p.matches.length>0)m=p.matches;else return null}let w=m,b=p==null?void 0:p.errors;if(b!=null){let i=w.findIndex(o=>o.route.id&&(b==null?void 0:b[o.route.id])!==void 0);Bi(i>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(b).join(",")}`),w=w.slice(0,Math.min(w.length,i+1))}let S=!1,u=-1;if(p)for(let i=0;i<w.length;i++){let o=w[i];if((o.route.HydrateFallback||o.route.hydrateFallbackElement)&&(u=i),o.route.id){let{loaderData:h,errors:r}=p,a=o.route.loader&&!h.hasOwnProperty(o.route.id)&&(!r||r[o.route.id]===void 0);if(o.route.lazy||a){S=!0,u>=0?w=w.slice(0,u+1):w=[w[0]];break}}}return w.reduceRight((i,o,h)=>{let r,a=!1,n=null,l=null;p&&(r=b&&o.route.id?b[o.route.id]:void 0,n=o.route.errorElement||h2,S&&(u<0&&h===0?(H0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),a=!0,l=null):u===h&&(a=!0,l=o.route.hydrateFallbackElement||null)));let d=s.concat(w.slice(0,h+1)),c=()=>{let g;return r?g=n:a?g=l:o.route.Component?g=Ht.createElement(o.route.Component,null):o.route.element?g=o.route.element:g=i,Ht.createElement(p2,{match:o,routeContext:{outlet:i,matches:d,isDataRoute:p!=null},children:g})};return p&&(o.route.ErrorBoundary||o.route.errorElement||h===0)?Ht.createElement(d2,{location:p.location,revalidation:p.revalidation,component:n,error:r,children:c(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):c()},null)}function zd(m){return`${m} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m2(m){let s=Ht.useContext(Cu);return Bi(s,zd(m)),s}function v2(m){let s=Ht.useContext(Hf);return Bi(s,zd(m)),s}function y2(m){let s=Ht.useContext(Us);return Bi(s,zd(m)),s}function Id(m){let s=y2(m),p=s.matches[s.matches.length-1];return Bi(p.route.id,`${m} can only be used on routes that contain a unique "id"`),p.route.id}function b2(){return Id("useRouteId")}function _2(){var y;let m=Ht.useContext(Bd),s=v2("useRouteError"),p=Id("useRouteError");return m!==void 0?m:(y=s.errors)==null?void 0:y[p]}function w2(){let{router:m}=m2("useNavigate"),s=Id("useNavigate"),p=Ht.useRef(!1);return U0(()=>{p.current=!0}),Ht.useCallback(async(w,b={})=>{rs(p.current,I0),p.current&&(typeof w=="number"?m.navigate(w):await m.navigate(w,{fromRouteId:s,...b}))},[m,s])}var a0={};function H0(m,s,p){!s&&!a0[m]&&(a0[m]=!0,rs(!1,p))}Ht.memo(x2);function x2({routes:m,future:s,state:p}){return q0(m,void 0,p,s)}function wc(m){Bi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S2({basename:m="/",children:s=null,location:p,navigationType:y="POP",navigator:w,static:b=!1}){Bi(!Oc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let S=m.replace(/^\/*/,"/"),u=Ht.useMemo(()=>({basename:S,navigator:w,static:b,future:{}}),[S,w,b]);typeof p=="string"&&(p=Su(p));let{pathname:i="/",search:o="",hash:h="",state:r=null,key:a="default"}=p,n=Ht.useMemo(()=>{let l=Is(i,S);return l==null?null:{location:{pathname:l,search:o,hash:h,state:r,key:a},navigationType:y}},[S,i,o,h,r,a,y]);return rs(n!=null,`<Router basename="${S}"> is not able to match the URL "${i}${o}${h}" because it does not start with the basename, so the <Router> won't render anything.`),n==null?null:Ht.createElement(as.Provider,{value:u},Ht.createElement(Tc.Provider,{children:s,value:n}))}function C2({children:m,location:s}){return c2(wd(m),s)}function wd(m,s=[]){let p=[];return Ht.Children.forEach(m,(y,w)=>{if(!Ht.isValidElement(y))return;let b=[...s,w];if(y.type===Ht.Fragment){p.push.apply(p,wd(y.props.children,b));return}Bi(y.type===wc,`[${typeof y.type=="string"?y.type:y.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bi(!y.props.index||!y.props.children,"An index route cannot have child routes.");let S={id:y.props.id||b.join("-"),caseSensitive:y.props.caseSensitive,element:y.props.element,Component:y.props.Component,index:y.props.index,path:y.props.path,loader:y.props.loader,action:y.props.action,hydrateFallbackElement:y.props.hydrateFallbackElement,HydrateFallback:y.props.HydrateFallback,errorElement:y.props.errorElement,ErrorBoundary:y.props.ErrorBoundary,hasErrorBoundary:y.props.hasErrorBoundary===!0||y.props.ErrorBoundary!=null||y.props.errorElement!=null,shouldRevalidate:y.props.shouldRevalidate,handle:y.props.handle,lazy:y.props.lazy};y.props.children&&(S.children=wd(y.props.children,b)),p.push(S)}),p}var Mf="get",jf="application/x-www-form-urlencoded";function Yf(m){return m!=null&&typeof m.tagName=="string"}function A2(m){return Yf(m)&&m.tagName.toLowerCase()==="button"}function T2(m){return Yf(m)&&m.tagName.toLowerCase()==="form"}function O2(m){return Yf(m)&&m.tagName.toLowerCase()==="input"}function L2(m){return!!(m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)}function E2(m,s){return m.button===0&&(!s||s==="_self")&&!L2(m)}var Of=null;function k2(){if(Of===null)try{new FormData(document.createElement("form"),0),Of=!1}catch{Of=!0}return Of}var N2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sd(m){return m!=null&&!N2.has(m)?(rs(!1,`"${m}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jf}"`),null):m}function D2(m,s){let p,y,w,b,S;if(T2(m)){let u=m.getAttribute("action");y=u?Is(u,s):null,p=m.getAttribute("method")||Mf,w=sd(m.getAttribute("enctype"))||jf,b=new FormData(m)}else if(A2(m)||O2(m)&&(m.type==="submit"||m.type==="image")){let u=m.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=m.getAttribute("formaction")||u.getAttribute("action");if(y=i?Is(i,s):null,p=m.getAttribute("formmethod")||u.getAttribute("method")||Mf,w=sd(m.getAttribute("formenctype"))||sd(u.getAttribute("enctype"))||jf,b=new FormData(u,m),!k2()){let{name:o,type:h,value:r}=m;if(h==="image"){let a=o?`${o}.`:"";b.append(`${a}x`,"0"),b.append(`${a}y`,"0")}else o&&b.append(o,r)}}else{if(Yf(m))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');p=Mf,y=null,w=jf,S=m}return b&&w==="text/plain"&&(S=b,b=void 0),{action:y,method:p.toLowerCase(),encType:w,formData:b,body:S}}function Ud(m,s){if(m===!1||m===null||typeof m>"u")throw new Error(s)}async function M2(m,s){if(m.id in s)return s[m.id];try{let p=await import(m.module);return s[m.id]=p,p}catch(p){return console.error(`Error loading route module \`${m.module}\`, reloading page...`),console.error(p),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j2(m){return m==null?!1:m.href==null?m.rel==="preload"&&typeof m.imageSrcSet=="string"&&typeof m.imageSizes=="string":typeof m.rel=="string"&&typeof m.href=="string"}async function R2(m,s,p){let y=await Promise.all(m.map(async w=>{let b=s.routes[w.route.id];if(b){let S=await M2(b,p);return S.links?S.links():[]}return[]}));return z2(y.flat(1).filter(j2).filter(w=>w.rel==="stylesheet"||w.rel==="preload").map(w=>w.rel==="stylesheet"?{...w,rel:"prefetch",as:"style"}:{...w,rel:"prefetch"}))}function s0(m,s,p,y,w,b){let S=(i,o)=>p[o]?i.route.id!==p[o].route.id:!0,u=(i,o)=>{var h;return p[o].pathname!==i.pathname||((h=p[o].route.path)==null?void 0:h.endsWith("*"))&&p[o].params["*"]!==i.params["*"]};return b==="assets"?s.filter((i,o)=>S(i,o)||u(i,o)):b==="data"?s.filter((i,o)=>{var r;let h=y.routes[i.route.id];if(!h||!h.hasLoader)return!1;if(S(i,o)||u(i,o))return!0;if(i.route.shouldRevalidate){let a=i.route.shouldRevalidate({currentUrl:new URL(w.pathname+w.search+w.hash,window.origin),currentParams:((r=p[0])==null?void 0:r.params)||{},nextUrl:new URL(m,window.origin),nextParams:i.params,defaultShouldRevalidate:!0});if(typeof a=="boolean")return a}return!0}):[]}function P2(m,s,{includeHydrateFallback:p}={}){return B2(m.map(y=>{let w=s.routes[y.route.id];if(!w)return[];let b=[w.module];return w.clientActionModule&&(b=b.concat(w.clientActionModule)),w.clientLoaderModule&&(b=b.concat(w.clientLoaderModule)),p&&w.hydrateFallbackModule&&(b=b.concat(w.hydrateFallbackModule)),w.imports&&(b=b.concat(w.imports)),b}).flat(1))}function B2(m){return[...new Set(m)]}function F2(m){let s={},p=Object.keys(m).sort();for(let y of p)s[y]=m[y];return s}function z2(m,s){let p=new Set;return new Set(s),m.reduce((y,w)=>{let b=JSON.stringify(F2(w));return p.has(b)||(p.add(b),y.push({key:b,link:w})),y},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I2=new Set([100,101,204,205]);function U2(m,s){let p=typeof m=="string"?new URL(m,typeof window>"u"?"server://singlefetch/":window.location.origin):m;return p.pathname==="/"?p.pathname="_root.data":s&&Is(p.pathname,s)==="/"?p.pathname=`${s.replace(/\/$/,"")}/_root.data`:p.pathname=`${p.pathname.replace(/\/$/,"")}.data`,p}function Y0(){let m=Ht.useContext(Cu);return Ud(m,"You must render this element inside a <DataRouterContext.Provider> element"),m}function q2(){let m=Ht.useContext(Hf);return Ud(m,"You must render this element inside a <DataRouterStateContext.Provider> element"),m}var qd=Ht.createContext(void 0);qd.displayName="FrameworkContext";function X0(){let m=Ht.useContext(qd);return Ud(m,"You must render this element inside a <HydratedRouter> element"),m}function H2(m,s){let p=Ht.useContext(qd),[y,w]=Ht.useState(!1),[b,S]=Ht.useState(!1),{onFocus:u,onBlur:i,onMouseEnter:o,onMouseLeave:h,onTouchStart:r}=s,a=Ht.useRef(null);Ht.useEffect(()=>{if(m==="render"&&S(!0),m==="viewport"){let d=g=>{g.forEach(_=>{S(_.isIntersecting)})},c=new IntersectionObserver(d,{threshold:.5});return a.current&&c.observe(a.current),()=>{c.disconnect()}}},[m]),Ht.useEffect(()=>{if(y){let d=setTimeout(()=>{S(!0)},100);return()=>{clearTimeout(d)}}},[y]);let n=()=>{w(!0)},l=()=>{w(!1),S(!1)};return p?m!=="intent"?[b,a,{}]:[b,a,{onFocus:yc(u,n),onBlur:yc(i,l),onMouseEnter:yc(o,n),onMouseLeave:yc(h,l),onTouchStart:yc(r,n)}]:[!1,a,{}]}function yc(m,s){return p=>{m&&m(p),p.defaultPrevented||s(p)}}function Y2({page:m,...s}){let{router:p}=Y0(),y=Ht.useMemo(()=>M0(p.routes,m,p.basename),[p.routes,m,p.basename]);return y?Ht.createElement(G2,{page:m,matches:y,...s}):null}function X2(m){let{manifest:s,routeModules:p}=X0(),[y,w]=Ht.useState([]);return Ht.useEffect(()=>{let b=!1;return R2(m,s,p).then(S=>{b||w(S)}),()=>{b=!0}},[m,s,p]),y}function G2({page:m,matches:s,...p}){let y=zo(),{manifest:w,routeModules:b}=X0(),{basename:S}=Y0(),{loaderData:u,matches:i}=q2(),o=Ht.useMemo(()=>s0(m,s,i,w,y,"data"),[m,s,i,w,y]),h=Ht.useMemo(()=>s0(m,s,i,w,y,"assets"),[m,s,i,w,y]),r=Ht.useMemo(()=>{if(m===y.pathname+y.search+y.hash)return[];let l=new Set,d=!1;if(s.forEach(g=>{var C;let _=w.routes[g.route.id];!_||!_.hasLoader||(!o.some(O=>O.route.id===g.route.id)&&g.route.id in u&&((C=b[g.route.id])!=null&&C.shouldRevalidate)||_.hasClientLoader?d=!0:l.add(g.route.id))}),l.size===0)return[];let c=U2(m,S);return d&&l.size>0&&c.searchParams.set("_routes",s.filter(g=>l.has(g.route.id)).map(g=>g.route.id).join(",")),[c.pathname+c.search]},[S,u,y,w,o,s,m,b]),a=Ht.useMemo(()=>P2(h,w),[h,w]),n=X2(h);return Ht.createElement(Ht.Fragment,null,r.map(l=>Ht.createElement("link",{key:l,rel:"prefetch",as:"fetch",href:l,...p})),a.map(l=>Ht.createElement("link",{key:l,rel:"modulepreload",href:l,...p})),n.map(({key:l,link:d})=>Ht.createElement("link",{key:l,...d})))}function V2(...m){return s=>{m.forEach(p=>{typeof p=="function"?p(s):p!=null&&(p.current=s)})}}var G0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G0&&(window.__reactRouterVersion="7.6.1")}catch{}function W2({basename:m,children:s,window:p}){let y=Ht.useRef();y.current==null&&(y.current=Rm({window:p,v5Compat:!0}));let w=y.current,[b,S]=Ht.useState({action:w.action,location:w.location}),u=Ht.useCallback(i=>{Ht.startTransition(()=>S(i))},[S]);return Ht.useLayoutEffect(()=>w.listen(u),[w,u]),Ht.createElement(S2,{basename:m,children:s,location:b.location,navigationType:b.action,navigator:w})}var V0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W0=Ht.forwardRef(function({onClick:s,discover:p="render",prefetch:y="none",relative:w,reloadDocument:b,replace:S,state:u,target:i,to:o,preventScrollReset:h,viewTransition:r,...a},n){let{basename:l}=Ht.useContext(as),d=typeof o=="string"&&V0.test(o),c,g=!1;if(typeof o=="string"&&d&&(c=o,G0))try{let Q=new URL(window.location.href),gt=o.startsWith("//")?new URL(Q.protocol+o):new URL(o),G=Is(gt.pathname,l);gt.origin===Q.origin&&G!=null?o=G+gt.search+gt.hash:g=!0}catch{rs(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=l2(o,{relative:w}),[C,O,k]=H2(y,a),F=J2(o,{replace:S,state:u,target:i,preventScrollReset:h,relative:w,viewTransition:r});function z(Q){s&&s(Q),Q.defaultPrevented||F(Q)}let q=Ht.createElement("a",{...a,...k,href:c||_,onClick:g||b?s:z,ref:V2(n,O),target:i,"data-discover":!d&&p==="render"?"true":void 0});return C&&!d?Ht.createElement(Ht.Fragment,null,q,Ht.createElement(Y2,{page:_})):q});W0.displayName="Link";var Z2=Ht.forwardRef(function({"aria-current":s="page",caseSensitive:p=!1,className:y="",end:w=!1,style:b,to:S,viewTransition:u,children:i,...o},h){let r=Lc(S,{relative:o.relative}),a=zo(),n=Ht.useContext(Hf),{navigator:l,basename:d}=Ht.useContext(as),c=n!=null&&nv(r)&&u===!0,g=l.encodeLocation?l.encodeLocation(r).pathname:r.pathname,_=a.pathname,C=n&&n.navigation&&n.navigation.location?n.navigation.location.pathname:null;p||(_=_.toLowerCase(),C=C?C.toLowerCase():null,g=g.toLowerCase()),C&&d&&(C=Is(C,d)||C);const O=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let k=_===g||!w&&_.startsWith(g)&&_.charAt(O)==="/",F=C!=null&&(C===g||!w&&C.startsWith(g)&&C.charAt(g.length)==="/"),z={isActive:k,isPending:F,isTransitioning:c},q=k?s:void 0,Q;typeof y=="function"?Q=y(z):Q=[y,k?"active":null,F?"pending":null,c?"transitioning":null].filter(Boolean).join(" ");let gt=typeof b=="function"?b(z):b;return Ht.createElement(W0,{...o,"aria-current":q,className:Q,ref:h,style:gt,to:S,viewTransition:u},typeof i=="function"?i(z):i)});Z2.displayName="NavLink";var K2=Ht.forwardRef(({discover:m="render",fetcherKey:s,navigate:p,reloadDocument:y,replace:w,state:b,method:S=Mf,action:u,onSubmit:i,relative:o,preventScrollReset:h,viewTransition:r,...a},n)=>{let l=ev(),d=iv(u,{relative:o}),c=S.toLowerCase()==="get"?"get":"post",g=typeof u=="string"&&V0.test(u),_=C=>{if(i&&i(C),C.defaultPrevented)return;C.preventDefault();let O=C.nativeEvent.submitter,k=(O==null?void 0:O.getAttribute("formmethod"))||S;l(O||C.currentTarget,{fetcherKey:s,method:k,navigate:p,replace:w,state:b,relative:o,preventScrollReset:h,viewTransition:r})};return Ht.createElement("form",{ref:n,method:c,action:d,onSubmit:y?i:_,...a,"data-discover":!g&&m==="render"?"true":void 0})});K2.displayName="Form";function Q2(m){return`${m} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z0(m){let s=Ht.useContext(Cu);return Bi(s,Q2(m)),s}function J2(m,{target:s,replace:p,state:y,preventScrollReset:w,relative:b,viewTransition:S}={}){let u=Fd(),i=zo(),o=Lc(m,{relative:b});return Ht.useCallback(h=>{if(E2(h,s)){h.preventDefault();let r=p!==void 0?p:Sc(i)===Sc(o);u(m,{replace:r,state:y,preventScrollReset:w,relative:b,viewTransition:S})}},[i,u,o,p,y,s,m,w,b,S])}var $2=0,tv=()=>`__${String(++$2)}__`;function ev(){let{router:m}=Z0("useSubmit"),{basename:s}=Ht.useContext(as),p=b2();return Ht.useCallback(async(y,w={})=>{let{action:b,method:S,encType:u,formData:i,body:o}=D2(y,s);if(w.navigate===!1){let h=w.fetcherKey||tv();await m.fetch(h,p,w.action||b,{preventScrollReset:w.preventScrollReset,formData:i,body:o,formMethod:w.method||S,formEncType:w.encType||u,flushSync:w.flushSync})}else await m.navigate(w.action||b,{preventScrollReset:w.preventScrollReset,formData:i,body:o,formMethod:w.method||S,formEncType:w.encType||u,replace:w.replace,state:w.state,fromRouteId:p,flushSync:w.flushSync,viewTransition:w.viewTransition})},[m,s,p])}function iv(m,{relative:s}={}){let{basename:p}=Ht.useContext(as),y=Ht.useContext(Us);Bi(y,"useFormAction must be used inside a RouteContext");let[w]=y.matches.slice(-1),b={...Lc(m||".",{relative:s})},S=zo();if(m==null){b.search=S.search;let u=new URLSearchParams(b.search),i=u.getAll("index");if(i.some(h=>h==="")){u.delete("index"),i.filter(r=>r).forEach(r=>u.append("index",r));let h=u.toString();b.search=h?`?${h}`:""}}return(!m||m===".")&&w.route.index&&(b.search=b.search?b.search.replace(/^\?/,"?index&"):"?index"),p!=="/"&&(b.pathname=b.pathname==="/"?p:zs([p,b.pathname])),Sc(b)}function nv(m,s={}){let p=Ht.useContext(z0);Bi(p!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:y}=Z0("useViewTransitionState"),w=Lc(m,{relative:s.relative});if(!p.isTransitioning)return!1;let b=Is(p.currentLocation.pathname,y)||p.currentLocation.pathname,S=Is(p.nextLocation.pathname,y)||p.nextLocation.pathname;return If(w.pathname,S)!=null||If(w.pathname,b)!=null}[...I2];const od=({title:m,onClick:s,draw:p,label:y})=>{const w=Ht.useRef(null);return Ht.useEffect(()=>{if(!w.current||!p)return;const b=w.current.getContext("2d");b.clearRect(0,0,120,120),p(b)},[p]),Rt.jsxs("button",{onClick:s,className:"flex flex-col items-center justify-center gap-3 w-54 h-50 bg-[#2a2a2a] rounded-xl shadow-md hover:shadow-lg hover:scale-105 transition-transform duration-200",children:[Rt.jsx("canvas",{ref:w,width:120,height:120,className:"rounded"}),Rt.jsx("span",{className:"text-white text-lg",children:y})]})},rv=m=>{m.clearRect(0,0,120,120);const s=6,p=6,y=106,w=106,b=16;m.strokeStyle="#bbb",m.lineWidth=4,m.beginPath(),m.moveTo(s+b,p),m.lineTo(s+y-b,p),m.quadraticCurveTo(s+y,p,s+y,p+b),m.lineTo(s+y,p+w-b),m.quadraticCurveTo(s+y,p+w,s+y-b,p+w),m.lineTo(s+b,p+w),m.quadraticCurveTo(s,p+w,s,p+w-b),m.lineTo(s,p+b),m.quadraticCurveTo(s,p,s+b,p),m.closePath(),m.stroke(),m.lineWidth=2,m.beginPath(),m.setLineDash([4,4]),m.arc(60,60,30,0,2*Math.PI),m.stroke(),m.setLineDash([])},av=m=>{m.clearRect(0,0,120,120);const s=30,p=4,y=12,w=12;m.fillStyle="#bbb";for(let b=0;b<3;b++)for(let S=0;S<3;S++){const u=y+S*(s+p),i=w+b*(s+p);m.fillRect(u,i,s,s)}},sv=m=>{m.clearRect(0,0,120,120),m.fillStyle="#bbb",m.fillRect(10,10,100,100),m.fillStyle="rgba(255, 255, 255, 0.9)",m.fillRect(30,30,40,40),m.strokeStyle="#888",m.lineWidth=1.5,m.strokeRect(30,30,40,40),m.fillStyle="rgba(255, 255, 255, 0.9)",m.fillRect(50,50,40,40),m.strokeStyle="#888",m.lineWidth=1.5,m.strokeRect(50,50,40,40),m.save(),m.translate(45,80),m.rotate(15*Math.PI/180),m.fillStyle="rgba(255, 255, 255, 0.9)",m.fillRect(-15,-15,30,30),m.strokeStyle="#888",m.lineWidth=1.5,m.strokeRect(-15,-15,30,30),m.restore()},ov=()=>{const m=Fd();return Rt.jsxs("div",{className:"h-screen bg-[#111] text-white flex flex-col items-center justify-center gap-10 px-4",children:[Rt.jsxs("div",{className:"text-center space-y-2",children:[Rt.jsx("h1",{className:"text-3xl font-extrabold text-[#10B981] tracking-tight",children:" "}),Rt.jsx("p",{className:"text-sm text-gray-400",children:"  ,   ,  !"})]}),Rt.jsxs("div",{className:"flex flex-wrap justify-center gap-8",children:[Rt.jsx(od,{title:" ",label:" ",draw:rv,onClick:()=>m("/crop")}),Rt.jsx(od,{title:" ",label:" ",draw:av,onClick:()=>m("/split")}),Rt.jsx(od,{title:" ",label:" ",draw:sv,onClick:()=>m("/merge")})]}),Rt.jsxs("p",{className:"text-xs text-gray-600 mt-6",children:[" 2025     : ",Rt.jsx("a",{href:"https://github.com/pukkok",target:"_blank",rel:"noopener noreferrer",className:"text-[#10B981] hover:underline",children:"pukkok"})]})]})},lv=m=>{const[s,p]=m.split(":").map(Number);return{w:isNaN(s)?1:s,h:isNaN(p)?1:p}};function xd(m,s=500,p={}){const y=new Path2D,w=s/2,b=s/2,S=s/2;if(m==="")return y.arc(S,S,S,0,Math.PI*2),y;if(m==="( )"){const u=p.radius||0,{w:i,h:o}=lv(p.aspectRatio||"1:1");let h,r;i>=o?(h=s,r=s*o/i):(r=s,h=s*i/o);const a=(s-h)/2,n=(s-r)/2,l=Math.min(u,Math.min(h,r)/2);return y.moveTo(a+l,n),y.arcTo(a+h,n,a+h,n+r,l),y.arcTo(a+h,n+r,a,n+r,l),y.arcTo(a,n+r,a,n,l),y.arcTo(a,n,a+h,n,l),y.closePath(),y}if(m===""){const u=S*1.4,i=u*.35,o=b+i;return y.moveTo(w,o+u*.3),y.bezierCurveTo(w+u,o-u*.05,w+u*.75,o-u*1.35,w,o-u*.75),y.bezierCurveTo(w-u*.75,o-u*1.35,w-u,o-u*.05,w,o+u*.3),y.closePath(),y}return y.arc(S,S,S,0,Math.PI*2),y}const o0=m=>{let s;const p=new Set,y=(o,h)=>{const r=typeof o=="function"?o(s):o;if(!Object.is(r,s)){const a=s;s=h??(typeof r!="object"||r===null)?r:Object.assign({},s,r),p.forEach(n=>n(s,a))}},w=()=>s,u={setState:y,getState:w,getInitialState:()=>i,subscribe:o=>(p.add(o),()=>p.delete(o))},i=s=m(y,w,u);return u},uv=m=>m?o0(m):o0,cv=m=>m;function fv(m,s=cv){const p=t0.useSyncExternalStore(m.subscribe,()=>s(m.getState()),()=>s(m.getInitialState()));return t0.useDebugValue(p),p}const l0=m=>{const s=uv(m),p=y=>fv(s,y);return Object.assign(p,s),p},K0=m=>m?l0(m):l0,li=K0((m,s)=>({images:[],setImages:p=>m({images:p}),currentImageId:null,setCurrentImageId:p=>m({currentImageId:p}),getCurrentIndex:()=>{const{images:p,currentImageId:y}=s();return p.findIndex(b=>b.id===y)},getMaxLength:()=>s().images.length,onPrev:()=>{const{images:p,getCurrentIndex:y}=s(),w=y();w>0&&m({currentImageId:p[w-1].id})},onNext:()=>{const{images:p,getCurrentIndex:y}=s(),w=y();w<p.length-1&&m({currentImageId:p[w+1].id})},resetCommonStates:()=>{m({images:[],currentImageId:null})}})),hv=({image:m,shape:s="",offset:p,scale:y,onOffsetChange:w,onScaleChange:b,shapeOptions:S={}})=>{const u=Ht.useRef(null),i=500,o=Ht.useRef(!1),h=Ht.useRef({x:0,y:0}),r=()=>{if(!m||!u.current)return;const c=u.current,g=c.getContext("2d"),_=new Image;_.src=m.url,_.onload=()=>{c.width=i,c.height=i,g.save();const C=xd(s,i,S);g.clip(C);const O=_.width*y,k=_.height*y;g.drawImage(_,p.x,p.y,O,k),g.restore(),g.beginPath(),g.setLineDash([6,6]),g.strokeStyle="#aaa",g.lineWidth=2,g.stroke(xd(s,i,S)),g.setLineDash([])}};Ht.useEffect(r,[m,p,y,s,S]);const a=c=>{o.current=!0,h.current={x:c.clientX,y:c.clientY}},n=c=>{if(!o.current)return;const g=c.clientX-h.current.x,_=c.clientY-h.current.y;w({x:p.x+g,y:p.y+_}),h.current={x:c.clientX,y:c.clientY}},l=()=>{o.current=!1},d=Ht.useCallback(c=>{c.preventDefault();const g=c.deltaY>0?-.05:.05,_=Math.min(Math.max(y+g,.1),5);b(_)},[y,b]);return Ht.useEffect(()=>{const c=u.current;if(!c)return;const g=_=>d(_);return c.addEventListener("wheel",g,{passive:!1}),()=>{c.removeEventListener("wheel",g)}},[d]),Rt.jsxs("div",{className:"relative w-[500px] h-[500px] mt-6",children:[Rt.jsx("div",{className:"absolute inset-0 bg-transparent-grid rounded pointer-events-none z-0"}),Rt.jsx("canvas",{ref:u,width:i,height:i,className:"relative z-10 border rounded shadow-lg cursor-move",onMouseDown:a,onMouseMove:n,onMouseUp:l,onMouseLeave:l}),Rt.jsx("p",{className:"mt-2 text-xs text-gray-400 text-center",children:"  ,      ."})]})},Q0=({})=>{const{getCurrentIndex:m,getMaxLength:s}=li(),p=m(),y=s(),w=li(S=>S.onNext),b=li(S=>S.onPrev);return Rt.jsxs("div",{className:"flex items-center justify-center gap-6",children:[Rt.jsx("button",{className:"px-4 py-2 bg-gray-700 text-white rounded disabled:opacity-40",onClick:b,disabled:p<=0||null,children:" "}),Rt.jsx("span",{className:"text-sm text-gray-300",children:y===0?"0 / 0":`${p+1} / ${y}`}),Rt.jsx("button",{className:"px-4 py-2 bg-gray-700 text-white rounded disabled:opacity-40",onClick:w,disabled:p>=y-1,children:" "})]})},dv=({shape:m,onChange:s})=>{const p=["","","( )"];return Rt.jsx("div",{className:"flex gap-2 justify-center text-sm",children:p.map(y=>Rt.jsx("button",{onClick:()=>s(y),className:`px-3 py-1 rounded border transition ${m===y?"bg-white text-black font-semibold":"border-gray-500 text-gray-300 hover:border-white hover:text-white"}`,children:y},y))})},pv=({radius:m,onChange:s})=>Rt.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[Rt.jsx("label",{htmlFor:"radius",children:" :"}),Rt.jsx("input",{id:"radius",type:"range",min:"0",max:"100",step:"1",value:m,onChange:p=>s(parseInt(p.target.value,10)),className:"w-40"}),Rt.jsxs("span",{children:[m,"px"]})]}),gv=({scale:m,onChange:s})=>{const p=y=>{const w=parseFloat(y.target.value);isNaN(w)||s(Math.min(Math.max(w,.1),5))};return Rt.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[Rt.jsx("label",{children:"/:"}),Rt.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.05",value:m,onChange:p,className:"w-40"}),Rt.jsxs("span",{children:[m.toFixed(2),"x"]})]})},mv=["1:1","4:3","3:2","16:9","5:7"],vv=({aspectRatio:m,onChange:s})=>Rt.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[Rt.jsx("label",{htmlFor:"ratio",children:":"}),Rt.jsx("select",{id:"ratio",value:m,onChange:p=>s(p.target.value),className:"bg-gray-800 border border-gray-600 px-2 py-1 rounded",children:mv.map(p=>Rt.jsx("option",{value:p,children:p},p))})]}),yv=({crop:m,onChange:s})=>{var p,y;return Rt.jsxs("div",{className:"text-sm text-gray-300 px-2 py-6 space-y-2",children:[Rt.jsxs("div",{className:"flex gap-4 items-center min-h-7.5",children:[Rt.jsx("p",{className:"pr-2 border-r border-gray-500",children:""}),Rt.jsx(dv,{shape:m.shape,onChange:w=>s({shape:w,shapeOptions:w==="( )"?{radius:20}:{}})})]}),Rt.jsxs("div",{className:"flex items-center gap-4 min-h-7.5",children:[Rt.jsx("p",{className:"pr-2 border-r border-gray-500",children:""}),Rt.jsx(gv,{scale:m.scale,onChange:w=>s({scale:w})}),m.shape==="( )"&&Rt.jsxs(Rt.Fragment,{children:[Rt.jsx(pv,{radius:((p=m.shapeOptions)==null?void 0:p.radius)||0,onChange:w=>s({shapeOptions:{...m.shapeOptions,radius:w}})}),Rt.jsx(vv,{aspectRatio:((y=m.shapeOptions)==null?void 0:y.aspectRatio)||"1:1",onChange:w=>s({shapeOptions:{...m.shapeOptions,aspectRatio:w}})})]})]})]})},bv=m=>{const s=Date.now(),p=Math.random().toString(36).slice(2,8);return`${m}-${s}-${p}`},_v=({onImagesSelected:m,onClearImages:s,allowMultiple:p=!0})=>{const y=li(u=>u.images),w=Ht.useRef(null),b=u=>{const h=Array.from(u.target.files).filter(r=>r.type.startsWith("image/")).map(r=>new Promise(a=>{const n=new FileReader;n.onload=()=>a({id:bv(r.name),name:r.name,url:n.result}),n.readAsDataURL(r)}));Promise.all(h).then(r=>{const a=p?[...y,...r]:[r[0]];m(a),u.target.value=null})},S=()=>{window.confirm("   ?")&&s()};return Rt.jsxs("div",{className:"p-3 border border-dashed border-gray-400 rounded-lg text-center space-y-3",children:[Rt.jsx("input",{type:"file",ref:w,accept:"image/*",multiple:p,onChange:b,className:"hidden"}),Rt.jsxs("div",{className:"flex justify-center gap-4",children:[Rt.jsx("button",{className:"bg-gray-700 text-white px-3 py-2 rounded hover:bg-gray-600 text-sm",onClick:()=>w.current.click(),children:" "}),Rt.jsx("button",{className:"bg-gray-700 text-red-400 px-3 py-2 rounded hover:bg-gray-600 text-sm",onClick:S,children:""})]})]})},wv=({onDelete:m})=>{const s=li(b=>b.images),p=li(b=>b.currentImageId),y=li(b=>b.setCurrentImageId),w=(b,S)=>{window.confirm(`${b}  ?`)&&m(S)};return Rt.jsx("div",{className:"overflow-y-auto flex flex-col gap-3",children:s.map(b=>Rt.jsxs("div",{title:b.name,className:`relative w-full flex items-center gap-3 p-2 rounded-lg border border-gray-700 transition
            ${b.id===p?"bg-gray-700":"hover:bg-gray-700"}`,children:[Rt.jsx("button",{onClick:()=>w(b.name,b.id),title:"",className:"absolute top-1 right-1 w-6 h-6 bg-gray-800 text-white hover:bg-red-500 rounded-full flex items-center justify-center text-xs",children:""}),Rt.jsxs("button",{onClick:()=>y(b.id),className:"flex items-center gap-3 flex-1 text-left pr-6 min-w-0",children:[Rt.jsx("img",{src:b.url,alt:b.name,className:"w-12 h-12 object-cover rounded shrink-0"}),Rt.jsx("span",{className:"truncate overflow-hidden whitespace-nowrap text-sm text-white",children:b.name})]})]},b.id))})};function Lf(m){throw new Error('Could not dynamically require "'+m+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ld={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var u0;function xv(){return u0||(u0=1,function(m,s){(function(p){m.exports=p()})(function(){return function p(y,w,b){function S(o,h){if(!w[o]){if(!y[o]){var r=typeof Lf=="function"&&Lf;if(!h&&r)return r(o,!0);if(u)return u(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var n=w[o]={exports:{}};y[o][0].call(n.exports,function(l){var d=y[o][1][l];return S(d||l)},n,n.exports,p,y,w,b)}return w[o].exports}for(var u=typeof Lf=="function"&&Lf,i=0;i<b.length;i++)S(b[i]);return S}({1:[function(p,y,w){var b=p("./utils"),S=p("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";w.encode=function(i){for(var o,h,r,a,n,l,d,c=[],g=0,_=i.length,C=_,O=b.getTypeOf(i)!=="string";g<i.length;)C=_-g,r=O?(o=i[g++],h=g<_?i[g++]:0,g<_?i[g++]:0):(o=i.charCodeAt(g++),h=g<_?i.charCodeAt(g++):0,g<_?i.charCodeAt(g++):0),a=o>>2,n=(3&o)<<4|h>>4,l=1<C?(15&h)<<2|r>>6:64,d=2<C?63&r:64,c.push(u.charAt(a)+u.charAt(n)+u.charAt(l)+u.charAt(d));return c.join("")},w.decode=function(i){var o,h,r,a,n,l,d=0,c=0,g="data:";if(i.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var _,C=3*(i=i.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(i.charAt(i.length-1)===u.charAt(64)&&C--,i.charAt(i.length-2)===u.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=S.uint8array?new Uint8Array(0|C):new Array(0|C);d<i.length;)o=u.indexOf(i.charAt(d++))<<2|(a=u.indexOf(i.charAt(d++)))>>4,h=(15&a)<<4|(n=u.indexOf(i.charAt(d++)))>>2,r=(3&n)<<6|(l=u.indexOf(i.charAt(d++))),_[c++]=o,n!==64&&(_[c++]=h),l!==64&&(_[c++]=r);return _}},{"./support":30,"./utils":32}],2:[function(p,y,w){var b=p("./external"),S=p("./stream/DataWorker"),u=p("./stream/Crc32Probe"),i=p("./stream/DataLengthProbe");function o(h,r,a,n,l){this.compressedSize=h,this.uncompressedSize=r,this.crc32=a,this.compression=n,this.compressedContent=l}o.prototype={getContentWorker:function(){var h=new S(b.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),r=this;return h.on("end",function(){if(this.streamInfo.data_length!==r.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new S(b.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(h,r,a){return h.pipe(new u).pipe(new i("uncompressedSize")).pipe(r.compressWorker(a)).pipe(new i("compressedSize")).withStreamInfo("compression",r)},y.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(p,y,w){var b=p("./stream/GenericWorker");w.STORE={magic:"\0\0",compressWorker:function(){return new b("STORE compression")},uncompressWorker:function(){return new b("STORE decompression")}},w.DEFLATE=p("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(p,y,w){var b=p("./utils"),S=function(){for(var u,i=[],o=0;o<256;o++){u=o;for(var h=0;h<8;h++)u=1&u?3988292384^u>>>1:u>>>1;i[o]=u}return i}();y.exports=function(u,i){return u!==void 0&&u.length?b.getTypeOf(u)!=="string"?function(o,h,r,a){var n=S,l=a+r;o^=-1;for(var d=a;d<l;d++)o=o>>>8^n[255&(o^h[d])];return-1^o}(0|i,u,u.length,0):function(o,h,r,a){var n=S,l=a+r;o^=-1;for(var d=a;d<l;d++)o=o>>>8^n[255&(o^h.charCodeAt(d))];return-1^o}(0|i,u,u.length,0):0}},{"./utils":32}],5:[function(p,y,w){w.base64=!1,w.binary=!1,w.dir=!1,w.createFolders=!0,w.date=null,w.compression=null,w.compressionOptions=null,w.comment=null,w.unixPermissions=null,w.dosPermissions=null},{}],6:[function(p,y,w){var b=null;b=typeof Promise<"u"?Promise:p("lie"),y.exports={Promise:b}},{lie:37}],7:[function(p,y,w){var b=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",S=p("pako"),u=p("./utils"),i=p("./stream/GenericWorker"),o=b?"uint8array":"array";function h(r,a){i.call(this,"FlateWorker/"+r),this._pako=null,this._pakoAction=r,this._pakoOptions=a,this.meta={}}w.magic="\b\0",u.inherits(h,i),h.prototype.processChunk=function(r){this.meta=r.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(o,r.data),!1)},h.prototype.flush=function(){i.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new S[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var r=this;this._pako.onData=function(a){r.push({data:a,meta:r.meta})}},w.compressWorker=function(r){return new h("Deflate",r)},w.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(p,y,w){function b(n,l){var d,c="";for(d=0;d<l;d++)c+=String.fromCharCode(255&n),n>>>=8;return c}function S(n,l,d,c,g,_){var C,O,k=n.file,F=n.compression,z=_!==o.utf8encode,q=u.transformTo("string",_(k.name)),Q=u.transformTo("string",o.utf8encode(k.name)),gt=k.comment,G=u.transformTo("string",_(gt)),B=u.transformTo("string",o.utf8encode(gt)),it=Q.length!==k.name.length,M=B.length!==gt.length,mt="",st="",ut="",vt=k.dir,W=k.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};l&&!d||(Y.crc32=n.crc32,Y.compressedSize=n.compressedSize,Y.uncompressedSize=n.uncompressedSize);var H=0;l&&(H|=8),z||!it&&!M||(H|=2048);var N=0,U=0;vt&&(N|=16),g==="UNIX"?(U=798,N|=function(P,V){var J=P;return P||(J=V?16893:33204),(65535&J)<<16}(k.unixPermissions,vt)):(U=20,N|=function(P){return 63&(P||0)}(k.dosPermissions)),C=W.getUTCHours(),C<<=6,C|=W.getUTCMinutes(),C<<=5,C|=W.getUTCSeconds()/2,O=W.getUTCFullYear()-1980,O<<=4,O|=W.getUTCMonth()+1,O<<=5,O|=W.getUTCDate(),it&&(st=b(1,1)+b(h(q),4)+Q,mt+="up"+b(st.length,2)+st),M&&(ut=b(1,1)+b(h(G),4)+B,mt+="uc"+b(ut.length,2)+ut);var R="";return R+=`
\0`,R+=b(H,2),R+=F.magic,R+=b(C,2),R+=b(O,2),R+=b(Y.crc32,4),R+=b(Y.compressedSize,4),R+=b(Y.uncompressedSize,4),R+=b(q.length,2),R+=b(mt.length,2),{fileRecord:r.LOCAL_FILE_HEADER+R+q+mt,dirRecord:r.CENTRAL_FILE_HEADER+b(U,2)+R+b(G.length,2)+"\0\0\0\0"+b(N,4)+b(c,4)+q+mt+G}}var u=p("../utils"),i=p("../stream/GenericWorker"),o=p("../utf8"),h=p("../crc32"),r=p("../signature");function a(n,l,d,c){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=l,this.zipPlatform=d,this.encodeFileName=c,this.streamFiles=n,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(a,i),a.prototype.push=function(n){var l=n.meta.percent||0,d=this.entriesCount,c=this._sources.length;this.accumulate?this.contentBuffer.push(n):(this.bytesWritten+=n.data.length,i.prototype.push.call(this,{data:n.data,meta:{currentFile:this.currentFile,percent:d?(l+100*(d-c-1))/d:100}}))},a.prototype.openedSource=function(n){this.currentSourceOffset=this.bytesWritten,this.currentFile=n.file.name;var l=this.streamFiles&&!n.file.dir;if(l){var d=S(n,l,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},a.prototype.closedSource=function(n){this.accumulate=!1;var l=this.streamFiles&&!n.file.dir,d=S(n,l,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),l)this.push({data:function(c){return r.DATA_DESCRIPTOR+b(c.crc32,4)+b(c.compressedSize,4)+b(c.uncompressedSize,4)}(n),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},a.prototype.flush=function(){for(var n=this.bytesWritten,l=0;l<this.dirRecords.length;l++)this.push({data:this.dirRecords[l],meta:{percent:100}});var d=this.bytesWritten-n,c=function(g,_,C,O,k){var F=u.transformTo("string",k(O));return r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(g,2)+b(g,2)+b(_,4)+b(C,4)+b(F.length,2)+F}(this.dirRecords.length,d,n,this.zipComment,this.encodeFileName);this.push({data:c,meta:{percent:100}})},a.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},a.prototype.registerPrevious=function(n){this._sources.push(n);var l=this;return n.on("data",function(d){l.processChunk(d)}),n.on("end",function(){l.closedSource(l.previous.streamInfo),l._sources.length?l.prepareNextSource():l.end()}),n.on("error",function(d){l.error(d)}),this},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},a.prototype.error=function(n){var l=this._sources;if(!i.prototype.error.call(this,n))return!1;for(var d=0;d<l.length;d++)try{l[d].error(n)}catch{}return!0},a.prototype.lock=function(){i.prototype.lock.call(this);for(var n=this._sources,l=0;l<n.length;l++)n[l].lock()},y.exports=a},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(p,y,w){var b=p("../compressions"),S=p("./ZipFileWorker");w.generateWorker=function(u,i,o){var h=new S(i.streamFiles,o,i.platform,i.encodeFileName),r=0;try{u.forEach(function(a,n){r++;var l=function(_,C){var O=_||C,k=b[O];if(!k)throw new Error(O+" is not a valid compression method !");return k}(n.options.compression,i.compression),d=n.options.compressionOptions||i.compressionOptions||{},c=n.dir,g=n.date;n._compressWorker(l,d).withStreamInfo("file",{name:a,dir:c,date:g,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(h)}),h.entriesCount=r}catch(a){h.error(a)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(p,y,w){function b(){if(!(this instanceof b))return new b;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var S=new b;for(var u in this)typeof this[u]!="function"&&(S[u]=this[u]);return S}}(b.prototype=p("./object")).loadAsync=p("./load"),b.support=p("./support"),b.defaults=p("./defaults"),b.version="3.10.1",b.loadAsync=function(S,u){return new b().loadAsync(S,u)},b.external=p("./external"),y.exports=b},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(p,y,w){var b=p("./utils"),S=p("./external"),u=p("./utf8"),i=p("./zipEntries"),o=p("./stream/Crc32Probe"),h=p("./nodejsUtils");function r(a){return new S.Promise(function(n,l){var d=a.decompressed.getContentWorker().pipe(new o);d.on("error",function(c){l(c)}).on("end",function(){d.streamInfo.crc32!==a.decompressed.crc32?l(new Error("Corrupted zip : CRC32 mismatch")):n()}).resume()})}y.exports=function(a,n){var l=this;return n=b.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),h.isNode&&h.isStream(a)?S.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):b.prepareContent("the loaded zip file",a,!0,n.optimizedBinaryString,n.base64).then(function(d){var c=new i(n);return c.load(d),c}).then(function(d){var c=[S.Promise.resolve(d)],g=d.files;if(n.checkCRC32)for(var _=0;_<g.length;_++)c.push(r(g[_]));return S.Promise.all(c)}).then(function(d){for(var c=d.shift(),g=c.files,_=0;_<g.length;_++){var C=g[_],O=C.fileNameStr,k=b.resolve(C.fileNameStr);l.file(k,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:n.createFolders}),C.dir||(l.file(k).unsafeOriginalName=O)}return c.zipComment.length&&(l.comment=c.zipComment),l})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(p,y,w){var b=p("../utils"),S=p("../stream/GenericWorker");function u(i,o){S.call(this,"Nodejs stream input adapter for "+i),this._upstreamEnded=!1,this._bindStream(o)}b.inherits(u,S),u.prototype._bindStream=function(i){var o=this;(this._stream=i).pause(),i.on("data",function(h){o.push({data:h,meta:{percent:0}})}).on("error",function(h){o.isPaused?this.generatedError=h:o.error(h)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},u.prototype.pause=function(){return!!S.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!S.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},y.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(p,y,w){var b=p("readable-stream").Readable;function S(u,i,o){b.call(this,i),this._helper=u;var h=this;u.on("data",function(r,a){h.push(r)||h._helper.pause(),o&&o(a)}).on("error",function(r){h.emit("error",r)}).on("end",function(){h.push(null)})}p("../utils").inherits(S,b),S.prototype._read=function(){this._helper.resume()},y.exports=S},{"../utils":32,"readable-stream":16}],14:[function(p,y,w){y.exports={isNode:typeof Buffer<"u",newBufferFrom:function(b,S){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(b,S);if(typeof b=="number")throw new Error('The "data" argument must not be a number');return new Buffer(b,S)},allocBuffer:function(b){if(Buffer.alloc)return Buffer.alloc(b);var S=new Buffer(b);return S.fill(0),S},isBuffer:function(b){return Buffer.isBuffer(b)},isStream:function(b){return b&&typeof b.on=="function"&&typeof b.pause=="function"&&typeof b.resume=="function"}}},{}],15:[function(p,y,w){function b(k,F,z){var q,Q=u.getTypeOf(F),gt=u.extend(z||{},h);gt.date=gt.date||new Date,gt.compression!==null&&(gt.compression=gt.compression.toUpperCase()),typeof gt.unixPermissions=="string"&&(gt.unixPermissions=parseInt(gt.unixPermissions,8)),gt.unixPermissions&&16384&gt.unixPermissions&&(gt.dir=!0),gt.dosPermissions&&16&gt.dosPermissions&&(gt.dir=!0),gt.dir&&(k=g(k)),gt.createFolders&&(q=c(k))&&_.call(this,q,!0);var G=Q==="string"&&gt.binary===!1&&gt.base64===!1;z&&z.binary!==void 0||(gt.binary=!G),(F instanceof r&&F.uncompressedSize===0||gt.dir||!F||F.length===0)&&(gt.base64=!1,gt.binary=!0,F="",gt.compression="STORE",Q="string");var B=null;B=F instanceof r||F instanceof i?F:l.isNode&&l.isStream(F)?new d(k,F):u.prepareContent(k,F,gt.binary,gt.optimizedBinaryString,gt.base64);var it=new a(k,B,gt);this.files[k]=it}var S=p("./utf8"),u=p("./utils"),i=p("./stream/GenericWorker"),o=p("./stream/StreamHelper"),h=p("./defaults"),r=p("./compressedObject"),a=p("./zipObject"),n=p("./generate"),l=p("./nodejsUtils"),d=p("./nodejs/NodejsStreamInputAdapter"),c=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var F=k.lastIndexOf("/");return 0<F?k.substring(0,F):""},g=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},_=function(k,F){return F=F!==void 0?F:h.createFolders,k=g(k),this.files[k]||b.call(this,k,null,{dir:!0,createFolders:F}),this.files[k]};function C(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var F,z,q;for(F in this.files)q=this.files[F],(z=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&k(z,q)},filter:function(k){var F=[];return this.forEach(function(z,q){k(z,q)&&F.push(q)}),F},file:function(k,F,z){if(arguments.length!==1)return k=this.root+k,b.call(this,k,F,z),this;if(C(k)){var q=k;return this.filter(function(gt,G){return!G.dir&&q.test(gt)})}var Q=this.files[this.root+k];return Q&&!Q.dir?Q:null},folder:function(k){if(!k)return this;if(C(k))return this.filter(function(Q,gt){return gt.dir&&k.test(Q)});var F=this.root+k,z=_.call(this,F),q=this.clone();return q.root=z.name,q},remove:function(k){k=this.root+k;var F=this.files[k];if(F||(k.slice(-1)!=="/"&&(k+="/"),F=this.files[k]),F&&!F.dir)delete this.files[k];else for(var z=this.filter(function(Q,gt){return gt.name.slice(0,k.length)===k}),q=0;q<z.length;q++)delete this.files[z[q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var F,z={};try{if((z=u.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:S.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");u.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var q=z.comment||this.comment||"";F=n.generateWorker(this,z,q)}catch(Q){(F=new i("error")).error(Q)}return new o(F,z.type||"string",z.mimeType)},generateAsync:function(k,F){return this.generateInternalStream(k).accumulate(F)},generateNodeStream:function(k,F){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(F)}};y.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(p,y,w){y.exports=p("stream")},{stream:void 0}],17:[function(p,y,w){var b=p("./DataReader");function S(u){b.call(this,u);for(var i=0;i<this.data.length;i++)u[i]=255&u[i]}p("../utils").inherits(S,b),S.prototype.byteAt=function(u){return this.data[this.zero+u]},S.prototype.lastIndexOfSignature=function(u){for(var i=u.charCodeAt(0),o=u.charCodeAt(1),h=u.charCodeAt(2),r=u.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===i&&this.data[a+1]===o&&this.data[a+2]===h&&this.data[a+3]===r)return a-this.zero;return-1},S.prototype.readAndCheckSignature=function(u){var i=u.charCodeAt(0),o=u.charCodeAt(1),h=u.charCodeAt(2),r=u.charCodeAt(3),a=this.readData(4);return i===a[0]&&o===a[1]&&h===a[2]&&r===a[3]},S.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var i=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,i},y.exports=S},{"../utils":32,"./DataReader":18}],18:[function(p,y,w){var b=p("../utils");function S(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}S.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var i,o=0;for(this.checkOffset(u),i=this.index+u-1;i>=this.index;i--)o=(o<<8)+this.byteAt(i);return this.index+=u,o},readString:function(u){return b.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},y.exports=S},{"../utils":32}],19:[function(p,y,w){var b=p("./Uint8ArrayReader");function S(u){b.call(this,u)}p("../utils").inherits(S,b),S.prototype.readData=function(u){this.checkOffset(u);var i=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,i},y.exports=S},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(p,y,w){var b=p("./DataReader");function S(u){b.call(this,u)}p("../utils").inherits(S,b),S.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},S.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},S.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},S.prototype.readData=function(u){this.checkOffset(u);var i=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,i},y.exports=S},{"../utils":32,"./DataReader":18}],21:[function(p,y,w){var b=p("./ArrayReader");function S(u){b.call(this,u)}p("../utils").inherits(S,b),S.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var i=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,i},y.exports=S},{"../utils":32,"./ArrayReader":17}],22:[function(p,y,w){var b=p("../utils"),S=p("../support"),u=p("./ArrayReader"),i=p("./StringReader"),o=p("./NodeBufferReader"),h=p("./Uint8ArrayReader");y.exports=function(r){var a=b.getTypeOf(r);return b.checkSupport(a),a!=="string"||S.uint8array?a==="nodebuffer"?new o(r):S.uint8array?new h(b.transformTo("uint8array",r)):new u(b.transformTo("array",r)):new i(r)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(p,y,w){w.LOCAL_FILE_HEADER="PK",w.CENTRAL_FILE_HEADER="PK",w.CENTRAL_DIRECTORY_END="PK",w.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",w.ZIP64_CENTRAL_DIRECTORY_END="PK",w.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(p,y,w){var b=p("./GenericWorker"),S=p("../utils");function u(i){b.call(this,"ConvertWorker to "+i),this.destType=i}S.inherits(u,b),u.prototype.processChunk=function(i){this.push({data:S.transformTo(this.destType,i.data),meta:i.meta})},y.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(p,y,w){var b=p("./GenericWorker"),S=p("../crc32");function u(){b.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}p("../utils").inherits(u,b),u.prototype.processChunk=function(i){this.streamInfo.crc32=S(i.data,this.streamInfo.crc32||0),this.push(i)},y.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(p,y,w){var b=p("../utils"),S=p("./GenericWorker");function u(i){S.call(this,"DataLengthProbe for "+i),this.propName=i,this.withStreamInfo(i,0)}b.inherits(u,S),u.prototype.processChunk=function(i){if(i){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+i.data.length}S.prototype.processChunk.call(this,i)},y.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(p,y,w){var b=p("../utils"),S=p("./GenericWorker");function u(i){S.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,i.then(function(h){o.dataIsReady=!0,o.data=h,o.max=h&&h.length||0,o.type=b.getTypeOf(h),o.isPaused||o._tickAndRepeat()},function(h){o.error(h)})}b.inherits(u,S),u.prototype.cleanUp=function(){S.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!S.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,b.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(b.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var i=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":i=this.data.substring(this.index,o);break;case"uint8array":i=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":i=this.data.slice(this.index,o)}return this.index=o,this.push({data:i,meta:{percent:this.max?this.index/this.max*100:0}})},y.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(p,y,w){function b(S){this.name=S||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}b.prototype={push:function(S){this.emit("data",S)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(S){this.emit("error",S)}return!0},error:function(S){return!this.isFinished&&(this.isPaused?this.generatedError=S:(this.isFinished=!0,this.emit("error",S),this.previous&&this.previous.error(S),this.cleanUp()),!0)},on:function(S,u){return this._listeners[S].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(S,u){if(this._listeners[S])for(var i=0;i<this._listeners[S].length;i++)this._listeners[S][i].call(this,u)},pipe:function(S){return S.registerPrevious(this)},registerPrevious:function(S){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=S.streamInfo,this.mergeStreamInfo(),this.previous=S;var u=this;return S.on("data",function(i){u.processChunk(i)}),S.on("end",function(){u.end()}),S.on("error",function(i){u.error(i)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var S=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),S=!0),this.previous&&this.previous.resume(),!S},flush:function(){},processChunk:function(S){this.push(S)},withStreamInfo:function(S,u){return this.extraStreamInfo[S]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var S in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,S)&&(this.streamInfo[S]=this.extraStreamInfo[S])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var S="Worker "+this.name;return this.previous?this.previous+" -> "+S:S}},y.exports=b},{}],29:[function(p,y,w){var b=p("../utils"),S=p("./ConvertWorker"),u=p("./GenericWorker"),i=p("../base64"),o=p("../support"),h=p("../external"),r=null;if(o.nodestream)try{r=p("../nodejs/NodejsStreamOutputAdapter")}catch{}function a(l,d){return new h.Promise(function(c,g){var _=[],C=l._internalType,O=l._outputType,k=l._mimeType;l.on("data",function(F,z){_.push(F),d&&d(z)}).on("error",function(F){_=[],g(F)}).on("end",function(){try{var F=function(z,q,Q){switch(z){case"blob":return b.newBlob(b.transformTo("arraybuffer",q),Q);case"base64":return i.encode(q);default:return b.transformTo(z,q)}}(O,function(z,q){var Q,gt=0,G=null,B=0;for(Q=0;Q<q.length;Q++)B+=q[Q].length;switch(z){case"string":return q.join("");case"array":return Array.prototype.concat.apply([],q);case"uint8array":for(G=new Uint8Array(B),Q=0;Q<q.length;Q++)G.set(q[Q],gt),gt+=q[Q].length;return G;case"nodebuffer":return Buffer.concat(q);default:throw new Error("concat : unsupported type '"+z+"'")}}(C,_),k);c(F)}catch(z){g(z)}_=[]}).resume()})}function n(l,d,c){var g=d;switch(d){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=d,this._mimeType=c,b.checkSupport(g),this._worker=l.pipe(new S(g)),l.lock()}catch(_){this._worker=new u("error"),this._worker.error(_)}}n.prototype={accumulate:function(l){return a(this,l)},on:function(l,d){var c=this;return l==="data"?this._worker.on(l,function(g){d.call(c,g.data,g.meta)}):this._worker.on(l,function(){b.delay(d,arguments,c)}),this},resume:function(){return b.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(l){if(b.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new r(this,{objectMode:this._outputType!=="nodebuffer"},l)}},y.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(p,y,w){if(w.base64=!0,w.array=!0,w.string=!0,w.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",w.nodebuffer=typeof Buffer<"u",w.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")w.blob=!1;else{var b=new ArrayBuffer(0);try{w.blob=new Blob([b],{type:"application/zip"}).size===0}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);S.append(b),w.blob=S.getBlob("application/zip").size===0}catch{w.blob=!1}}}try{w.nodestream=!!p("readable-stream").Readable}catch{w.nodestream=!1}},{"readable-stream":16}],31:[function(p,y,w){for(var b=p("./utils"),S=p("./support"),u=p("./nodejsUtils"),i=p("./stream/GenericWorker"),o=new Array(256),h=0;h<256;h++)o[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;o[254]=o[254]=1;function r(){i.call(this,"utf-8 decode"),this.leftOver=null}function a(){i.call(this,"utf-8 encode")}w.utf8encode=function(n){return S.nodebuffer?u.newBufferFrom(n,"utf-8"):function(l){var d,c,g,_,C,O=l.length,k=0;for(_=0;_<O;_++)(64512&(c=l.charCodeAt(_)))==55296&&_+1<O&&(64512&(g=l.charCodeAt(_+1)))==56320&&(c=65536+(c-55296<<10)+(g-56320),_++),k+=c<128?1:c<2048?2:c<65536?3:4;for(d=S.uint8array?new Uint8Array(k):new Array(k),_=C=0;C<k;_++)(64512&(c=l.charCodeAt(_)))==55296&&_+1<O&&(64512&(g=l.charCodeAt(_+1)))==56320&&(c=65536+(c-55296<<10)+(g-56320),_++),c<128?d[C++]=c:(c<2048?d[C++]=192|c>>>6:(c<65536?d[C++]=224|c>>>12:(d[C++]=240|c>>>18,d[C++]=128|c>>>12&63),d[C++]=128|c>>>6&63),d[C++]=128|63&c);return d}(n)},w.utf8decode=function(n){return S.nodebuffer?b.transformTo("nodebuffer",n).toString("utf-8"):function(l){var d,c,g,_,C=l.length,O=new Array(2*C);for(d=c=0;d<C;)if((g=l[d++])<128)O[c++]=g;else if(4<(_=o[g]))O[c++]=65533,d+=_-1;else{for(g&=_===2?31:_===3?15:7;1<_&&d<C;)g=g<<6|63&l[d++],_--;1<_?O[c++]=65533:g<65536?O[c++]=g:(g-=65536,O[c++]=55296|g>>10&1023,O[c++]=56320|1023&g)}return O.length!==c&&(O.subarray?O=O.subarray(0,c):O.length=c),b.applyFromCharCode(O)}(n=b.transformTo(S.uint8array?"uint8array":"array",n))},b.inherits(r,i),r.prototype.processChunk=function(n){var l=b.transformTo(S.uint8array?"uint8array":"array",n.data);if(this.leftOver&&this.leftOver.length){if(S.uint8array){var d=l;(l=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),l.set(d,this.leftOver.length)}else l=this.leftOver.concat(l);this.leftOver=null}var c=function(_,C){var O;for((C=C||_.length)>_.length&&(C=_.length),O=C-1;0<=O&&(192&_[O])==128;)O--;return O<0||O===0?C:O+o[_[O]]>C?O:C}(l),g=l;c!==l.length&&(S.uint8array?(g=l.subarray(0,c),this.leftOver=l.subarray(c,l.length)):(g=l.slice(0,c),this.leftOver=l.slice(c,l.length))),this.push({data:w.utf8decode(g),meta:n.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:w.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},w.Utf8DecodeWorker=r,b.inherits(a,i),a.prototype.processChunk=function(n){this.push({data:w.utf8encode(n.data),meta:n.meta})},w.Utf8EncodeWorker=a},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(p,y,w){var b=p("./support"),S=p("./base64"),u=p("./nodejsUtils"),i=p("./external");function o(d){return d}function h(d,c){for(var g=0;g<d.length;++g)c[g]=255&d.charCodeAt(g);return c}p("setimmediate"),w.newBlob=function(d,c){w.checkSupport("blob");try{return new Blob([d],{type:c})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(d),g.getBlob(c)}catch{throw new Error("Bug : can't construct the Blob.")}}};var r={stringifyByChunk:function(d,c,g){var _=[],C=0,O=d.length;if(O<=g)return String.fromCharCode.apply(null,d);for(;C<O;)c==="array"||c==="nodebuffer"?_.push(String.fromCharCode.apply(null,d.slice(C,Math.min(C+g,O)))):_.push(String.fromCharCode.apply(null,d.subarray(C,Math.min(C+g,O)))),C+=g;return _.join("")},stringifyByChar:function(d){for(var c="",g=0;g<d.length;g++)c+=String.fromCharCode(d[g]);return c},applyCanBeUsed:{uint8array:function(){try{return b.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return b.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function a(d){var c=65536,g=w.getTypeOf(d),_=!0;if(g==="uint8array"?_=r.applyCanBeUsed.uint8array:g==="nodebuffer"&&(_=r.applyCanBeUsed.nodebuffer),_)for(;1<c;)try{return r.stringifyByChunk(d,g,c)}catch{c=Math.floor(c/2)}return r.stringifyByChar(d)}function n(d,c){for(var g=0;g<d.length;g++)c[g]=d[g];return c}w.applyFromCharCode=a;var l={};l.string={string:o,array:function(d){return h(d,new Array(d.length))},arraybuffer:function(d){return l.string.uint8array(d).buffer},uint8array:function(d){return h(d,new Uint8Array(d.length))},nodebuffer:function(d){return h(d,u.allocBuffer(d.length))}},l.array={string:a,array:o,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return u.newBufferFrom(d)}},l.arraybuffer={string:function(d){return a(new Uint8Array(d))},array:function(d){return n(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:o,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return u.newBufferFrom(new Uint8Array(d))}},l.uint8array={string:a,array:function(d){return n(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:o,nodebuffer:function(d){return u.newBufferFrom(d)}},l.nodebuffer={string:a,array:function(d){return n(d,new Array(d.length))},arraybuffer:function(d){return l.nodebuffer.uint8array(d).buffer},uint8array:function(d){return n(d,new Uint8Array(d.length))},nodebuffer:o},w.transformTo=function(d,c){if(c=c||"",!d)return c;w.checkSupport(d);var g=w.getTypeOf(c);return l[g][d](c)},w.resolve=function(d){for(var c=d.split("/"),g=[],_=0;_<c.length;_++){var C=c[_];C==="."||C===""&&_!==0&&_!==c.length-1||(C===".."?g.pop():g.push(C))}return g.join("/")},w.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":b.nodebuffer&&u.isBuffer(d)?"nodebuffer":b.uint8array&&d instanceof Uint8Array?"uint8array":b.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},w.checkSupport=function(d){if(!b[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},w.MAX_VALUE_16BITS=65535,w.MAX_VALUE_32BITS=-1,w.pretty=function(d){var c,g,_="";for(g=0;g<(d||"").length;g++)_+="\\x"+((c=d.charCodeAt(g))<16?"0":"")+c.toString(16).toUpperCase();return _},w.delay=function(d,c,g){setImmediate(function(){d.apply(g||null,c||[])})},w.inherits=function(d,c){function g(){}g.prototype=c.prototype,d.prototype=new g},w.extend=function(){var d,c,g={};for(d=0;d<arguments.length;d++)for(c in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],c)&&g[c]===void 0&&(g[c]=arguments[d][c]);return g},w.prepareContent=function(d,c,g,_,C){return i.Promise.resolve(c).then(function(O){return b.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new i.Promise(function(k,F){var z=new FileReader;z.onload=function(q){k(q.target.result)},z.onerror=function(q){F(q.target.error)},z.readAsArrayBuffer(O)}):O}).then(function(O){var k=w.getTypeOf(O);return k?(k==="arraybuffer"?O=w.transformTo("uint8array",O):k==="string"&&(C?O=S.decode(O):g&&_!==!0&&(O=function(F){return h(F,b.uint8array?new Uint8Array(F.length):new Array(F.length))}(O))),O):i.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(p,y,w){var b=p("./reader/readerFor"),S=p("./utils"),u=p("./signature"),i=p("./zipEntry"),o=p("./support");function h(r){this.files=[],this.loadOptions=r}h.prototype={checkSignature:function(r){if(!this.reader.readAndCheckSignature(r)){this.reader.index-=4;var a=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+S.pretty(a)+", expected "+S.pretty(r)+")")}},isSignature:function(r,a){var n=this.reader.index;this.reader.setIndex(r);var l=this.reader.readString(4)===a;return this.reader.setIndex(n),l},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var r=this.reader.readData(this.zipCommentLength),a=o.uint8array?"uint8array":"array",n=S.transformTo(a,r);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var r,a,n,l=this.zip64EndOfCentralSize-44;0<l;)r=this.reader.readInt(2),a=this.reader.readInt(4),n=this.reader.readData(a),this.zip64ExtensibleData[r]={id:r,length:a,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var r,a;for(r=0;r<this.files.length;r++)a=this.files[r],this.reader.setIndex(a.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),a.readLocalPart(this.reader),a.handleUTF8(),a.processAttributes()},readCentralDir:function(){var r;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(r=new i({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(r);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var r=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(r<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(r);var a=r;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===S.MAX_VALUE_16BITS||this.diskWithCentralDirStart===S.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===S.MAX_VALUE_16BITS||this.centralDirRecords===S.MAX_VALUE_16BITS||this.centralDirSize===S.MAX_VALUE_32BITS||this.centralDirOffset===S.MAX_VALUE_32BITS){if(this.zip64=!0,(r=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(r),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var l=a-n;if(0<l)this.isSignature(a,u.CENTRAL_FILE_HEADER)||(this.reader.zero=l);else if(l<0)throw new Error("Corrupted zip: missing "+Math.abs(l)+" bytes.")},prepareReader:function(r){this.reader=b(r)},load:function(r){this.prepareReader(r),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},y.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(p,y,w){var b=p("./reader/readerFor"),S=p("./utils"),u=p("./compressedObject"),i=p("./crc32"),o=p("./utf8"),h=p("./compressions"),r=p("./support");function a(n,l){this.options=n,this.loadOptions=l}a.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(n){var l,d;if(n.skip(22),this.fileNameLength=n.readInt(2),d=n.readInt(2),this.fileName=n.readData(this.fileNameLength),n.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((l=function(c){for(var g in h)if(Object.prototype.hasOwnProperty.call(h,g)&&h[g].magic===c)return h[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+S.pretty(this.compressionMethod)+" unknown (inner file : "+S.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,l,n.readData(this.compressedSize))},readCentralPart:function(n){this.versionMadeBy=n.readInt(2),n.skip(2),this.bitFlag=n.readInt(2),this.compressionMethod=n.readString(2),this.date=n.readDate(),this.crc32=n.readInt(4),this.compressedSize=n.readInt(4),this.uncompressedSize=n.readInt(4);var l=n.readInt(2);if(this.extraFieldsLength=n.readInt(2),this.fileCommentLength=n.readInt(2),this.diskNumberStart=n.readInt(2),this.internalFileAttributes=n.readInt(2),this.externalFileAttributes=n.readInt(4),this.localHeaderOffset=n.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");n.skip(l),this.readExtraFields(n),this.parseZIP64ExtraField(n),this.fileComment=n.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var n=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),n==0&&(this.dosPermissions=63&this.externalFileAttributes),n==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var n=b(this.extraFields[1].value);this.uncompressedSize===S.MAX_VALUE_32BITS&&(this.uncompressedSize=n.readInt(8)),this.compressedSize===S.MAX_VALUE_32BITS&&(this.compressedSize=n.readInt(8)),this.localHeaderOffset===S.MAX_VALUE_32BITS&&(this.localHeaderOffset=n.readInt(8)),this.diskNumberStart===S.MAX_VALUE_32BITS&&(this.diskNumberStart=n.readInt(4))}},readExtraFields:function(n){var l,d,c,g=n.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});n.index+4<g;)l=n.readInt(2),d=n.readInt(2),c=n.readData(d),this.extraFields[l]={id:l,length:d,value:c};n.setIndex(g)},handleUTF8:function(){var n=r.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var l=this.findExtraFieldUnicodePath();if(l!==null)this.fileNameStr=l;else{var d=S.transformTo(n,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var c=this.findExtraFieldUnicodeComment();if(c!==null)this.fileCommentStr=c;else{var g=S.transformTo(n,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var n=this.extraFields[28789];if(n){var l=b(n.value);return l.readInt(1)!==1||i(this.fileName)!==l.readInt(4)?null:o.utf8decode(l.readData(n.length-5))}return null},findExtraFieldUnicodeComment:function(){var n=this.extraFields[25461];if(n){var l=b(n.value);return l.readInt(1)!==1||i(this.fileComment)!==l.readInt(4)?null:o.utf8decode(l.readData(n.length-5))}return null}},y.exports=a},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(p,y,w){function b(l,d,c){this.name=l,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=d,this._dataBinary=c.binary,this.options={compression:c.compression,compressionOptions:c.compressionOptions}}var S=p("./stream/StreamHelper"),u=p("./stream/DataWorker"),i=p("./utf8"),o=p("./compressedObject"),h=p("./stream/GenericWorker");b.prototype={internalStream:function(l){var d=null,c="string";try{if(!l)throw new Error("No output type specified.");var g=(c=l.toLowerCase())==="string"||c==="text";c!=="binarystring"&&c!=="text"||(c="string"),d=this._decompressWorker();var _=!this._dataBinary;_&&!g&&(d=d.pipe(new i.Utf8EncodeWorker)),!_&&g&&(d=d.pipe(new i.Utf8DecodeWorker))}catch(C){(d=new h("error")).error(C)}return new S(d,c,"")},async:function(l,d){return this.internalStream(l).accumulate(d)},nodeStream:function(l,d){return this.internalStream(l||"nodebuffer").toNodejsStream(d)},_compressWorker:function(l,d){if(this._data instanceof o&&this._data.compression.magic===l.magic)return this._data.getCompressedWorker();var c=this._decompressWorker();return this._dataBinary||(c=c.pipe(new i.Utf8EncodeWorker)),o.createWorkerFrom(c,l,d)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new u(this._data)}};for(var r=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],a=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},n=0;n<r.length;n++)b.prototype[r[n]]=a;y.exports=b},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(p,y,w){(function(b){var S,u,i=b.MutationObserver||b.WebKitMutationObserver;if(i){var o=0,h=new i(l),r=b.document.createTextNode("");h.observe(r,{characterData:!0}),S=function(){r.data=o=++o%2}}else if(b.setImmediate||b.MessageChannel===void 0)S="document"in b&&"onreadystatechange"in b.document.createElement("script")?function(){var d=b.document.createElement("script");d.onreadystatechange=function(){l(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},b.document.documentElement.appendChild(d)}:function(){setTimeout(l,0)};else{var a=new b.MessageChannel;a.port1.onmessage=l,S=function(){a.port2.postMessage(0)}}var n=[];function l(){var d,c;u=!0;for(var g=n.length;g;){for(c=n,n=[],d=-1;++d<g;)c[d]();g=n.length}u=!1}y.exports=function(d){n.push(d)!==1||u||S()}}).call(this,typeof Ro<"u"?Ro:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(p,y,w){var b=p("immediate");function S(){}var u={},i=["REJECTED"],o=["FULFILLED"],h=["PENDING"];function r(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,g!==S&&d(this,g)}function a(g,_,C){this.promise=g,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function n(g,_,C){b(function(){var O;try{O=_(C)}catch(k){return u.reject(g,k)}O===g?u.reject(g,new TypeError("Cannot resolve promise with itself")):u.resolve(g,O)})}function l(g){var _=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof _=="function")return function(){_.apply(g,arguments)}}function d(g,_){var C=!1;function O(z){C||(C=!0,u.reject(g,z))}function k(z){C||(C=!0,u.resolve(g,z))}var F=c(function(){_(k,O)});F.status==="error"&&O(F.value)}function c(g,_){var C={};try{C.value=g(_),C.status="success"}catch(O){C.status="error",C.value=O}return C}(y.exports=r).prototype.finally=function(g){if(typeof g!="function")return this;var _=this.constructor;return this.then(function(C){return _.resolve(g()).then(function(){return C})},function(C){return _.resolve(g()).then(function(){throw C})})},r.prototype.catch=function(g){return this.then(null,g)},r.prototype.then=function(g,_){if(typeof g!="function"&&this.state===o||typeof _!="function"&&this.state===i)return this;var C=new this.constructor(S);return this.state!==h?n(C,this.state===o?g:_,this.outcome):this.queue.push(new a(C,g,_)),C},a.prototype.callFulfilled=function(g){u.resolve(this.promise,g)},a.prototype.otherCallFulfilled=function(g){n(this.promise,this.onFulfilled,g)},a.prototype.callRejected=function(g){u.reject(this.promise,g)},a.prototype.otherCallRejected=function(g){n(this.promise,this.onRejected,g)},u.resolve=function(g,_){var C=c(l,_);if(C.status==="error")return u.reject(g,C.value);var O=C.value;if(O)d(g,O);else{g.state=o,g.outcome=_;for(var k=-1,F=g.queue.length;++k<F;)g.queue[k].callFulfilled(_)}return g},u.reject=function(g,_){g.state=i,g.outcome=_;for(var C=-1,O=g.queue.length;++C<O;)g.queue[C].callRejected(_);return g},r.resolve=function(g){return g instanceof this?g:u.resolve(new this(S),g)},r.reject=function(g){var _=new this(S);return u.reject(_,g)},r.all=function(g){var _=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=g.length,O=!1;if(!C)return this.resolve([]);for(var k=new Array(C),F=0,z=-1,q=new this(S);++z<C;)Q(g[z],z);return q;function Q(gt,G){_.resolve(gt).then(function(B){k[G]=B,++F!==C||O||(O=!0,u.resolve(q,k))},function(B){O||(O=!0,u.reject(q,B))})}},r.race=function(g){var _=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=g.length,O=!1;if(!C)return this.resolve([]);for(var k=-1,F=new this(S);++k<C;)z=g[k],_.resolve(z).then(function(q){O||(O=!0,u.resolve(F,q))},function(q){O||(O=!0,u.reject(F,q))});var z;return F}},{immediate:36}],38:[function(p,y,w){var b={};(0,p("./lib/utils/common").assign)(b,p("./lib/deflate"),p("./lib/inflate"),p("./lib/zlib/constants")),y.exports=b},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(p,y,w){var b=p("./zlib/deflate"),S=p("./utils/common"),u=p("./utils/strings"),i=p("./zlib/messages"),o=p("./zlib/zstream"),h=Object.prototype.toString,r=0,a=-1,n=0,l=8;function d(g){if(!(this instanceof d))return new d(g);this.options=S.assign({level:a,method:l,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},g||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var C=b.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(C!==r)throw new Error(i[C]);if(_.header&&b.deflateSetHeader(this.strm,_.header),_.dictionary){var O;if(O=typeof _.dictionary=="string"?u.string2buf(_.dictionary):h.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(C=b.deflateSetDictionary(this.strm,O))!==r)throw new Error(i[C]);this._dict_set=!0}}function c(g,_){var C=new d(_);if(C.push(g,!0),C.err)throw C.msg||i[C.err];return C.result}d.prototype.push=function(g,_){var C,O,k=this.strm,F=this.options.chunkSize;if(this.ended)return!1;O=_===~~_?_:_===!0?4:0,typeof g=="string"?k.input=u.string2buf(g):h.call(g)==="[object ArrayBuffer]"?k.input=new Uint8Array(g):k.input=g,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new S.Buf8(F),k.next_out=0,k.avail_out=F),(C=b.deflate(k,O))!==1&&C!==r)return this.onEnd(C),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(S.shrinkBuf(k.output,k.next_out))):this.onData(S.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&C!==1);return O===4?(C=b.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===r):O!==2||(this.onEnd(r),!(k.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=S.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},w.Deflate=d,w.deflate=c,w.deflateRaw=function(g,_){return(_=_||{}).raw=!0,c(g,_)},w.gzip=function(g,_){return(_=_||{}).gzip=!0,c(g,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(p,y,w){var b=p("./zlib/inflate"),S=p("./utils/common"),u=p("./utils/strings"),i=p("./zlib/constants"),o=p("./zlib/messages"),h=p("./zlib/zstream"),r=p("./zlib/gzheader"),a=Object.prototype.toString;function n(d){if(!(this instanceof n))return new n(d);this.options=S.assign({chunkSize:16384,windowBits:0,to:""},d||{});var c=this.options;c.raw&&0<=c.windowBits&&c.windowBits<16&&(c.windowBits=-c.windowBits,c.windowBits===0&&(c.windowBits=-15)),!(0<=c.windowBits&&c.windowBits<16)||d&&d.windowBits||(c.windowBits+=32),15<c.windowBits&&c.windowBits<48&&(15&c.windowBits)==0&&(c.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var g=b.inflateInit2(this.strm,c.windowBits);if(g!==i.Z_OK)throw new Error(o[g]);this.header=new r,b.inflateGetHeader(this.strm,this.header)}function l(d,c){var g=new n(c);if(g.push(d,!0),g.err)throw g.msg||o[g.err];return g.result}n.prototype.push=function(d,c){var g,_,C,O,k,F,z=this.strm,q=this.options.chunkSize,Q=this.options.dictionary,gt=!1;if(this.ended)return!1;_=c===~~c?c:c===!0?i.Z_FINISH:i.Z_NO_FLUSH,typeof d=="string"?z.input=u.binstring2buf(d):a.call(d)==="[object ArrayBuffer]"?z.input=new Uint8Array(d):z.input=d,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new S.Buf8(q),z.next_out=0,z.avail_out=q),(g=b.inflate(z,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&Q&&(F=typeof Q=="string"?u.string2buf(Q):a.call(Q)==="[object ArrayBuffer]"?new Uint8Array(Q):Q,g=b.inflateSetDictionary(this.strm,F)),g===i.Z_BUF_ERROR&&gt===!0&&(g=i.Z_OK,gt=!1),g!==i.Z_STREAM_END&&g!==i.Z_OK)return this.onEnd(g),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&g!==i.Z_STREAM_END&&(z.avail_in!==0||_!==i.Z_FINISH&&_!==i.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=u.utf8border(z.output,z.next_out),O=z.next_out-C,k=u.buf2string(z.output,C),z.next_out=O,z.avail_out=q-O,O&&S.arraySet(z.output,z.output,C,O,0),this.onData(k)):this.onData(S.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(gt=!0)}while((0<z.avail_in||z.avail_out===0)&&g!==i.Z_STREAM_END);return g===i.Z_STREAM_END&&(_=i.Z_FINISH),_===i.Z_FINISH?(g=b.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===i.Z_OK):_!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),!(z.avail_out=0))},n.prototype.onData=function(d){this.chunks.push(d)},n.prototype.onEnd=function(d){d===i.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=S.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},w.Inflate=n,w.inflate=l,w.inflateRaw=function(d,c){return(c=c||{}).raw=!0,l(d,c)},w.ungzip=l},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(p,y,w){var b=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";w.assign=function(i){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var h=o.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var r in h)h.hasOwnProperty(r)&&(i[r]=h[r])}}return i},w.shrinkBuf=function(i,o){return i.length===o?i:i.subarray?i.subarray(0,o):(i.length=o,i)};var S={arraySet:function(i,o,h,r,a){if(o.subarray&&i.subarray)i.set(o.subarray(h,h+r),a);else for(var n=0;n<r;n++)i[a+n]=o[h+n]},flattenChunks:function(i){var o,h,r,a,n,l;for(o=r=0,h=i.length;o<h;o++)r+=i[o].length;for(l=new Uint8Array(r),o=a=0,h=i.length;o<h;o++)n=i[o],l.set(n,a),a+=n.length;return l}},u={arraySet:function(i,o,h,r,a){for(var n=0;n<r;n++)i[a+n]=o[h+n]},flattenChunks:function(i){return[].concat.apply([],i)}};w.setTyped=function(i){i?(w.Buf8=Uint8Array,w.Buf16=Uint16Array,w.Buf32=Int32Array,w.assign(w,S)):(w.Buf8=Array,w.Buf16=Array,w.Buf32=Array,w.assign(w,u))},w.setTyped(b)},{}],42:[function(p,y,w){var b=p("./common"),S=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{S=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var i=new b.Buf8(256),o=0;o<256;o++)i[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function h(r,a){if(a<65537&&(r.subarray&&u||!r.subarray&&S))return String.fromCharCode.apply(null,b.shrinkBuf(r,a));for(var n="",l=0;l<a;l++)n+=String.fromCharCode(r[l]);return n}i[254]=i[254]=1,w.string2buf=function(r){var a,n,l,d,c,g=r.length,_=0;for(d=0;d<g;d++)(64512&(n=r.charCodeAt(d)))==55296&&d+1<g&&(64512&(l=r.charCodeAt(d+1)))==56320&&(n=65536+(n-55296<<10)+(l-56320),d++),_+=n<128?1:n<2048?2:n<65536?3:4;for(a=new b.Buf8(_),d=c=0;c<_;d++)(64512&(n=r.charCodeAt(d)))==55296&&d+1<g&&(64512&(l=r.charCodeAt(d+1)))==56320&&(n=65536+(n-55296<<10)+(l-56320),d++),n<128?a[c++]=n:(n<2048?a[c++]=192|n>>>6:(n<65536?a[c++]=224|n>>>12:(a[c++]=240|n>>>18,a[c++]=128|n>>>12&63),a[c++]=128|n>>>6&63),a[c++]=128|63&n);return a},w.buf2binstring=function(r){return h(r,r.length)},w.binstring2buf=function(r){for(var a=new b.Buf8(r.length),n=0,l=a.length;n<l;n++)a[n]=r.charCodeAt(n);return a},w.buf2string=function(r,a){var n,l,d,c,g=a||r.length,_=new Array(2*g);for(n=l=0;n<g;)if((d=r[n++])<128)_[l++]=d;else if(4<(c=i[d]))_[l++]=65533,n+=c-1;else{for(d&=c===2?31:c===3?15:7;1<c&&n<g;)d=d<<6|63&r[n++],c--;1<c?_[l++]=65533:d<65536?_[l++]=d:(d-=65536,_[l++]=55296|d>>10&1023,_[l++]=56320|1023&d)}return h(_,l)},w.utf8border=function(r,a){var n;for((a=a||r.length)>r.length&&(a=r.length),n=a-1;0<=n&&(192&r[n])==128;)n--;return n<0||n===0?a:n+i[r[n]]>a?n:a}},{"./common":41}],43:[function(p,y,w){y.exports=function(b,S,u,i){for(var o=65535&b|0,h=b>>>16&65535|0,r=0;u!==0;){for(u-=r=2e3<u?2e3:u;h=h+(o=o+S[i++]|0)|0,--r;);o%=65521,h%=65521}return o|h<<16|0}},{}],44:[function(p,y,w){y.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(p,y,w){var b=function(){for(var S,u=[],i=0;i<256;i++){S=i;for(var o=0;o<8;o++)S=1&S?3988292384^S>>>1:S>>>1;u[i]=S}return u}();y.exports=function(S,u,i,o){var h=b,r=o+i;S^=-1;for(var a=o;a<r;a++)S=S>>>8^h[255&(S^u[a])];return-1^S}},{}],46:[function(p,y,w){var b,S=p("../utils/common"),u=p("./trees"),i=p("./adler32"),o=p("./crc32"),h=p("./messages"),r=0,a=4,n=0,l=-2,d=-1,c=4,g=2,_=8,C=9,O=286,k=30,F=19,z=2*O+1,q=15,Q=3,gt=258,G=gt+Q+1,B=42,it=113,M=1,mt=2,st=3,ut=4;function vt(j,rt){return j.msg=h[rt],rt}function W(j){return(j<<1)-(4<j?9:0)}function Y(j){for(var rt=j.length;0<=--rt;)j[rt]=0}function H(j){var rt=j.state,X=rt.pending;X>j.avail_out&&(X=j.avail_out),X!==0&&(S.arraySet(j.output,rt.pending_buf,rt.pending_out,X,j.next_out),j.next_out+=X,rt.pending_out+=X,j.total_out+=X,j.avail_out-=X,rt.pending-=X,rt.pending===0&&(rt.pending_out=0))}function N(j,rt){u._tr_flush_block(j,0<=j.block_start?j.block_start:-1,j.strstart-j.block_start,rt),j.block_start=j.strstart,H(j.strm)}function U(j,rt){j.pending_buf[j.pending++]=rt}function R(j,rt){j.pending_buf[j.pending++]=rt>>>8&255,j.pending_buf[j.pending++]=255&rt}function P(j,rt){var X,$,K=j.max_chain_length,ot=j.strstart,_t=j.prev_length,St=j.nice_match,ft=j.strstart>j.w_size-G?j.strstart-(j.w_size-G):0,Lt=j.window,Bt=j.w_mask,qt=j.prev,$t=j.strstart+gt,re=Lt[ot+_t-1],se=Lt[ot+_t];j.prev_length>=j.good_match&&(K>>=2),St>j.lookahead&&(St=j.lookahead);do if(Lt[(X=rt)+_t]===se&&Lt[X+_t-1]===re&&Lt[X]===Lt[ot]&&Lt[++X]===Lt[ot+1]){ot+=2,X++;do;while(Lt[++ot]===Lt[++X]&&Lt[++ot]===Lt[++X]&&Lt[++ot]===Lt[++X]&&Lt[++ot]===Lt[++X]&&Lt[++ot]===Lt[++X]&&Lt[++ot]===Lt[++X]&&Lt[++ot]===Lt[++X]&&Lt[++ot]===Lt[++X]&&ot<$t);if($=gt-($t-ot),ot=$t-gt,_t<$){if(j.match_start=rt,St<=(_t=$))break;re=Lt[ot+_t-1],se=Lt[ot+_t]}}while((rt=qt[rt&Bt])>ft&&--K!=0);return _t<=j.lookahead?_t:j.lookahead}function V(j){var rt,X,$,K,ot,_t,St,ft,Lt,Bt,qt=j.w_size;do{if(K=j.window_size-j.lookahead-j.strstart,j.strstart>=qt+(qt-G)){for(S.arraySet(j.window,j.window,qt,qt,0),j.match_start-=qt,j.strstart-=qt,j.block_start-=qt,rt=X=j.hash_size;$=j.head[--rt],j.head[rt]=qt<=$?$-qt:0,--X;);for(rt=X=qt;$=j.prev[--rt],j.prev[rt]=qt<=$?$-qt:0,--X;);K+=qt}if(j.strm.avail_in===0)break;if(_t=j.strm,St=j.window,ft=j.strstart+j.lookahead,Lt=K,Bt=void 0,Bt=_t.avail_in,Lt<Bt&&(Bt=Lt),X=Bt===0?0:(_t.avail_in-=Bt,S.arraySet(St,_t.input,_t.next_in,Bt,ft),_t.state.wrap===1?_t.adler=i(_t.adler,St,Bt,ft):_t.state.wrap===2&&(_t.adler=o(_t.adler,St,Bt,ft)),_t.next_in+=Bt,_t.total_in+=Bt,Bt),j.lookahead+=X,j.lookahead+j.insert>=Q)for(ot=j.strstart-j.insert,j.ins_h=j.window[ot],j.ins_h=(j.ins_h<<j.hash_shift^j.window[ot+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[ot+Q-1])&j.hash_mask,j.prev[ot&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=ot,ot++,j.insert--,!(j.lookahead+j.insert<Q)););}while(j.lookahead<G&&j.strm.avail_in!==0)}function J(j,rt){for(var X,$;;){if(j.lookahead<G){if(V(j),j.lookahead<G&&rt===r)return M;if(j.lookahead===0)break}if(X=0,j.lookahead>=Q&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+Q-1])&j.hash_mask,X=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),X!==0&&j.strstart-X<=j.w_size-G&&(j.match_length=P(j,X)),j.match_length>=Q)if($=u._tr_tally(j,j.strstart-j.match_start,j.match_length-Q),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=Q){for(j.match_length--;j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+Q-1])&j.hash_mask,X=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart,--j.match_length!=0;);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else $=u._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if($&&(N(j,!1),j.strm.avail_out===0))return M}return j.insert=j.strstart<Q-1?j.strstart:Q-1,rt===a?(N(j,!0),j.strm.avail_out===0?st:ut):j.last_lit&&(N(j,!1),j.strm.avail_out===0)?M:mt}function ht(j,rt){for(var X,$,K;;){if(j.lookahead<G){if(V(j),j.lookahead<G&&rt===r)return M;if(j.lookahead===0)break}if(X=0,j.lookahead>=Q&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+Q-1])&j.hash_mask,X=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=Q-1,X!==0&&j.prev_length<j.max_lazy_match&&j.strstart-X<=j.w_size-G&&(j.match_length=P(j,X),j.match_length<=5&&(j.strategy===1||j.match_length===Q&&4096<j.strstart-j.match_start)&&(j.match_length=Q-1)),j.prev_length>=Q&&j.match_length<=j.prev_length){for(K=j.strstart+j.lookahead-Q,$=u._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-Q),j.lookahead-=j.prev_length-1,j.prev_length-=2;++j.strstart<=K&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+Q-1])&j.hash_mask,X=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),--j.prev_length!=0;);if(j.match_available=0,j.match_length=Q-1,j.strstart++,$&&(N(j,!1),j.strm.avail_out===0))return M}else if(j.match_available){if(($=u._tr_tally(j,0,j.window[j.strstart-1]))&&N(j,!1),j.strstart++,j.lookahead--,j.strm.avail_out===0)return M}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&($=u._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<Q-1?j.strstart:Q-1,rt===a?(N(j,!0),j.strm.avail_out===0?st:ut):j.last_lit&&(N(j,!1),j.strm.avail_out===0)?M:mt}function dt(j,rt,X,$,K){this.good_length=j,this.max_lazy=rt,this.nice_length=X,this.max_chain=$,this.func=K}function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new S.Buf16(2*z),this.dyn_dtree=new S.Buf16(2*(2*k+1)),this.bl_tree=new S.Buf16(2*(2*F+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new S.Buf16(q+1),this.heap=new S.Buf16(2*O+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new S.Buf16(2*O+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function wt(j){var rt;return j&&j.state?(j.total_in=j.total_out=0,j.data_type=g,(rt=j.state).pending=0,rt.pending_out=0,rt.wrap<0&&(rt.wrap=-rt.wrap),rt.status=rt.wrap?B:it,j.adler=rt.wrap===2?0:1,rt.last_flush=r,u._tr_init(rt),n):vt(j,l)}function Nt(j){var rt=wt(j);return rt===n&&function(X){X.window_size=2*X.w_size,Y(X.head),X.max_lazy_match=b[X.level].max_lazy,X.good_match=b[X.level].good_length,X.nice_match=b[X.level].nice_length,X.max_chain_length=b[X.level].max_chain,X.strstart=0,X.block_start=0,X.lookahead=0,X.insert=0,X.match_length=X.prev_length=Q-1,X.match_available=0,X.ins_h=0}(j.state),rt}function xt(j,rt,X,$,K,ot){if(!j)return l;var _t=1;if(rt===d&&(rt=6),$<0?(_t=0,$=-$):15<$&&(_t=2,$-=16),K<1||C<K||X!==_||$<8||15<$||rt<0||9<rt||ot<0||c<ot)return vt(j,l);$===8&&($=9);var St=new At;return(j.state=St).strm=j,St.wrap=_t,St.gzhead=null,St.w_bits=$,St.w_size=1<<St.w_bits,St.w_mask=St.w_size-1,St.hash_bits=K+7,St.hash_size=1<<St.hash_bits,St.hash_mask=St.hash_size-1,St.hash_shift=~~((St.hash_bits+Q-1)/Q),St.window=new S.Buf8(2*St.w_size),St.head=new S.Buf16(St.hash_size),St.prev=new S.Buf16(St.w_size),St.lit_bufsize=1<<K+6,St.pending_buf_size=4*St.lit_bufsize,St.pending_buf=new S.Buf8(St.pending_buf_size),St.d_buf=1*St.lit_bufsize,St.l_buf=3*St.lit_bufsize,St.level=rt,St.strategy=ot,St.method=X,Nt(j)}b=[new dt(0,0,0,0,function(j,rt){var X=65535;for(X>j.pending_buf_size-5&&(X=j.pending_buf_size-5);;){if(j.lookahead<=1){if(V(j),j.lookahead===0&&rt===r)return M;if(j.lookahead===0)break}j.strstart+=j.lookahead,j.lookahead=0;var $=j.block_start+X;if((j.strstart===0||j.strstart>=$)&&(j.lookahead=j.strstart-$,j.strstart=$,N(j,!1),j.strm.avail_out===0)||j.strstart-j.block_start>=j.w_size-G&&(N(j,!1),j.strm.avail_out===0))return M}return j.insert=0,rt===a?(N(j,!0),j.strm.avail_out===0?st:ut):(j.strstart>j.block_start&&(N(j,!1),j.strm.avail_out),M)}),new dt(4,4,8,4,J),new dt(4,5,16,8,J),new dt(4,6,32,32,J),new dt(4,4,16,16,ht),new dt(8,16,32,32,ht),new dt(8,16,128,128,ht),new dt(8,32,128,256,ht),new dt(32,128,258,1024,ht),new dt(32,258,258,4096,ht)],w.deflateInit=function(j,rt){return xt(j,rt,_,15,8,0)},w.deflateInit2=xt,w.deflateReset=Nt,w.deflateResetKeep=wt,w.deflateSetHeader=function(j,rt){return j&&j.state?j.state.wrap!==2?l:(j.state.gzhead=rt,n):l},w.deflate=function(j,rt){var X,$,K,ot;if(!j||!j.state||5<rt||rt<0)return j?vt(j,l):l;if($=j.state,!j.output||!j.input&&j.avail_in!==0||$.status===666&&rt!==a)return vt(j,j.avail_out===0?-5:l);if($.strm=j,X=$.last_flush,$.last_flush=rt,$.status===B)if($.wrap===2)j.adler=0,U($,31),U($,139),U($,8),$.gzhead?(U($,($.gzhead.text?1:0)+($.gzhead.hcrc?2:0)+($.gzhead.extra?4:0)+($.gzhead.name?8:0)+($.gzhead.comment?16:0)),U($,255&$.gzhead.time),U($,$.gzhead.time>>8&255),U($,$.gzhead.time>>16&255),U($,$.gzhead.time>>24&255),U($,$.level===9?2:2<=$.strategy||$.level<2?4:0),U($,255&$.gzhead.os),$.gzhead.extra&&$.gzhead.extra.length&&(U($,255&$.gzhead.extra.length),U($,$.gzhead.extra.length>>8&255)),$.gzhead.hcrc&&(j.adler=o(j.adler,$.pending_buf,$.pending,0)),$.gzindex=0,$.status=69):(U($,0),U($,0),U($,0),U($,0),U($,0),U($,$.level===9?2:2<=$.strategy||$.level<2?4:0),U($,3),$.status=it);else{var _t=_+($.w_bits-8<<4)<<8;_t|=(2<=$.strategy||$.level<2?0:$.level<6?1:$.level===6?2:3)<<6,$.strstart!==0&&(_t|=32),_t+=31-_t%31,$.status=it,R($,_t),$.strstart!==0&&(R($,j.adler>>>16),R($,65535&j.adler)),j.adler=1}if($.status===69)if($.gzhead.extra){for(K=$.pending;$.gzindex<(65535&$.gzhead.extra.length)&&($.pending!==$.pending_buf_size||($.gzhead.hcrc&&$.pending>K&&(j.adler=o(j.adler,$.pending_buf,$.pending-K,K)),H(j),K=$.pending,$.pending!==$.pending_buf_size));)U($,255&$.gzhead.extra[$.gzindex]),$.gzindex++;$.gzhead.hcrc&&$.pending>K&&(j.adler=o(j.adler,$.pending_buf,$.pending-K,K)),$.gzindex===$.gzhead.extra.length&&($.gzindex=0,$.status=73)}else $.status=73;if($.status===73)if($.gzhead.name){K=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>K&&(j.adler=o(j.adler,$.pending_buf,$.pending-K,K)),H(j),K=$.pending,$.pending===$.pending_buf_size)){ot=1;break}ot=$.gzindex<$.gzhead.name.length?255&$.gzhead.name.charCodeAt($.gzindex++):0,U($,ot)}while(ot!==0);$.gzhead.hcrc&&$.pending>K&&(j.adler=o(j.adler,$.pending_buf,$.pending-K,K)),ot===0&&($.gzindex=0,$.status=91)}else $.status=91;if($.status===91)if($.gzhead.comment){K=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>K&&(j.adler=o(j.adler,$.pending_buf,$.pending-K,K)),H(j),K=$.pending,$.pending===$.pending_buf_size)){ot=1;break}ot=$.gzindex<$.gzhead.comment.length?255&$.gzhead.comment.charCodeAt($.gzindex++):0,U($,ot)}while(ot!==0);$.gzhead.hcrc&&$.pending>K&&(j.adler=o(j.adler,$.pending_buf,$.pending-K,K)),ot===0&&($.status=103)}else $.status=103;if($.status===103&&($.gzhead.hcrc?($.pending+2>$.pending_buf_size&&H(j),$.pending+2<=$.pending_buf_size&&(U($,255&j.adler),U($,j.adler>>8&255),j.adler=0,$.status=it)):$.status=it),$.pending!==0){if(H(j),j.avail_out===0)return $.last_flush=-1,n}else if(j.avail_in===0&&W(rt)<=W(X)&&rt!==a)return vt(j,-5);if($.status===666&&j.avail_in!==0)return vt(j,-5);if(j.avail_in!==0||$.lookahead!==0||rt!==r&&$.status!==666){var St=$.strategy===2?function(ft,Lt){for(var Bt;;){if(ft.lookahead===0&&(V(ft),ft.lookahead===0)){if(Lt===r)return M;break}if(ft.match_length=0,Bt=u._tr_tally(ft,0,ft.window[ft.strstart]),ft.lookahead--,ft.strstart++,Bt&&(N(ft,!1),ft.strm.avail_out===0))return M}return ft.insert=0,Lt===a?(N(ft,!0),ft.strm.avail_out===0?st:ut):ft.last_lit&&(N(ft,!1),ft.strm.avail_out===0)?M:mt}($,rt):$.strategy===3?function(ft,Lt){for(var Bt,qt,$t,re,se=ft.window;;){if(ft.lookahead<=gt){if(V(ft),ft.lookahead<=gt&&Lt===r)return M;if(ft.lookahead===0)break}if(ft.match_length=0,ft.lookahead>=Q&&0<ft.strstart&&(qt=se[$t=ft.strstart-1])===se[++$t]&&qt===se[++$t]&&qt===se[++$t]){re=ft.strstart+gt;do;while(qt===se[++$t]&&qt===se[++$t]&&qt===se[++$t]&&qt===se[++$t]&&qt===se[++$t]&&qt===se[++$t]&&qt===se[++$t]&&qt===se[++$t]&&$t<re);ft.match_length=gt-(re-$t),ft.match_length>ft.lookahead&&(ft.match_length=ft.lookahead)}if(ft.match_length>=Q?(Bt=u._tr_tally(ft,1,ft.match_length-Q),ft.lookahead-=ft.match_length,ft.strstart+=ft.match_length,ft.match_length=0):(Bt=u._tr_tally(ft,0,ft.window[ft.strstart]),ft.lookahead--,ft.strstart++),Bt&&(N(ft,!1),ft.strm.avail_out===0))return M}return ft.insert=0,Lt===a?(N(ft,!0),ft.strm.avail_out===0?st:ut):ft.last_lit&&(N(ft,!1),ft.strm.avail_out===0)?M:mt}($,rt):b[$.level].func($,rt);if(St!==st&&St!==ut||($.status=666),St===M||St===st)return j.avail_out===0&&($.last_flush=-1),n;if(St===mt&&(rt===1?u._tr_align($):rt!==5&&(u._tr_stored_block($,0,0,!1),rt===3&&(Y($.head),$.lookahead===0&&($.strstart=0,$.block_start=0,$.insert=0))),H(j),j.avail_out===0))return $.last_flush=-1,n}return rt!==a?n:$.wrap<=0?1:($.wrap===2?(U($,255&j.adler),U($,j.adler>>8&255),U($,j.adler>>16&255),U($,j.adler>>24&255),U($,255&j.total_in),U($,j.total_in>>8&255),U($,j.total_in>>16&255),U($,j.total_in>>24&255)):(R($,j.adler>>>16),R($,65535&j.adler)),H(j),0<$.wrap&&($.wrap=-$.wrap),$.pending!==0?n:1)},w.deflateEnd=function(j){var rt;return j&&j.state?(rt=j.state.status)!==B&&rt!==69&&rt!==73&&rt!==91&&rt!==103&&rt!==it&&rt!==666?vt(j,l):(j.state=null,rt===it?vt(j,-3):n):l},w.deflateSetDictionary=function(j,rt){var X,$,K,ot,_t,St,ft,Lt,Bt=rt.length;if(!j||!j.state||(ot=(X=j.state).wrap)===2||ot===1&&X.status!==B||X.lookahead)return l;for(ot===1&&(j.adler=i(j.adler,rt,Bt,0)),X.wrap=0,Bt>=X.w_size&&(ot===0&&(Y(X.head),X.strstart=0,X.block_start=0,X.insert=0),Lt=new S.Buf8(X.w_size),S.arraySet(Lt,rt,Bt-X.w_size,X.w_size,0),rt=Lt,Bt=X.w_size),_t=j.avail_in,St=j.next_in,ft=j.input,j.avail_in=Bt,j.next_in=0,j.input=rt,V(X);X.lookahead>=Q;){for($=X.strstart,K=X.lookahead-(Q-1);X.ins_h=(X.ins_h<<X.hash_shift^X.window[$+Q-1])&X.hash_mask,X.prev[$&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=$,$++,--K;);X.strstart=$,X.lookahead=Q-1,V(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=Q-1,X.match_available=0,j.next_in=St,j.input=ft,j.avail_in=_t,X.wrap=ot,n},w.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(p,y,w){y.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(p,y,w){y.exports=function(b,S){var u,i,o,h,r,a,n,l,d,c,g,_,C,O,k,F,z,q,Q,gt,G,B,it,M,mt;u=b.state,i=b.next_in,M=b.input,o=i+(b.avail_in-5),h=b.next_out,mt=b.output,r=h-(S-b.avail_out),a=h+(b.avail_out-257),n=u.dmax,l=u.wsize,d=u.whave,c=u.wnext,g=u.window,_=u.hold,C=u.bits,O=u.lencode,k=u.distcode,F=(1<<u.lenbits)-1,z=(1<<u.distbits)-1;t:do{C<15&&(_+=M[i++]<<C,C+=8,_+=M[i++]<<C,C+=8),q=O[_&F];e:for(;;){if(_>>>=Q=q>>>24,C-=Q,(Q=q>>>16&255)===0)mt[h++]=65535&q;else{if(!(16&Q)){if((64&Q)==0){q=O[(65535&q)+(_&(1<<Q)-1)];continue e}if(32&Q){u.mode=12;break t}b.msg="invalid literal/length code",u.mode=30;break t}gt=65535&q,(Q&=15)&&(C<Q&&(_+=M[i++]<<C,C+=8),gt+=_&(1<<Q)-1,_>>>=Q,C-=Q),C<15&&(_+=M[i++]<<C,C+=8,_+=M[i++]<<C,C+=8),q=k[_&z];i:for(;;){if(_>>>=Q=q>>>24,C-=Q,!(16&(Q=q>>>16&255))){if((64&Q)==0){q=k[(65535&q)+(_&(1<<Q)-1)];continue i}b.msg="invalid distance code",u.mode=30;break t}if(G=65535&q,C<(Q&=15)&&(_+=M[i++]<<C,(C+=8)<Q&&(_+=M[i++]<<C,C+=8)),n<(G+=_&(1<<Q)-1)){b.msg="invalid distance too far back",u.mode=30;break t}if(_>>>=Q,C-=Q,(Q=h-r)<G){if(d<(Q=G-Q)&&u.sane){b.msg="invalid distance too far back",u.mode=30;break t}if(it=g,(B=0)===c){if(B+=l-Q,Q<gt){for(gt-=Q;mt[h++]=g[B++],--Q;);B=h-G,it=mt}}else if(c<Q){if(B+=l+c-Q,(Q-=c)<gt){for(gt-=Q;mt[h++]=g[B++],--Q;);if(B=0,c<gt){for(gt-=Q=c;mt[h++]=g[B++],--Q;);B=h-G,it=mt}}}else if(B+=c-Q,Q<gt){for(gt-=Q;mt[h++]=g[B++],--Q;);B=h-G,it=mt}for(;2<gt;)mt[h++]=it[B++],mt[h++]=it[B++],mt[h++]=it[B++],gt-=3;gt&&(mt[h++]=it[B++],1<gt&&(mt[h++]=it[B++]))}else{for(B=h-G;mt[h++]=mt[B++],mt[h++]=mt[B++],mt[h++]=mt[B++],2<(gt-=3););gt&&(mt[h++]=mt[B++],1<gt&&(mt[h++]=mt[B++]))}break}}break}}while(i<o&&h<a);i-=gt=C>>3,_&=(1<<(C-=gt<<3))-1,b.next_in=i,b.next_out=h,b.avail_in=i<o?o-i+5:5-(i-o),b.avail_out=h<a?a-h+257:257-(h-a),u.hold=_,u.bits=C}},{}],49:[function(p,y,w){var b=p("../utils/common"),S=p("./adler32"),u=p("./crc32"),i=p("./inffast"),o=p("./inftrees"),h=1,r=2,a=0,n=-2,l=1,d=852,c=592;function g(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new b.Buf16(320),this.work=new b.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(B){var it;return B&&B.state?(it=B.state,B.total_in=B.total_out=it.total=0,B.msg="",it.wrap&&(B.adler=1&it.wrap),it.mode=l,it.last=0,it.havedict=0,it.dmax=32768,it.head=null,it.hold=0,it.bits=0,it.lencode=it.lendyn=new b.Buf32(d),it.distcode=it.distdyn=new b.Buf32(c),it.sane=1,it.back=-1,a):n}function O(B){var it;return B&&B.state?((it=B.state).wsize=0,it.whave=0,it.wnext=0,C(B)):n}function k(B,it){var M,mt;return B&&B.state?(mt=B.state,it<0?(M=0,it=-it):(M=1+(it>>4),it<48&&(it&=15)),it&&(it<8||15<it)?n:(mt.window!==null&&mt.wbits!==it&&(mt.window=null),mt.wrap=M,mt.wbits=it,O(B))):n}function F(B,it){var M,mt;return B?(mt=new _,(B.state=mt).window=null,(M=k(B,it))!==a&&(B.state=null),M):n}var z,q,Q=!0;function gt(B){if(Q){var it;for(z=new b.Buf32(512),q=new b.Buf32(32),it=0;it<144;)B.lens[it++]=8;for(;it<256;)B.lens[it++]=9;for(;it<280;)B.lens[it++]=7;for(;it<288;)B.lens[it++]=8;for(o(h,B.lens,0,288,z,0,B.work,{bits:9}),it=0;it<32;)B.lens[it++]=5;o(r,B.lens,0,32,q,0,B.work,{bits:5}),Q=!1}B.lencode=z,B.lenbits=9,B.distcode=q,B.distbits=5}function G(B,it,M,mt){var st,ut=B.state;return ut.window===null&&(ut.wsize=1<<ut.wbits,ut.wnext=0,ut.whave=0,ut.window=new b.Buf8(ut.wsize)),mt>=ut.wsize?(b.arraySet(ut.window,it,M-ut.wsize,ut.wsize,0),ut.wnext=0,ut.whave=ut.wsize):(mt<(st=ut.wsize-ut.wnext)&&(st=mt),b.arraySet(ut.window,it,M-mt,st,ut.wnext),(mt-=st)?(b.arraySet(ut.window,it,M-mt,mt,0),ut.wnext=mt,ut.whave=ut.wsize):(ut.wnext+=st,ut.wnext===ut.wsize&&(ut.wnext=0),ut.whave<ut.wsize&&(ut.whave+=st))),0}w.inflateReset=O,w.inflateReset2=k,w.inflateResetKeep=C,w.inflateInit=function(B){return F(B,15)},w.inflateInit2=F,w.inflate=function(B,it){var M,mt,st,ut,vt,W,Y,H,N,U,R,P,V,J,ht,dt,At,wt,Nt,xt,j,rt,X,$,K=0,ot=new b.Buf8(4),_t=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return n;(M=B.state).mode===12&&(M.mode=13),vt=B.next_out,st=B.output,Y=B.avail_out,ut=B.next_in,mt=B.input,W=B.avail_in,H=M.hold,N=M.bits,U=W,R=Y,rt=a;t:for(;;)switch(M.mode){case l:if(M.wrap===0){M.mode=13;break}for(;N<16;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}if(2&M.wrap&&H===35615){ot[M.check=0]=255&H,ot[1]=H>>>8&255,M.check=u(M.check,ot,2,0),N=H=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&H)<<8)+(H>>8))%31){B.msg="incorrect header check",M.mode=30;break}if((15&H)!=8){B.msg="unknown compression method",M.mode=30;break}if(N-=4,j=8+(15&(H>>>=4)),M.wbits===0)M.wbits=j;else if(j>M.wbits){B.msg="invalid window size",M.mode=30;break}M.dmax=1<<j,B.adler=M.check=1,M.mode=512&H?10:12,N=H=0;break;case 2:for(;N<16;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}if(M.flags=H,(255&M.flags)!=8){B.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){B.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=H>>8&1),512&M.flags&&(ot[0]=255&H,ot[1]=H>>>8&255,M.check=u(M.check,ot,2,0)),N=H=0,M.mode=3;case 3:for(;N<32;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}M.head&&(M.head.time=H),512&M.flags&&(ot[0]=255&H,ot[1]=H>>>8&255,ot[2]=H>>>16&255,ot[3]=H>>>24&255,M.check=u(M.check,ot,4,0)),N=H=0,M.mode=4;case 4:for(;N<16;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}M.head&&(M.head.xflags=255&H,M.head.os=H>>8),512&M.flags&&(ot[0]=255&H,ot[1]=H>>>8&255,M.check=u(M.check,ot,2,0)),N=H=0,M.mode=5;case 5:if(1024&M.flags){for(;N<16;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}M.length=H,M.head&&(M.head.extra_len=H),512&M.flags&&(ot[0]=255&H,ot[1]=H>>>8&255,M.check=u(M.check,ot,2,0)),N=H=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(W<(P=M.length)&&(P=W),P&&(M.head&&(j=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),b.arraySet(M.head.extra,mt,ut,P,j)),512&M.flags&&(M.check=u(M.check,mt,P,ut)),W-=P,ut+=P,M.length-=P),M.length))break t;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(W===0)break t;for(P=0;j=mt[ut+P++],M.head&&j&&M.length<65536&&(M.head.name+=String.fromCharCode(j)),j&&P<W;);if(512&M.flags&&(M.check=u(M.check,mt,P,ut)),W-=P,ut+=P,j)break t}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(W===0)break t;for(P=0;j=mt[ut+P++],M.head&&j&&M.length<65536&&(M.head.comment+=String.fromCharCode(j)),j&&P<W;);if(512&M.flags&&(M.check=u(M.check,mt,P,ut)),W-=P,ut+=P,j)break t}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;N<16;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}if(H!==(65535&M.check)){B.msg="header crc mismatch",M.mode=30;break}N=H=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),B.adler=M.check=0,M.mode=12;break;case 10:for(;N<32;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}B.adler=M.check=g(H),N=H=0,M.mode=11;case 11:if(M.havedict===0)return B.next_out=vt,B.avail_out=Y,B.next_in=ut,B.avail_in=W,M.hold=H,M.bits=N,2;B.adler=M.check=1,M.mode=12;case 12:if(it===5||it===6)break t;case 13:if(M.last){H>>>=7&N,N-=7&N,M.mode=27;break}for(;N<3;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}switch(M.last=1&H,N-=1,3&(H>>>=1)){case 0:M.mode=14;break;case 1:if(gt(M),M.mode=20,it!==6)break;H>>>=2,N-=2;break t;case 2:M.mode=17;break;case 3:B.msg="invalid block type",M.mode=30}H>>>=2,N-=2;break;case 14:for(H>>>=7&N,N-=7&N;N<32;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}if((65535&H)!=(H>>>16^65535)){B.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&H,N=H=0,M.mode=15,it===6)break t;case 15:M.mode=16;case 16:if(P=M.length){if(W<P&&(P=W),Y<P&&(P=Y),P===0)break t;b.arraySet(st,mt,ut,P,vt),W-=P,ut+=P,Y-=P,vt+=P,M.length-=P;break}M.mode=12;break;case 17:for(;N<14;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}if(M.nlen=257+(31&H),H>>>=5,N-=5,M.ndist=1+(31&H),H>>>=5,N-=5,M.ncode=4+(15&H),H>>>=4,N-=4,286<M.nlen||30<M.ndist){B.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;N<3;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}M.lens[_t[M.have++]]=7&H,H>>>=3,N-=3}for(;M.have<19;)M.lens[_t[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,X={bits:M.lenbits},rt=o(0,M.lens,0,19,M.lencode,0,M.work,X),M.lenbits=X.bits,rt){B.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;dt=(K=M.lencode[H&(1<<M.lenbits)-1])>>>16&255,At=65535&K,!((ht=K>>>24)<=N);){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}if(At<16)H>>>=ht,N-=ht,M.lens[M.have++]=At;else{if(At===16){for($=ht+2;N<$;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}if(H>>>=ht,N-=ht,M.have===0){B.msg="invalid bit length repeat",M.mode=30;break}j=M.lens[M.have-1],P=3+(3&H),H>>>=2,N-=2}else if(At===17){for($=ht+3;N<$;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}N-=ht,j=0,P=3+(7&(H>>>=ht)),H>>>=3,N-=3}else{for($=ht+7;N<$;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}N-=ht,j=0,P=11+(127&(H>>>=ht)),H>>>=7,N-=7}if(M.have+P>M.nlen+M.ndist){B.msg="invalid bit length repeat",M.mode=30;break}for(;P--;)M.lens[M.have++]=j}}if(M.mode===30)break;if(M.lens[256]===0){B.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,X={bits:M.lenbits},rt=o(h,M.lens,0,M.nlen,M.lencode,0,M.work,X),M.lenbits=X.bits,rt){B.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,X={bits:M.distbits},rt=o(r,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,X),M.distbits=X.bits,rt){B.msg="invalid distances set",M.mode=30;break}if(M.mode=20,it===6)break t;case 20:M.mode=21;case 21:if(6<=W&&258<=Y){B.next_out=vt,B.avail_out=Y,B.next_in=ut,B.avail_in=W,M.hold=H,M.bits=N,i(B,R),vt=B.next_out,st=B.output,Y=B.avail_out,ut=B.next_in,mt=B.input,W=B.avail_in,H=M.hold,N=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;dt=(K=M.lencode[H&(1<<M.lenbits)-1])>>>16&255,At=65535&K,!((ht=K>>>24)<=N);){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}if(dt&&(240&dt)==0){for(wt=ht,Nt=dt,xt=At;dt=(K=M.lencode[xt+((H&(1<<wt+Nt)-1)>>wt)])>>>16&255,At=65535&K,!(wt+(ht=K>>>24)<=N);){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}H>>>=wt,N-=wt,M.back+=wt}if(H>>>=ht,N-=ht,M.back+=ht,M.length=At,dt===0){M.mode=26;break}if(32&dt){M.back=-1,M.mode=12;break}if(64&dt){B.msg="invalid literal/length code",M.mode=30;break}M.extra=15&dt,M.mode=22;case 22:if(M.extra){for($=M.extra;N<$;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}M.length+=H&(1<<M.extra)-1,H>>>=M.extra,N-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;dt=(K=M.distcode[H&(1<<M.distbits)-1])>>>16&255,At=65535&K,!((ht=K>>>24)<=N);){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}if((240&dt)==0){for(wt=ht,Nt=dt,xt=At;dt=(K=M.distcode[xt+((H&(1<<wt+Nt)-1)>>wt)])>>>16&255,At=65535&K,!(wt+(ht=K>>>24)<=N);){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}H>>>=wt,N-=wt,M.back+=wt}if(H>>>=ht,N-=ht,M.back+=ht,64&dt){B.msg="invalid distance code",M.mode=30;break}M.offset=At,M.extra=15&dt,M.mode=24;case 24:if(M.extra){for($=M.extra;N<$;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}M.offset+=H&(1<<M.extra)-1,H>>>=M.extra,N-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){B.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if(Y===0)break t;if(P=R-Y,M.offset>P){if((P=M.offset-P)>M.whave&&M.sane){B.msg="invalid distance too far back",M.mode=30;break}V=P>M.wnext?(P-=M.wnext,M.wsize-P):M.wnext-P,P>M.length&&(P=M.length),J=M.window}else J=st,V=vt-M.offset,P=M.length;for(Y<P&&(P=Y),Y-=P,M.length-=P;st[vt++]=J[V++],--P;);M.length===0&&(M.mode=21);break;case 26:if(Y===0)break t;st[vt++]=M.length,Y--,M.mode=21;break;case 27:if(M.wrap){for(;N<32;){if(W===0)break t;W--,H|=mt[ut++]<<N,N+=8}if(R-=Y,B.total_out+=R,M.total+=R,R&&(B.adler=M.check=M.flags?u(M.check,st,R,vt-R):S(M.check,st,R,vt-R)),R=Y,(M.flags?H:g(H))!==M.check){B.msg="incorrect data check",M.mode=30;break}N=H=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;N<32;){if(W===0)break t;W--,H+=mt[ut++]<<N,N+=8}if(H!==(4294967295&M.total)){B.msg="incorrect length check",M.mode=30;break}N=H=0}M.mode=29;case 29:rt=1;break t;case 30:rt=-3;break t;case 31:return-4;case 32:default:return n}return B.next_out=vt,B.avail_out=Y,B.next_in=ut,B.avail_in=W,M.hold=H,M.bits=N,(M.wsize||R!==B.avail_out&&M.mode<30&&(M.mode<27||it!==4))&&G(B,B.output,B.next_out,R-B.avail_out)?(M.mode=31,-4):(U-=B.avail_in,R-=B.avail_out,B.total_in+=U,B.total_out+=R,M.total+=R,M.wrap&&R&&(B.adler=M.check=M.flags?u(M.check,st,R,B.next_out-R):S(M.check,st,R,B.next_out-R)),B.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(U==0&&R===0||it===4)&&rt===a&&(rt=-5),rt)},w.inflateEnd=function(B){if(!B||!B.state)return n;var it=B.state;return it.window&&(it.window=null),B.state=null,a},w.inflateGetHeader=function(B,it){var M;return B&&B.state?(2&(M=B.state).wrap)==0?n:((M.head=it).done=!1,a):n},w.inflateSetDictionary=function(B,it){var M,mt=it.length;return B&&B.state?(M=B.state).wrap!==0&&M.mode!==11?n:M.mode===11&&S(1,it,mt,0)!==M.check?-3:G(B,it,mt,mt)?(M.mode=31,-4):(M.havedict=1,a):n},w.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(p,y,w){var b=p("../utils/common"),S=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];y.exports=function(h,r,a,n,l,d,c,g){var _,C,O,k,F,z,q,Q,gt,G=g.bits,B=0,it=0,M=0,mt=0,st=0,ut=0,vt=0,W=0,Y=0,H=0,N=null,U=0,R=new b.Buf16(16),P=new b.Buf16(16),V=null,J=0;for(B=0;B<=15;B++)R[B]=0;for(it=0;it<n;it++)R[r[a+it]]++;for(st=G,mt=15;1<=mt&&R[mt]===0;mt--);if(mt<st&&(st=mt),mt===0)return l[d++]=20971520,l[d++]=20971520,g.bits=1,0;for(M=1;M<mt&&R[M]===0;M++);for(st<M&&(st=M),B=W=1;B<=15;B++)if(W<<=1,(W-=R[B])<0)return-1;if(0<W&&(h===0||mt!==1))return-1;for(P[1]=0,B=1;B<15;B++)P[B+1]=P[B]+R[B];for(it=0;it<n;it++)r[a+it]!==0&&(c[P[r[a+it]]++]=it);if(z=h===0?(N=V=c,19):h===1?(N=S,U-=257,V=u,J-=257,256):(N=i,V=o,-1),B=M,F=d,vt=it=H=0,O=-1,k=(Y=1<<(ut=st))-1,h===1&&852<Y||h===2&&592<Y)return 1;for(;;){for(q=B-vt,gt=c[it]<z?(Q=0,c[it]):c[it]>z?(Q=V[J+c[it]],N[U+c[it]]):(Q=96,0),_=1<<B-vt,M=C=1<<ut;l[F+(H>>vt)+(C-=_)]=q<<24|Q<<16|gt|0,C!==0;);for(_=1<<B-1;H&_;)_>>=1;if(_!==0?(H&=_-1,H+=_):H=0,it++,--R[B]==0){if(B===mt)break;B=r[a+c[it]]}if(st<B&&(H&k)!==O){for(vt===0&&(vt=st),F+=M,W=1<<(ut=B-vt);ut+vt<mt&&!((W-=R[ut+vt])<=0);)ut++,W<<=1;if(Y+=1<<ut,h===1&&852<Y||h===2&&592<Y)return 1;l[O=H&k]=st<<24|ut<<16|F-d|0}}return H!==0&&(l[F+H]=B-vt<<24|64<<16|0),g.bits=st,0}},{"../utils/common":41}],51:[function(p,y,w){y.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(p,y,w){var b=p("../utils/common"),S=0,u=1;function i(K){for(var ot=K.length;0<=--ot;)K[ot]=0}var o=0,h=29,r=256,a=r+1+h,n=30,l=19,d=2*a+1,c=15,g=16,_=7,C=256,O=16,k=17,F=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],gt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(a+2));i(G);var B=new Array(2*n);i(B);var it=new Array(512);i(it);var M=new Array(256);i(M);var mt=new Array(h);i(mt);var st,ut,vt,W=new Array(n);function Y(K,ot,_t,St,ft){this.static_tree=K,this.extra_bits=ot,this.extra_base=_t,this.elems=St,this.max_length=ft,this.has_stree=K&&K.length}function H(K,ot){this.dyn_tree=K,this.max_code=0,this.stat_desc=ot}function N(K){return K<256?it[K]:it[256+(K>>>7)]}function U(K,ot){K.pending_buf[K.pending++]=255&ot,K.pending_buf[K.pending++]=ot>>>8&255}function R(K,ot,_t){K.bi_valid>g-_t?(K.bi_buf|=ot<<K.bi_valid&65535,U(K,K.bi_buf),K.bi_buf=ot>>g-K.bi_valid,K.bi_valid+=_t-g):(K.bi_buf|=ot<<K.bi_valid&65535,K.bi_valid+=_t)}function P(K,ot,_t){R(K,_t[2*ot],_t[2*ot+1])}function V(K,ot){for(var _t=0;_t|=1&K,K>>>=1,_t<<=1,0<--ot;);return _t>>>1}function J(K,ot,_t){var St,ft,Lt=new Array(c+1),Bt=0;for(St=1;St<=c;St++)Lt[St]=Bt=Bt+_t[St-1]<<1;for(ft=0;ft<=ot;ft++){var qt=K[2*ft+1];qt!==0&&(K[2*ft]=V(Lt[qt]++,qt))}}function ht(K){var ot;for(ot=0;ot<a;ot++)K.dyn_ltree[2*ot]=0;for(ot=0;ot<n;ot++)K.dyn_dtree[2*ot]=0;for(ot=0;ot<l;ot++)K.bl_tree[2*ot]=0;K.dyn_ltree[2*C]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function dt(K){8<K.bi_valid?U(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function At(K,ot,_t,St){var ft=2*ot,Lt=2*_t;return K[ft]<K[Lt]||K[ft]===K[Lt]&&St[ot]<=St[_t]}function wt(K,ot,_t){for(var St=K.heap[_t],ft=_t<<1;ft<=K.heap_len&&(ft<K.heap_len&&At(ot,K.heap[ft+1],K.heap[ft],K.depth)&&ft++,!At(ot,St,K.heap[ft],K.depth));)K.heap[_t]=K.heap[ft],_t=ft,ft<<=1;K.heap[_t]=St}function Nt(K,ot,_t){var St,ft,Lt,Bt,qt=0;if(K.last_lit!==0)for(;St=K.pending_buf[K.d_buf+2*qt]<<8|K.pending_buf[K.d_buf+2*qt+1],ft=K.pending_buf[K.l_buf+qt],qt++,St===0?P(K,ft,ot):(P(K,(Lt=M[ft])+r+1,ot),(Bt=z[Lt])!==0&&R(K,ft-=mt[Lt],Bt),P(K,Lt=N(--St),_t),(Bt=q[Lt])!==0&&R(K,St-=W[Lt],Bt)),qt<K.last_lit;);P(K,C,ot)}function xt(K,ot){var _t,St,ft,Lt=ot.dyn_tree,Bt=ot.stat_desc.static_tree,qt=ot.stat_desc.has_stree,$t=ot.stat_desc.elems,re=-1;for(K.heap_len=0,K.heap_max=d,_t=0;_t<$t;_t++)Lt[2*_t]!==0?(K.heap[++K.heap_len]=re=_t,K.depth[_t]=0):Lt[2*_t+1]=0;for(;K.heap_len<2;)Lt[2*(ft=K.heap[++K.heap_len]=re<2?++re:0)]=1,K.depth[ft]=0,K.opt_len--,qt&&(K.static_len-=Bt[2*ft+1]);for(ot.max_code=re,_t=K.heap_len>>1;1<=_t;_t--)wt(K,Lt,_t);for(ft=$t;_t=K.heap[1],K.heap[1]=K.heap[K.heap_len--],wt(K,Lt,1),St=K.heap[1],K.heap[--K.heap_max]=_t,K.heap[--K.heap_max]=St,Lt[2*ft]=Lt[2*_t]+Lt[2*St],K.depth[ft]=(K.depth[_t]>=K.depth[St]?K.depth[_t]:K.depth[St])+1,Lt[2*_t+1]=Lt[2*St+1]=ft,K.heap[1]=ft++,wt(K,Lt,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],function(se,ie){var ge,ae,ti,fe,ei,De,Me=ie.dyn_tree,un=ie.max_code,Ye=ie.stat_desc.static_tree,Or=ie.stat_desc.has_stree,pi=ie.stat_desc.extra_bits,dn=ie.stat_desc.extra_base,Yi=ie.stat_desc.max_length,ni=0;for(fe=0;fe<=c;fe++)se.bl_count[fe]=0;for(Me[2*se.heap[se.heap_max]+1]=0,ge=se.heap_max+1;ge<d;ge++)Yi<(fe=Me[2*Me[2*(ae=se.heap[ge])+1]+1]+1)&&(fe=Yi,ni++),Me[2*ae+1]=fe,un<ae||(se.bl_count[fe]++,ei=0,dn<=ae&&(ei=pi[ae-dn]),De=Me[2*ae],se.opt_len+=De*(fe+ei),Or&&(se.static_len+=De*(Ye[2*ae+1]+ei)));if(ni!==0){do{for(fe=Yi-1;se.bl_count[fe]===0;)fe--;se.bl_count[fe]--,se.bl_count[fe+1]+=2,se.bl_count[Yi]--,ni-=2}while(0<ni);for(fe=Yi;fe!==0;fe--)for(ae=se.bl_count[fe];ae!==0;)un<(ti=se.heap[--ge])||(Me[2*ti+1]!==fe&&(se.opt_len+=(fe-Me[2*ti+1])*Me[2*ti],Me[2*ti+1]=fe),ae--)}}(K,ot),J(Lt,re,K.bl_count)}function j(K,ot,_t){var St,ft,Lt=-1,Bt=ot[1],qt=0,$t=7,re=4;for(Bt===0&&($t=138,re=3),ot[2*(_t+1)+1]=65535,St=0;St<=_t;St++)ft=Bt,Bt=ot[2*(St+1)+1],++qt<$t&&ft===Bt||(qt<re?K.bl_tree[2*ft]+=qt:ft!==0?(ft!==Lt&&K.bl_tree[2*ft]++,K.bl_tree[2*O]++):qt<=10?K.bl_tree[2*k]++:K.bl_tree[2*F]++,Lt=ft,re=(qt=0)===Bt?($t=138,3):ft===Bt?($t=6,3):($t=7,4))}function rt(K,ot,_t){var St,ft,Lt=-1,Bt=ot[1],qt=0,$t=7,re=4;for(Bt===0&&($t=138,re=3),St=0;St<=_t;St++)if(ft=Bt,Bt=ot[2*(St+1)+1],!(++qt<$t&&ft===Bt)){if(qt<re)for(;P(K,ft,K.bl_tree),--qt!=0;);else ft!==0?(ft!==Lt&&(P(K,ft,K.bl_tree),qt--),P(K,O,K.bl_tree),R(K,qt-3,2)):qt<=10?(P(K,k,K.bl_tree),R(K,qt-3,3)):(P(K,F,K.bl_tree),R(K,qt-11,7));Lt=ft,re=(qt=0)===Bt?($t=138,3):ft===Bt?($t=6,3):($t=7,4)}}i(W);var X=!1;function $(K,ot,_t,St){R(K,(o<<1)+(St?1:0),3),function(ft,Lt,Bt,qt){dt(ft),U(ft,Bt),U(ft,~Bt),b.arraySet(ft.pending_buf,ft.window,Lt,Bt,ft.pending),ft.pending+=Bt}(K,ot,_t)}w._tr_init=function(K){X||(function(){var ot,_t,St,ft,Lt,Bt=new Array(c+1);for(ft=St=0;ft<h-1;ft++)for(mt[ft]=St,ot=0;ot<1<<z[ft];ot++)M[St++]=ft;for(M[St-1]=ft,ft=Lt=0;ft<16;ft++)for(W[ft]=Lt,ot=0;ot<1<<q[ft];ot++)it[Lt++]=ft;for(Lt>>=7;ft<n;ft++)for(W[ft]=Lt<<7,ot=0;ot<1<<q[ft]-7;ot++)it[256+Lt++]=ft;for(_t=0;_t<=c;_t++)Bt[_t]=0;for(ot=0;ot<=143;)G[2*ot+1]=8,ot++,Bt[8]++;for(;ot<=255;)G[2*ot+1]=9,ot++,Bt[9]++;for(;ot<=279;)G[2*ot+1]=7,ot++,Bt[7]++;for(;ot<=287;)G[2*ot+1]=8,ot++,Bt[8]++;for(J(G,a+1,Bt),ot=0;ot<n;ot++)B[2*ot+1]=5,B[2*ot]=V(ot,5);st=new Y(G,z,r+1,a,c),ut=new Y(B,q,0,n,c),vt=new Y(new Array(0),Q,0,l,_)}(),X=!0),K.l_desc=new H(K.dyn_ltree,st),K.d_desc=new H(K.dyn_dtree,ut),K.bl_desc=new H(K.bl_tree,vt),K.bi_buf=0,K.bi_valid=0,ht(K)},w._tr_stored_block=$,w._tr_flush_block=function(K,ot,_t,St){var ft,Lt,Bt=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=function(qt){var $t,re=4093624447;for($t=0;$t<=31;$t++,re>>>=1)if(1&re&&qt.dyn_ltree[2*$t]!==0)return S;if(qt.dyn_ltree[18]!==0||qt.dyn_ltree[20]!==0||qt.dyn_ltree[26]!==0)return u;for($t=32;$t<r;$t++)if(qt.dyn_ltree[2*$t]!==0)return u;return S}(K)),xt(K,K.l_desc),xt(K,K.d_desc),Bt=function(qt){var $t;for(j(qt,qt.dyn_ltree,qt.l_desc.max_code),j(qt,qt.dyn_dtree,qt.d_desc.max_code),xt(qt,qt.bl_desc),$t=l-1;3<=$t&&qt.bl_tree[2*gt[$t]+1]===0;$t--);return qt.opt_len+=3*($t+1)+5+5+4,$t}(K),ft=K.opt_len+3+7>>>3,(Lt=K.static_len+3+7>>>3)<=ft&&(ft=Lt)):ft=Lt=_t+5,_t+4<=ft&&ot!==-1?$(K,ot,_t,St):K.strategy===4||Lt===ft?(R(K,2+(St?1:0),3),Nt(K,G,B)):(R(K,4+(St?1:0),3),function(qt,$t,re,se){var ie;for(R(qt,$t-257,5),R(qt,re-1,5),R(qt,se-4,4),ie=0;ie<se;ie++)R(qt,qt.bl_tree[2*gt[ie]+1],3);rt(qt,qt.dyn_ltree,$t-1),rt(qt,qt.dyn_dtree,re-1)}(K,K.l_desc.max_code+1,K.d_desc.max_code+1,Bt+1),Nt(K,K.dyn_ltree,K.dyn_dtree)),ht(K),St&&dt(K)},w._tr_tally=function(K,ot,_t){return K.pending_buf[K.d_buf+2*K.last_lit]=ot>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&ot,K.pending_buf[K.l_buf+K.last_lit]=255&_t,K.last_lit++,ot===0?K.dyn_ltree[2*_t]++:(K.matches++,ot--,K.dyn_ltree[2*(M[_t]+r+1)]++,K.dyn_dtree[2*N(ot)]++),K.last_lit===K.lit_bufsize-1},w._tr_align=function(K){R(K,2,3),P(K,C,G),function(ot){ot.bi_valid===16?(U(ot,ot.bi_buf),ot.bi_buf=0,ot.bi_valid=0):8<=ot.bi_valid&&(ot.pending_buf[ot.pending++]=255&ot.bi_buf,ot.bi_buf>>=8,ot.bi_valid-=8)}(K)}},{"../utils/common":41}],53:[function(p,y,w){y.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(p,y,w){(function(b){(function(S,u){if(!S.setImmediate){var i,o,h,r,a=1,n={},l=!1,d=S.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(S);c=c&&c.setTimeout?c:S,i={}.toString.call(S.process)==="[object process]"?function(O){process.nextTick(function(){_(O)})}:function(){if(S.postMessage&&!S.importScripts){var O=!0,k=S.onmessage;return S.onmessage=function(){O=!1},S.postMessage("","*"),S.onmessage=k,O}}()?(r="setImmediate$"+Math.random()+"$",S.addEventListener?S.addEventListener("message",C,!1):S.attachEvent("onmessage",C),function(O){S.postMessage(r+O,"*")}):S.MessageChannel?((h=new MessageChannel).port1.onmessage=function(O){_(O.data)},function(O){h.port2.postMessage(O)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,function(O){var k=d.createElement("script");k.onreadystatechange=function(){_(O),k.onreadystatechange=null,o.removeChild(k),k=null},o.appendChild(k)}):function(O){setTimeout(_,0,O)},c.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var k=new Array(arguments.length-1),F=0;F<k.length;F++)k[F]=arguments[F+1];var z={callback:O,args:k};return n[a]=z,i(a),a++},c.clearImmediate=g}function g(O){delete n[O]}function _(O){if(l)setTimeout(_,0,O);else{var k=n[O];if(k){l=!0;try{(function(F){var z=F.callback,q=F.args;switch(q.length){case 0:z();break;case 1:z(q[0]);break;case 2:z(q[0],q[1]);break;case 3:z(q[0],q[1],q[2]);break;default:z.apply(u,q)}})(k)}finally{g(O),l=!1}}}}function C(O){O.source===S&&typeof O.data=="string"&&O.data.indexOf(r)===0&&_(+O.data.slice(r.length))}})(typeof self>"u"?b===void 0?this:b:self)}).call(this,typeof Ro<"u"?Ro:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(ld)),ld.exports}var Sv=xv();const Hd=Rd(Sv);var Rf={exports:{}},Cv=Rf.exports,c0;function Av(){return c0||(c0=1,function(m,s){(function(p,y){y()})(Cv,function(){function p(o,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function y(o,h,r){var a=new XMLHttpRequest;a.open("GET",o),a.responseType="blob",a.onload=function(){i(a.response,h,r)},a.onerror=function(){console.error("could not download file")},a.send()}function w(o){var h=new XMLHttpRequest;h.open("HEAD",o,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function b(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(h)}}var S=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ro=="object"&&Ro.global===Ro?Ro:void 0,u=S.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=S.saveAs||(typeof window!="object"||window!==S?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(o,h,r){var a=S.URL||S.webkitURL,n=document.createElement("a");h=h||o.name||"download",n.download=h,n.rel="noopener",typeof o=="string"?(n.href=o,n.origin===location.origin?b(n):w(n.href)?y(o,h,r):b(n,n.target="_blank")):(n.href=a.createObjectURL(o),setTimeout(function(){a.revokeObjectURL(n.href)},4e4),setTimeout(function(){b(n)},0))}:"msSaveOrOpenBlob"in navigator?function(o,h,r){if(h=h||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(p(o,r),h);else if(w(o))y(o,h,r);else{var a=document.createElement("a");a.href=o,a.target="_blank",setTimeout(function(){b(a)})}}:function(o,h,r,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),typeof o=="string")return y(o,h,r);var n=o.type==="application/octet-stream",l=/constructor/i.test(S.HTMLElement)||S.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||n&&l||u)&&typeof FileReader<"u"){var c=new FileReader;c.onloadend=function(){var C=c.result;C=d?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=C:location=C,a=null},c.readAsDataURL(o)}else{var g=S.URL||S.webkitURL,_=g.createObjectURL(o);a?a.location=_:location.href=_,a=null,setTimeout(function(){g.revokeObjectURL(_)},4e4)}});S.saveAs=i.saveAs=i,m.exports=i})}(Rf)),Rf.exports}var Cc=Av();const Tv=({currentImageId:m,shape:s,getCanvas:p})=>{const y=li(h=>h.images),[w,b]=Ht.useState(!1),[S,u]=Ht.useState(!1),i=async()=>{if(!(!p||!m)){b(!0);try{const h=await p(m);if(!h)return;h.toBlob(r=>{if(r){const n=`${y.find(l=>l.id===m).name.replace(/\.[^/.]+$/,"")}_${s||"crop"}.png`;Cc.saveAs(r,n)}},"image/png")}finally{b(!1)}}},o=async()=>{if(!(!p||!y.length)){u(!0);try{const h=new Hd;for(const a of y){const n=await p(a.id);if(!n)continue;const l=await new Promise(c=>n.toBlob(c,"image/png")),d=`${a.name.replace(/\.[^/.]+$/,"")}_${s}.png`;h.file(d,l)}const r=await h.generateAsync({type:"blob"});Cc.saveAs(r,"cropped_images.zip")}finally{u(!1)}}};return Rt.jsxs("div",{className:"mt-8 flex justify-center gap-4 items-center",children:[Rt.jsx("button",{onClick:i,className:`px-4 py-2 rounded text-white text-sm ${w?"bg-gray-600":"bg-[#10B981] hover:bg-[#0ea672]"}`,disabled:w||!y.length,children:"  "}),Rt.jsx("button",{onClick:o,className:`px-4 py-2 rounded text-white text-sm ${S?"bg-gray-600":"bg-purple-600 hover:bg-purple-700"}`,disabled:S||!y.length,children:S?"  ...":"  "})]})},Ov="modulepreload",Lv=function(m){return"/img-ttukttakki/"+m},f0={},Sd=function(s,p,y){let w=Promise.resolve();if(p&&p.length>0){let S=function(o){return Promise.all(o.map(h=>Promise.resolve(h).then(r=>({status:"fulfilled",value:r}),r=>({status:"rejected",reason:r}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),i=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));w=S(p.map(o=>{if(o=Lv(o),o in f0)return;f0[o]=!0;const h=o.endsWith(".css"),r=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${r}`))return;const a=document.createElement("link");if(a.rel=h?"stylesheet":Ov,h||(a.as="script"),a.crossOrigin="",a.href=o,i&&a.setAttribute("nonce",i),document.head.appendChild(a),h)return new Promise((n,l)=>{a.addEventListener("load",n),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${o}`)))})}))}function b(S){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=S,window.dispatchEvent(u),!u.defaultPrevented)throw S}return w.then(S=>{for(const u of S||[])u.status==="rejected"&&b(u.reason);return s().catch(b)})};function ui(m){"@babel/helpers - typeof";return ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ui(m)}var Hn=Uint8Array,Tr=Uint16Array,Yd=Int32Array,Xf=new Hn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gf=new Hn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Cd=new Hn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),J0=function(m,s){for(var p=new Tr(31),y=0;y<31;++y)p[y]=s+=1<<m[y-1];for(var w=new Yd(p[30]),y=1;y<30;++y)for(var b=p[y];b<p[y+1];++b)w[b]=b-p[y]<<5|y;return{b:p,r:w}},$0=J0(Xf,2),t1=$0.b,Ad=$0.r;t1[28]=258,Ad[258]=28;var e1=J0(Gf,0),Ev=e1.b,h0=e1.r,Td=new Tr(32768);for(var Ci=0;Ci<32768;++Ci){var Mo=(Ci&43690)>>1|(Ci&21845)<<1;Mo=(Mo&52428)>>2|(Mo&13107)<<2,Mo=(Mo&61680)>>4|(Mo&3855)<<4,Td[Ci]=((Mo&65280)>>8|(Mo&255)<<8)>>1}var is=function(m,s,p){for(var y=m.length,w=0,b=new Tr(s);w<y;++w)m[w]&&++b[m[w]-1];var S=new Tr(s);for(w=1;w<s;++w)S[w]=S[w-1]+b[w-1]<<1;var u;if(p){u=new Tr(1<<s);var i=15-s;for(w=0;w<y;++w)if(m[w])for(var o=w<<4|m[w],h=s-m[w],r=S[m[w]-1]++<<h,a=r|(1<<h)-1;r<=a;++r)u[Td[r]>>i]=o}else for(u=new Tr(y),w=0;w<y;++w)m[w]&&(u[w]=Td[S[m[w]-1]++]>>15-m[w]);return u},Bo=new Hn(288);for(var Ci=0;Ci<144;++Ci)Bo[Ci]=8;for(var Ci=144;Ci<256;++Ci)Bo[Ci]=9;for(var Ci=256;Ci<280;++Ci)Bo[Ci]=7;for(var Ci=280;Ci<288;++Ci)Bo[Ci]=8;var Ac=new Hn(32);for(var Ci=0;Ci<32;++Ci)Ac[Ci]=5;var kv=is(Bo,9,0),Nv=is(Bo,9,1),Dv=is(Ac,5,0),Mv=is(Ac,5,1),ud=function(m){for(var s=m[0],p=1;p<m.length;++p)m[p]>s&&(s=m[p]);return s},ma=function(m,s,p){var y=s/8|0;return(m[y]|m[y+1]<<8)>>(s&7)&p},cd=function(m,s){var p=s/8|0;return(m[p]|m[p+1]<<8|m[p+2]<<16)>>(s&7)},Xd=function(m){return(m+7)/8|0},i1=function(m,s,p){return(p==null||p>m.length)&&(p=m.length),new Hn(m.subarray(s,p))},jv=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ya=function(m,s,p){var y=new Error(s||jv[m]);if(y.code=m,Error.captureStackTrace&&Error.captureStackTrace(y,ya),!p)throw y;return y},Rv=function(m,s,p,y){var w=m.length,b=0;if(!w||s.f&&!s.l)return p||new Hn(0);var S=!p,u=S||s.i!=2,i=s.i;S&&(p=new Hn(w*3));var o=function(wt){var Nt=p.length;if(wt>Nt){var xt=new Hn(Math.max(Nt*2,wt));xt.set(p),p=xt}},h=s.f||0,r=s.p||0,a=s.b||0,n=s.l,l=s.d,d=s.m,c=s.n,g=w*8;do{if(!n){h=ma(m,r,1);var _=ma(m,r+1,3);if(r+=3,_)if(_==1)n=Nv,l=Mv,d=9,c=5;else if(_==2){var F=ma(m,r,31)+257,z=ma(m,r+10,15)+4,q=F+ma(m,r+5,31)+1;r+=14;for(var Q=new Hn(q),gt=new Hn(19),G=0;G<z;++G)gt[Cd[G]]=ma(m,r+G*3,7);r+=z*3;for(var B=ud(gt),it=(1<<B)-1,M=is(gt,B,1),G=0;G<q;){var mt=M[ma(m,r,it)];r+=mt&15;var C=mt>>4;if(C<16)Q[G++]=C;else{var st=0,ut=0;for(C==16?(ut=3+ma(m,r,3),r+=2,st=Q[G-1]):C==17?(ut=3+ma(m,r,7),r+=3):C==18&&(ut=11+ma(m,r,127),r+=7);ut--;)Q[G++]=st}}var vt=Q.subarray(0,F),W=Q.subarray(F);d=ud(vt),c=ud(W),n=is(vt,d,1),l=is(W,c,1)}else ya(1);else{var C=Xd(r)+4,O=m[C-4]|m[C-3]<<8,k=C+O;if(k>w){i&&ya(0);break}u&&o(a+O),p.set(m.subarray(C,k),a),s.b=a+=O,s.p=r=k*8,s.f=h;continue}if(r>g){i&&ya(0);break}}u&&o(a+131072);for(var Y=(1<<d)-1,H=(1<<c)-1,N=r;;N=r){var st=n[cd(m,r)&Y],U=st>>4;if(r+=st&15,r>g){i&&ya(0);break}if(st||ya(2),U<256)p[a++]=U;else if(U==256){N=r,n=null;break}else{var R=U-254;if(U>264){var G=U-257,P=Xf[G];R=ma(m,r,(1<<P)-1)+t1[G],r+=P}var V=l[cd(m,r)&H],J=V>>4;V||ya(3),r+=V&15;var W=Ev[J];if(J>3){var P=Gf[J];W+=cd(m,r)&(1<<P)-1,r+=P}if(r>g){i&&ya(0);break}u&&o(a+131072);var ht=a+R;if(a<W){var dt=b-W,At=Math.min(W,ht);for(dt+a<0&&ya(3);a<At;++a)p[a]=y[dt+a]}for(;a<ht;++a)p[a]=p[a-W]}}s.l=n,s.p=N,s.b=a,s.f=h,n&&(h=1,s.m=d,s.d=l,s.n=c)}while(!h);return a!=p.length&&S?i1(p,0,a):p.subarray(0,a)},Fs=function(m,s,p){p<<=s&7;var y=s/8|0;m[y]|=p,m[y+1]|=p>>8},bc=function(m,s,p){p<<=s&7;var y=s/8|0;m[y]|=p,m[y+1]|=p>>8,m[y+2]|=p>>16},fd=function(m,s){for(var p=[],y=0;y<m.length;++y)m[y]&&p.push({s:y,f:m[y]});var w=p.length,b=p.slice();if(!w)return{t:r1,l:0};if(w==1){var S=new Hn(p[0].s+1);return S[p[0].s]=1,{t:S,l:1}}p.sort(function(k,F){return k.f-F.f}),p.push({s:-1,f:25001});var u=p[0],i=p[1],o=0,h=1,r=2;for(p[0]={s:-1,f:u.f+i.f,l:u,r:i};h!=w-1;)u=p[p[o].f<p[r].f?o++:r++],i=p[o!=h&&p[o].f<p[r].f?o++:r++],p[h++]={s:-1,f:u.f+i.f,l:u,r:i};for(var a=b[0].s,y=1;y<w;++y)b[y].s>a&&(a=b[y].s);var n=new Tr(a+1),l=Od(p[h-1],n,0);if(l>s){var y=0,d=0,c=l-s,g=1<<c;for(b.sort(function(F,z){return n[z.s]-n[F.s]||F.f-z.f});y<w;++y){var _=b[y].s;if(n[_]>s)d+=g-(1<<l-n[_]),n[_]=s;else break}for(d>>=c;d>0;){var C=b[y].s;n[C]<s?d-=1<<s-n[C]++-1:++y}for(;y>=0&&d;--y){var O=b[y].s;n[O]==s&&(--n[O],++d)}l=s}return{t:new Hn(n),l}},Od=function(m,s,p){return m.s==-1?Math.max(Od(m.l,s,p+1),Od(m.r,s,p+1)):s[m.s]=p},d0=function(m){for(var s=m.length;s&&!m[--s];);for(var p=new Tr(++s),y=0,w=m[0],b=1,S=function(i){p[y++]=i},u=1;u<=s;++u)if(m[u]==w&&u!=s)++b;else{if(!w&&b>2){for(;b>138;b-=138)S(32754);b>2&&(S(b>10?b-11<<5|28690:b-3<<5|12305),b=0)}else if(b>3){for(S(w),--b;b>6;b-=6)S(8304);b>2&&(S(b-3<<5|8208),b=0)}for(;b--;)S(w);b=1,w=m[u]}return{c:p.subarray(0,y),n:s}},_c=function(m,s){for(var p=0,y=0;y<s.length;++y)p+=m[y]*s[y];return p},n1=function(m,s,p){var y=p.length,w=Xd(s+2);m[w]=y&255,m[w+1]=y>>8,m[w+2]=m[w]^255,m[w+3]=m[w+1]^255;for(var b=0;b<y;++b)m[w+b+4]=p[b];return(w+4+y)*8},p0=function(m,s,p,y,w,b,S,u,i,o,h){Fs(s,h++,p),++w[256];for(var r=fd(w,15),a=r.t,n=r.l,l=fd(b,15),d=l.t,c=l.l,g=d0(a),_=g.c,C=g.n,O=d0(d),k=O.c,F=O.n,z=new Tr(19),q=0;q<_.length;++q)++z[_[q]&31];for(var q=0;q<k.length;++q)++z[k[q]&31];for(var Q=fd(z,7),gt=Q.t,G=Q.l,B=19;B>4&&!gt[Cd[B-1]];--B);var it=o+5<<3,M=_c(w,Bo)+_c(b,Ac)+S,mt=_c(w,a)+_c(b,d)+S+14+3*B+_c(z,gt)+2*z[16]+3*z[17]+7*z[18];if(i>=0&&it<=M&&it<=mt)return n1(s,h,m.subarray(i,i+o));var st,ut,vt,W;if(Fs(s,h,1+(mt<M)),h+=2,mt<M){st=is(a,n,0),ut=a,vt=is(d,c,0),W=d;var Y=is(gt,G,0);Fs(s,h,C-257),Fs(s,h+5,F-1),Fs(s,h+10,B-4),h+=14;for(var q=0;q<B;++q)Fs(s,h+3*q,gt[Cd[q]]);h+=3*B;for(var H=[_,k],N=0;N<2;++N)for(var U=H[N],q=0;q<U.length;++q){var R=U[q]&31;Fs(s,h,Y[R]),h+=gt[R],R>15&&(Fs(s,h,U[q]>>5&127),h+=U[q]>>12)}}else st=kv,ut=Bo,vt=Dv,W=Ac;for(var q=0;q<u;++q){var P=y[q];if(P>255){var R=P>>18&31;bc(s,h,st[R+257]),h+=ut[R+257],R>7&&(Fs(s,h,P>>23&31),h+=Xf[R]);var V=P&31;bc(s,h,vt[V]),h+=W[V],V>3&&(bc(s,h,P>>5&8191),h+=Gf[V])}else bc(s,h,st[P]),h+=ut[P]}return bc(s,h,st[256]),h+ut[256]},Pv=new Yd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),r1=new Hn(0),Bv=function(m,s,p,y,w,b){var S=b.z||m.length,u=new Hn(y+S+5*(1+Math.ceil(S/7e3))+w),i=u.subarray(y,u.length-w),o=b.l,h=(b.r||0)&7;if(s){h&&(i[0]=b.r>>3);for(var r=Pv[s-1],a=r>>13,n=r&8191,l=(1<<p)-1,d=b.p||new Tr(32768),c=b.h||new Tr(l+1),g=Math.ceil(p/3),_=2*g,C=function(j){return(m[j]^m[j+1]<<g^m[j+2]<<_)&l},O=new Yd(25e3),k=new Tr(288),F=new Tr(32),z=0,q=0,Q=b.i||0,gt=0,G=b.w||0,B=0;Q+2<S;++Q){var it=C(Q),M=Q&32767,mt=c[it];if(d[M]=mt,c[it]=M,G<=Q){var st=S-Q;if((z>7e3||gt>24576)&&(st>423||!o)){h=p0(m,i,0,O,k,F,q,gt,B,Q-B,h),gt=z=q=0,B=Q;for(var ut=0;ut<286;++ut)k[ut]=0;for(var ut=0;ut<30;++ut)F[ut]=0}var vt=2,W=0,Y=n,H=M-mt&32767;if(st>2&&it==C(Q-H))for(var N=Math.min(a,st)-1,U=Math.min(32767,Q),R=Math.min(258,st);H<=U&&--Y&&M!=mt;){if(m[Q+vt]==m[Q+vt-H]){for(var P=0;P<R&&m[Q+P]==m[Q+P-H];++P);if(P>vt){if(vt=P,W=H,P>N)break;for(var V=Math.min(H,P-2),J=0,ut=0;ut<V;++ut){var ht=Q-H+ut&32767,dt=d[ht],At=ht-dt&32767;At>J&&(J=At,mt=ht)}}}M=mt,mt=d[M],H+=M-mt&32767}if(W){O[gt++]=268435456|Ad[vt]<<18|h0[W];var wt=Ad[vt]&31,Nt=h0[W]&31;q+=Xf[wt]+Gf[Nt],++k[257+wt],++F[Nt],G=Q+vt,++z}else O[gt++]=m[Q],++k[m[Q]]}}for(Q=Math.max(Q,G);Q<S;++Q)O[gt++]=m[Q],++k[m[Q]];h=p0(m,i,o,O,k,F,q,gt,B,Q-B,h),o||(b.r=h&7|i[h/8|0]<<3,h-=7,b.h=c,b.p=d,b.i=Q,b.w=G)}else{for(var Q=b.w||0;Q<S+o;Q+=65535){var xt=Q+65535;xt>=S&&(i[h/8|0]=o,xt=S),h=n1(i,h+1,m.subarray(Q,xt))}b.i=S}return i1(u,0,y+Xd(h)+w)},a1=function(){var m=1,s=0;return{p:function(p){for(var y=m,w=s,b=p.length|0,S=0;S!=b;){for(var u=Math.min(S+2655,b);S<u;++S)w+=y+=p[S];y=(y&65535)+15*(y>>16),w=(w&65535)+15*(w>>16)}m=y,s=w},d:function(){return m%=65521,s%=65521,(m&255)<<24|(m&65280)<<8|(s&255)<<8|s>>8}}},Fv=function(m,s,p,y,w){if(!w&&(w={l:1},s.dictionary)){var b=s.dictionary.subarray(-32768),S=new Hn(b.length+m.length);S.set(b),S.set(m,b.length),m=S,w.w=b.length}return Bv(m,s.level==null?6:s.level,s.mem==null?w.l?Math.ceil(Math.max(8,Math.min(13,Math.log(m.length)))*1.5):20:12+s.mem,p,y,w)},s1=function(m,s,p){for(;p;++s)m[s]=p,p>>>=8},zv=function(m,s){var p=s.level,y=p==0?0:p<6?1:p==9?3:2;if(m[0]=120,m[1]=y<<6|(s.dictionary&&32),m[1]|=31-(m[0]<<8|m[1])%31,s.dictionary){var w=a1();w.p(s.dictionary),s1(m,2,w.d())}},Iv=function(m,s){return((m[0]&15)!=8||m[0]>>4>7||(m[0]<<8|m[1])%31)&&ya(6,"invalid zlib data"),(m[1]>>5&1)==1&&ya(6,"invalid zlib data: "+(m[1]&32?"need":"unexpected")+" dictionary"),(m[1]>>3&4)+2};function Ld(m,s){s||(s={});var p=a1();p.p(m);var y=Fv(m,s,s.dictionary?6:2,4);return zv(y,s),s1(y,y.length-4,p.d()),y}function Uv(m,s){return Rv(m.subarray(Iv(m),-4),{i:2},s,s)}var qv=typeof TextDecoder<"u"&&new TextDecoder,Hv=0;try{qv.decode(r1,{stream:!0}),Hv=1}catch{}var Ce=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function hd(){Ce.console&&typeof Ce.console.log=="function"&&Ce.console.log.apply(Ce.console,arguments)}var vi={log:hd,warn:function(m){Ce.console&&(typeof Ce.console.warn=="function"?Ce.console.warn.apply(Ce.console,arguments):hd.call(null,arguments))},error:function(m){Ce.console&&(typeof Ce.console.error=="function"?Ce.console.error.apply(Ce.console,arguments):hd(m))}};function dd(m,s,p){var y=new XMLHttpRequest;y.open("GET",m),y.responseType="blob",y.onload=function(){Sl(y.response,s,p)},y.onerror=function(){vi.error("could not download file")},y.send()}function g0(m){var s=new XMLHttpRequest;s.open("HEAD",m,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function Ef(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(s)}}var xc,Ed,Sl=Ce.saveAs||((typeof window>"u"?"undefined":ui(window))!=="object"||window!==Ce?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(m,s,p){var y=Ce.URL||Ce.webkitURL,w=document.createElement("a");s=s||m.name||"download",w.download=s,w.rel="noopener",typeof m=="string"?(w.href=m,w.origin!==location.origin?g0(w.href)?dd(m,s,p):Ef(w,w.target="_blank"):Ef(w)):(w.href=y.createObjectURL(m),setTimeout(function(){y.revokeObjectURL(w.href)},4e4),setTimeout(function(){Ef(w)},0))}:"msSaveOrOpenBlob"in navigator?function(m,s,p){if(s=s||m.name||"download",typeof m=="string")if(g0(m))dd(m,s,p);else{var y=document.createElement("a");y.href=m,y.target="_blank",setTimeout(function(){Ef(y)})}else navigator.msSaveOrOpenBlob(function(w,b){return b===void 0?b={autoBom:!1}:ui(b)!=="object"&&(vi.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(w.type)?new Blob(["\uFEFF",w],{type:w.type}):w}(m,p),s)}:function(m,s,p,y){if((y=y||open("","_blank"))&&(y.document.title=y.document.body.innerText="downloading..."),typeof m=="string")return dd(m,s,p);var w=m.type==="application/octet-stream",b=/constructor/i.test(Ce.HTMLElement)||Ce.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||w&&b)&&(typeof FileReader>"u"?"undefined":ui(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var h=u.result;h=S?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=h:location=h,y=null},u.readAsDataURL(m)}else{var i=Ce.URL||Ce.webkitURL,o=i.createObjectURL(m);y?y.location=o:location.href=o,y=null,setTimeout(function(){i.revokeObjectURL(o)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function o1(m){var s;m=m||"",this.ok=!1,m.charAt(0)=="#"&&(m=m.substr(1,6)),m={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[m=(m=m.replace(/ /g,"")).toLowerCase()]||m;for(var p=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],y=0;y<p.length;y++){var w=p[y].re,b=p[y].process,S=w.exec(m);S&&(s=b(S),this.r=s[0],this.g=s[1],this.b=s[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),i=this.g.toString(16),o=this.b.toString(16);return u.length==1&&(u="0"+u),i.length==1&&(i="0"+i),o.length==1&&(o="0"+o),"#"+u+i+o}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function pd(m,s){var p=m[0],y=m[1],w=m[2],b=m[3];p=zn(p,y,w,b,s[0],7,-680876936),b=zn(b,p,y,w,s[1],12,-389564586),w=zn(w,b,p,y,s[2],17,606105819),y=zn(y,w,b,p,s[3],22,-1044525330),p=zn(p,y,w,b,s[4],7,-176418897),b=zn(b,p,y,w,s[5],12,1200080426),w=zn(w,b,p,y,s[6],17,-1473231341),y=zn(y,w,b,p,s[7],22,-45705983),p=zn(p,y,w,b,s[8],7,1770035416),b=zn(b,p,y,w,s[9],12,-1958414417),w=zn(w,b,p,y,s[10],17,-42063),y=zn(y,w,b,p,s[11],22,-1990404162),p=zn(p,y,w,b,s[12],7,1804603682),b=zn(b,p,y,w,s[13],12,-40341101),w=zn(w,b,p,y,s[14],17,-1502002290),p=In(p,y=zn(y,w,b,p,s[15],22,1236535329),w,b,s[1],5,-165796510),b=In(b,p,y,w,s[6],9,-1069501632),w=In(w,b,p,y,s[11],14,643717713),y=In(y,w,b,p,s[0],20,-373897302),p=In(p,y,w,b,s[5],5,-701558691),b=In(b,p,y,w,s[10],9,38016083),w=In(w,b,p,y,s[15],14,-660478335),y=In(y,w,b,p,s[4],20,-405537848),p=In(p,y,w,b,s[9],5,568446438),b=In(b,p,y,w,s[14],9,-1019803690),w=In(w,b,p,y,s[3],14,-187363961),y=In(y,w,b,p,s[8],20,1163531501),p=In(p,y,w,b,s[13],5,-1444681467),b=In(b,p,y,w,s[2],9,-51403784),w=In(w,b,p,y,s[7],14,1735328473),p=Un(p,y=In(y,w,b,p,s[12],20,-1926607734),w,b,s[5],4,-378558),b=Un(b,p,y,w,s[8],11,-2022574463),w=Un(w,b,p,y,s[11],16,1839030562),y=Un(y,w,b,p,s[14],23,-35309556),p=Un(p,y,w,b,s[1],4,-1530992060),b=Un(b,p,y,w,s[4],11,1272893353),w=Un(w,b,p,y,s[7],16,-155497632),y=Un(y,w,b,p,s[10],23,-1094730640),p=Un(p,y,w,b,s[13],4,681279174),b=Un(b,p,y,w,s[0],11,-358537222),w=Un(w,b,p,y,s[3],16,-722521979),y=Un(y,w,b,p,s[6],23,76029189),p=Un(p,y,w,b,s[9],4,-640364487),b=Un(b,p,y,w,s[12],11,-421815835),w=Un(w,b,p,y,s[15],16,530742520),p=qn(p,y=Un(y,w,b,p,s[2],23,-995338651),w,b,s[0],6,-198630844),b=qn(b,p,y,w,s[7],10,1126891415),w=qn(w,b,p,y,s[14],15,-1416354905),y=qn(y,w,b,p,s[5],21,-57434055),p=qn(p,y,w,b,s[12],6,1700485571),b=qn(b,p,y,w,s[3],10,-1894986606),w=qn(w,b,p,y,s[10],15,-1051523),y=qn(y,w,b,p,s[1],21,-2054922799),p=qn(p,y,w,b,s[8],6,1873313359),b=qn(b,p,y,w,s[15],10,-30611744),w=qn(w,b,p,y,s[6],15,-1560198380),y=qn(y,w,b,p,s[13],21,1309151649),p=qn(p,y,w,b,s[4],6,-145523070),b=qn(b,p,y,w,s[11],10,-1120210379),w=qn(w,b,p,y,s[2],15,718787259),y=qn(y,w,b,p,s[9],21,-343485551),m[0]=Po(p,m[0]),m[1]=Po(y,m[1]),m[2]=Po(w,m[2]),m[3]=Po(b,m[3])}function Vf(m,s,p,y,w,b){return s=Po(Po(s,m),Po(y,b)),Po(s<<w|s>>>32-w,p)}function zn(m,s,p,y,w,b,S){return Vf(s&p|~s&y,m,s,w,b,S)}function In(m,s,p,y,w,b,S){return Vf(s&y|p&~y,m,s,w,b,S)}function Un(m,s,p,y,w,b,S){return Vf(s^p^y,m,s,w,b,S)}function qn(m,s,p,y,w,b,S){return Vf(p^(s|~y),m,s,w,b,S)}function l1(m){var s,p=m.length,y=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=m.length;s+=64)pd(y,Yv(m.substring(s-64,s)));m=m.substring(s-64);var w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<m.length;s++)w[s>>2]|=m.charCodeAt(s)<<(s%4<<3);if(w[s>>2]|=128<<(s%4<<3),s>55)for(pd(y,w),s=0;s<16;s++)w[s]=0;return w[14]=8*p,pd(y,w),y}function Yv(m){var s,p=[];for(s=0;s<64;s+=4)p[s>>2]=m.charCodeAt(s)+(m.charCodeAt(s+1)<<8)+(m.charCodeAt(s+2)<<16)+(m.charCodeAt(s+3)<<24);return p}xc=Ce.atob.bind(Ce),Ed=Ce.btoa.bind(Ce);var m0="0123456789abcdef".split("");function Xv(m){for(var s="",p=0;p<4;p++)s+=m0[m>>8*p+4&15]+m0[m>>8*p&15];return s}function Gv(m){return String.fromCharCode((255&m)>>0,(65280&m)>>8,(16711680&m)>>16,(4278190080&m)>>24)}function kd(m){return l1(m).map(Gv).join("")}var Vv=function(m){for(var s=0;s<m.length;s++)m[s]=Xv(m[s]);return m.join("")}(l1("hello"))!="5d41402abc4b2a76b9719d911017c592";function Po(m,s){if(Vv){var p=(65535&m)+(65535&s);return(m>>16)+(s>>16)+(p>>16)<<16|65535&p}return m+s&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Nd(m,s){var p,y,w,b;if(m!==p){for(var S=(w=m,b=1+(256/m.length>>0),new Array(b+1).join(w)),u=[],i=0;i<256;i++)u[i]=i;var o=0;for(i=0;i<256;i++){var h=u[i];o=(o+h+S.charCodeAt(i))%256,u[i]=u[o],u[o]=h}p=m,y=u}else u=y;var r=s.length,a=0,n=0,l="";for(i=0;i<r;i++)n=(n+(h=u[a=(a+1)%256]))%256,u[a]=u[n],u[n]=h,S=u[(u[a]+u[n])%256],l+=String.fromCharCode(s.charCodeAt(i)^S);return l}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var v0={print:4,modify:8,copy:16,"annot-forms":32};function gu(m,s,p,y){this.v=1,this.r=2;var w=192;m.forEach(function(u){if(v0.perm!==void 0)throw new Error("Invalid permission: "+u);w+=v0[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var b=(s+this.padding).substr(0,32),S=(p+this.padding).substr(0,32);this.O=this.processOwnerPassword(b,S),this.P=-(1+(255^w)),this.encryptionKey=kd(b+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(y)).substr(0,5),this.U=Nd(this.encryptionKey,this.padding)}function mu(m){if(/[^\u0000-\u00ff]/.test(m))throw new Error("Invalid PDF Name Object: "+m+", Only accept ASCII characters.");for(var s="",p=m.length,y=0;y<p;y++){var w=m.charCodeAt(y);w<33||w===35||w===37||w===40||w===41||w===47||w===60||w===62||w===91||w===93||w===123||w===125||w>126?s+="#"+("0"+w.toString(16)).slice(-2):s+=m[y]}return s}function y0(m){if(ui(m)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var s={};this.subscribe=function(p,y,w){if(w=w||!1,typeof p!="string"||typeof y!="function"||typeof w!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");s.hasOwnProperty(p)||(s[p]={});var b=Math.random().toString(35);return s[p][b]=[y,!!w],b},this.unsubscribe=function(p){for(var y in s)if(s[y][p])return delete s[y][p],Object.keys(s[y]).length===0&&delete s[y],!0;return!1},this.publish=function(p){if(s.hasOwnProperty(p)){var y=Array.prototype.slice.call(arguments,1),w=[];for(var b in s[p]){var S=s[p][b];try{S[0].apply(m,y)}catch(u){Ce.console&&vi.error("jsPDF PubSub Error",u.message,u)}S[1]&&w.push(b)}w.length&&w.forEach(this.unsubscribe)}},this.getTopics=function(){return s}}function Uf(m){if(!(this instanceof Uf))return new Uf(m);var s="opacity,stroke-opacity".split(",");for(var p in m)m.hasOwnProperty(p)&&s.indexOf(p)>=0&&(this[p]=m[p]);this.id="",this.objectNumber=-1}function u1(m,s){this.gState=m,this.matrix=s,this.id="",this.objectNumber=-1}function Cl(m,s,p,y,w){if(!(this instanceof Cl))return new Cl(m,s,p,y,w);this.type=m==="axial"?2:3,this.coords=s,this.colors=p,u1.call(this,y,w)}function vu(m,s,p,y,w){if(!(this instanceof vu))return new vu(m,s,p,y,w);this.boundingBox=m,this.xStep=s,this.yStep=p,this.stream="",this.cloneIndex=0,u1.call(this,y,w)}function xe(m){var s,p=typeof arguments[0]=="string"?arguments[0]:"p",y=arguments[1],w=arguments[2],b=arguments[3],S=[],u=1,i=16,o="S",h=null;ui(m=m||{})==="object"&&(p=m.orientation,y=m.unit||y,w=m.format||w,b=m.compress||m.compressPdf||b,(h=m.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),u=typeof m.userUnit=="number"?Math.abs(m.userUnit):1,m.precision!==void 0&&(s=m.precision),m.floatPrecision!==void 0&&(i=m.floatPrecision),o=m.defaultPathOperation||"S"),S=m.filters||(b===!0?["FlateEncode"]:S),y=y||"mm",p=(""+(p||"P")).toLowerCase();var r=m.putOnlyUsedFonts||!1,a={},n={internal:{},__private__:{}};n.__private__.PubSub=y0;var l="1.3",d=n.__private__.getPdfVersion=function(){return l};n.__private__.setPdfVersion=function(E){l=E};var c={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};n.__private__.getPageFormats=function(){return c};var g=n.__private__.getPageFormat=function(E){return c[E]};w=w||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},C=_.COMPAT;function O(){this.saveGraphicsState(),X(new me(ae,0,0,-ae,0,ka()*ae).toString()+" cm"),this.setFontSize(this.getFontSize()/ae),o="n",C=_.ADVANCED}function k(){this.restoreGraphicsState(),o="S",C=_.COMPAT}var F=n.__private__.combineFontStyleAndFontWeight=function(E,et){if(E=="bold"&&et=="normal"||E=="bold"&&et==400||E=="normal"&&et=="italic"||E=="bold"&&et=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return et&&(E=et==400||et==="normal"?E==="italic"?"italic":"normal":et!=700&&et!=="bold"||E!=="normal"?(et==700?"bold":et)+""+E:"bold"),E};n.advancedAPI=function(E){var et=C===_.COMPAT;return et&&O.call(this),typeof E!="function"||(E(this),et&&k.call(this)),this},n.compatAPI=function(E){var et=C===_.ADVANCED;return et&&k.call(this),typeof E!="function"||(E(this),et&&O.call(this)),this},n.isAdvancedAPI=function(){return C===_.ADVANCED};var z,q=function(E){if(C!==_.ADVANCED)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=n.roundToPrecision=n.__private__.roundToPrecision=function(E,et){var bt=s||et;if(isNaN(E)||isNaN(bt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(bt).replace(/0+$/,"")};z=n.hpf=n.__private__.hpf=typeof i=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(E,i)}:i==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(E,16)};var gt=n.f2=n.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return Q(E,2)},G=n.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return Q(E,3)},B=n.scale=n.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return C===_.COMPAT?E*ae:C===_.ADVANCED?E:void 0},it=function(E){return C===_.COMPAT?ka()-E:C===_.ADVANCED?E:void 0},M=function(E){return B(it(E))};n.__private__.setPrecision=n.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(s=parseInt(E,10))};var mt,st="00000000000000000000000000000000",ut=n.__private__.getFileId=function(){return st},vt=n.__private__.setFileId=function(E){return st=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():st.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(nn=new gu(h.userPermissions,h.userPassword,h.ownerPassword,st)),st};n.setFileId=function(E){return vt(E),this},n.getFileId=function(){return ut()};var W=n.__private__.convertDateToPDFDate=function(E){var et=E.getTimezoneOffset(),bt=et<0?"+":"-",Tt=Math.floor(Math.abs(et/60)),Pt=Math.abs(et%60),Vt=[bt,R(Tt),"'",R(Pt),"'"].join("");return["D:",E.getFullYear(),R(E.getMonth()+1),R(E.getDate()),R(E.getHours()),R(E.getMinutes()),R(E.getSeconds()),Vt].join("")},Y=n.__private__.convertPDFDateToDate=function(E){var et=parseInt(E.substr(2,4),10),bt=parseInt(E.substr(6,2),10)-1,Tt=parseInt(E.substr(8,2),10),Pt=parseInt(E.substr(10,2),10),Vt=parseInt(E.substr(12,2),10),ne=parseInt(E.substr(14,2),10);return new Date(et,bt,Tt,Pt,Vt,ne,0)},H=n.__private__.setCreationDate=function(E){var et;if(E===void 0&&(E=new Date),E instanceof Date)et=W(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");et=E}return mt=et},N=n.__private__.getCreationDate=function(E){var et=mt;return E==="jsDate"&&(et=Y(mt)),et};n.setCreationDate=function(E){return H(E),this},n.getCreationDate=function(E){return N(E)};var U,R=n.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},P=n.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},V=0,J=[],ht=[],dt=0,At=[],wt=[],Nt=!1,xt=ht,j=function(){V=0,dt=0,ht=[],J=[],At=[],Xn=Fi(),Gn=Fi()};n.__private__.setCustomOutputDestination=function(E){Nt=!0,xt=E};var rt=function(E){Nt||(xt=E)};n.__private__.resetCustomOutputDestination=function(){Nt=!1,xt=ht};var X=n.__private__.out=function(E){return E=E.toString(),dt+=E.length+1,xt.push(E),xt},$=n.__private__.write=function(E){return X(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},K=n.__private__.getArrayBuffer=function(E){for(var et=E.length,bt=new ArrayBuffer(et),Tt=new Uint8Array(bt);et--;)Tt[et]=E.charCodeAt(et);return bt},ot=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];n.__private__.getStandardFonts=function(){return ot};var _t=m.fontSize||16;n.__private__.setFontSize=n.setFontSize=function(E){return _t=C===_.ADVANCED?E/ae:E,this};var St,ft=n.__private__.getFontSize=n.getFontSize=function(){return C===_.COMPAT?_t:_t*ae},Lt=m.R2L||!1;n.__private__.setR2L=n.setR2L=function(E){return Lt=E,this},n.__private__.getR2L=n.getR2L=function(){return Lt};var Bt,qt=n.__private__.setZoomMode=function(E){var et=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))St=E;else if(isNaN(E)){if(et.indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');St=E}else St=parseInt(E,10)};n.__private__.getZoomMode=function(){return St};var $t,re=n.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Bt=E};n.__private__.getPageMode=function(){return Bt};var se=n.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');$t=E};n.__private__.getLayoutMode=function(){return $t},n.__private__.setDisplayMode=n.setDisplayMode=function(E,et,bt){return qt(E),se(et),re(bt),this};var ie={title:"",subject:"",author:"",keywords:"",creator:""};n.__private__.getDocumentProperty=function(E){if(Object.keys(ie).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ie[E]},n.__private__.getDocumentProperties=function(){return ie},n.__private__.setDocumentProperties=n.setProperties=n.setDocumentProperties=function(E){for(var et in ie)ie.hasOwnProperty(et)&&E[et]&&(ie[et]=E[et]);return this},n.__private__.setDocumentProperty=function(E,et){if(Object.keys(ie).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ie[E]=et};var ge,ae,ti,fe,ei,De={},Me={},un=[],Ye={},Or={},pi={},dn={},Yi=null,ni=0,Oe=[],We=new y0(n),Yr=m.hotfixes||[],Xi={},cr={},Lr=[],me=function E(et,bt,Tt,Pt,Vt,ne){if(!(this instanceof E))return new E(et,bt,Tt,Pt,Vt,ne);isNaN(et)&&(et=1),isNaN(bt)&&(bt=0),isNaN(Tt)&&(Tt=0),isNaN(Pt)&&(Pt=1),isNaN(Vt)&&(Vt=0),isNaN(ne)&&(ne=0),this._matrix=[et,bt,Tt,Pt,Vt,ne]};Object.defineProperty(me.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(me.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(me.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(me.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(me.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(me.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(me.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(me.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(me.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(me.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(me.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(me.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(me.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(me.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(me.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(me.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),me.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(E)},me.prototype.multiply=function(E){var et=E.sx*this.sx+E.shy*this.shx,bt=E.sx*this.shy+E.shy*this.sy,Tt=E.shx*this.sx+E.sy*this.shx,Pt=E.shx*this.shy+E.sy*this.sy,Vt=E.tx*this.sx+E.ty*this.shx+this.tx,ne=E.tx*this.shy+E.ty*this.sy+this.ty;return new me(et,bt,Tt,Pt,Vt,ne)},me.prototype.decompose=function(){var E=this.sx,et=this.shy,bt=this.shx,Tt=this.sy,Pt=this.tx,Vt=this.ty,ne=Math.sqrt(E*E+et*et),ue=(E/=ne)*bt+(et/=ne)*Tt;bt-=E*ue,Tt-=et*ue;var pe=Math.sqrt(bt*bt+Tt*Tt);return ue/=pe,E*(Tt/=pe)<et*(bt/=pe)&&(E=-E,et=-et,ue=-ue,ne=-ne),{scale:new me(ne,0,0,pe,0,0),translate:new me(1,0,0,1,Pt,Vt),rotate:new me(E,et,-et,E,0,0),skew:new me(1,0,ue,1,0,0)}},me.prototype.toString=function(E){return this.join(" ")},me.prototype.inversed=function(){var E=this.sx,et=this.shy,bt=this.shx,Tt=this.sy,Pt=this.tx,Vt=this.ty,ne=1/(E*Tt-et*bt),ue=Tt*ne,pe=-et*ne,ke=-bt*ne,Le=E*ne;return new me(ue,pe,ke,Le,-ue*Pt-ke*Vt,-pe*Pt-Le*Vt)},me.prototype.applyToPoint=function(E){var et=E.x*this.sx+E.y*this.shx+this.tx,bt=E.x*this.shy+E.y*this.sy+this.ty;return new Js(et,bt)},me.prototype.applyToRectangle=function(E){var et=this.applyToPoint(E),bt=this.applyToPoint(new Js(E.x+E.w,E.y+E.h));return new Qo(et.x,et.y,bt.x-et.x,bt.y-et.y)},me.prototype.clone=function(){var E=this.sx,et=this.shy,bt=this.shx,Tt=this.sy,Pt=this.tx,Vt=this.ty;return new me(E,et,bt,Tt,Pt,Vt)},n.Matrix=me;var ci=n.matrixMult=function(E,et){return et.multiply(E)},wi=new me(1,0,0,1,0,0);n.unitMatrix=n.identityMatrix=wi;var Gi=function(E,et){if(!Or[E]){var bt=(et instanceof Cl?"Sh":"P")+(Object.keys(Ye).length+1).toString(10);et.id=bt,Or[E]=bt,Ye[bt]=et,We.publish("addPattern",et)}};n.ShadingPattern=Cl,n.TilingPattern=vu,n.addShadingPattern=function(E,et){return q("addShadingPattern()"),Gi(E,et),this},n.beginTilingPattern=function(E){q("beginTilingPattern()"),$s(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},n.endTilingPattern=function(E,et){q("endTilingPattern()"),et.stream=wt[U].join(`
`),Gi(E,et),We.publish("endTilingPattern",et),Lr.pop().restore()};var ki=n.__private__.newObject=function(){var E=Fi();return Yn(E,!0),E},Fi=n.__private__.newObjectDeferred=function(){return V++,J[V]=function(){return dt},V},Yn=function(E,et){return et=typeof et=="boolean"&&et,J[E]=dt,et&&X(E+" 0 obj"),E},os=n.__private__.newAdditionalObject=function(){var E={objId:Fi(),content:""};return At.push(E),E},Xn=Fi(),Gn=Fi(),pn=n.__private__.decodeColorString=function(E){var et=E.split(" ");if(et.length!==2||et[1]!=="g"&&et[1]!=="G")et.length===5&&(et[4]==="k"||et[4]==="K")&&(et=[(1-et[0])*(1-et[3]),(1-et[1])*(1-et[3]),(1-et[2])*(1-et[3]),"r"]);else{var bt=parseFloat(et[0]);et=[bt,bt,bt,"r"]}for(var Tt="#",Pt=0;Pt<3;Pt++)Tt+=("0"+Math.floor(255*parseFloat(et[Pt])).toString(16)).slice(-2);return Tt},gn=n.__private__.encodeColorString=function(E){var et;typeof E=="string"&&(E={ch1:E});var bt=E.ch1,Tt=E.ch2,Pt=E.ch3,Vt=E.ch4,ne=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof bt=="string"&&bt.charAt(0)!=="#"){var ue=new o1(bt);if(ue.ok)bt=ue.toHex();else if(!/^\d*\.?\d*$/.test(bt))throw new Error('Invalid color "'+bt+'" passed to jsPDF.encodeColorString.')}if(typeof bt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(bt)&&(bt="#"+bt[1]+bt[1]+bt[2]+bt[2]+bt[3]+bt[3]),typeof bt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(bt)){var pe=parseInt(bt.substr(1),16);bt=pe>>16&255,Tt=pe>>8&255,Pt=255&pe}if(Tt===void 0||Vt===void 0&&bt===Tt&&Tt===Pt)if(typeof bt=="string")et=bt+" "+ne[0];else switch(E.precision){case 2:et=gt(bt/255)+" "+ne[0];break;case 3:default:et=G(bt/255)+" "+ne[0]}else if(Vt===void 0||ui(Vt)==="object"){if(Vt&&!isNaN(Vt.a)&&Vt.a===0)return et=["1.","1.","1.",ne[1]].join(" ");if(typeof bt=="string")et=[bt,Tt,Pt,ne[1]].join(" ");else switch(E.precision){case 2:et=[gt(bt/255),gt(Tt/255),gt(Pt/255),ne[1]].join(" ");break;default:case 3:et=[G(bt/255),G(Tt/255),G(Pt/255),ne[1]].join(" ")}}else if(typeof bt=="string")et=[bt,Tt,Pt,Vt,ne[2]].join(" ");else switch(E.precision){case 2:et=[gt(bt),gt(Tt),gt(Pt),gt(Vt),ne[2]].join(" ");break;case 3:default:et=[G(bt),G(Tt),G(Pt),G(Vt),ne[2]].join(" ")}return et},kn=n.__private__.getFilters=function(){return S},cn=n.__private__.putStream=function(E){var et=(E=E||{}).data||"",bt=E.filters||kn(),Tt=E.alreadyAppliedFilters||[],Pt=E.addLength1||!1,Vt=et.length,ne=E.objectId,ue=function(Di){return Di};if(h!==null&&ne===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(ue=nn.encryptor(ne,0));var pe={};bt===!0&&(bt=["FlateEncode"]);var ke=E.additionalKeyValues||[],Le=(pe=xe.API.processDataByFilters!==void 0?xe.API.processDataByFilters(et,bt):{data:et,reverseChain:[]}).reverseChain+(Array.isArray(Tt)?Tt.join(" "):Tt.toString());if(pe.data.length!==0&&(ke.push({key:"Length",value:pe.data.length}),Pt===!0&&ke.push({key:"Length1",value:Vt})),Le.length!=0)if(Le.split("/").length-1==1)ke.push({key:"Filter",value:Le});else{ke.push({key:"Filter",value:"["+Le+"]"});for(var Ie=0;Ie<ke.length;Ie+=1)if(ke[Ie].key==="DecodeParms"){for(var yi=[],xi=0;xi<pe.reverseChain.split("/").length-1;xi+=1)yi.push("null");yi.push(ke[Ie].value),ke[Ie].value="["+yi.join(" ")+"]"}}X("<<");for(var Ni=0;Ni<ke.length;Ni++)X("/"+ke[Ni].key+" "+ke[Ni].value);X(">>"),pe.data.length!==0&&(X("stream"),X(ue(pe.data)),X("endstream"))},ri=n.__private__.putPage=function(E){var et=E.number,bt=E.data,Tt=E.objId,Pt=E.contentsObjId;Yn(Tt,!0),X("<</Type /Page"),X("/Parent "+E.rootDictionaryObjId+" 0 R"),X("/Resources "+E.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(z(E.mediaBox.bottomLeftX))+" "+parseFloat(z(E.mediaBox.bottomLeftY))+" "+z(E.mediaBox.topRightX)+" "+z(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&X("/CropBox ["+z(E.cropBox.bottomLeftX)+" "+z(E.cropBox.bottomLeftY)+" "+z(E.cropBox.topRightX)+" "+z(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&X("/BleedBox ["+z(E.bleedBox.bottomLeftX)+" "+z(E.bleedBox.bottomLeftY)+" "+z(E.bleedBox.topRightX)+" "+z(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&X("/TrimBox ["+z(E.trimBox.bottomLeftX)+" "+z(E.trimBox.bottomLeftY)+" "+z(E.trimBox.topRightX)+" "+z(E.trimBox.topRightY)+"]"),E.artBox!==null&&X("/ArtBox ["+z(E.artBox.bottomLeftX)+" "+z(E.artBox.bottomLeftY)+" "+z(E.artBox.topRightX)+" "+z(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&X("/UserUnit "+E.userUnit),We.publish("putPage",{objId:Tt,pageContext:Oe[et],pageNumber:et,page:bt}),X("/Contents "+Pt+" 0 R"),X(">>"),X("endobj");var Vt=bt.join(`
`);return C===_.ADVANCED&&(Vt+=`
Q`),Yn(Pt,!0),cn({data:Vt,filters:kn(),objectId:Pt}),X("endobj"),Tt},wa=n.__private__.putPages=function(){var E,et,bt=[];for(E=1;E<=ni;E++)Oe[E].objId=Fi(),Oe[E].contentsObjId=Fi();for(E=1;E<=ni;E++)bt.push(ri({number:E,data:wt[E],objId:Oe[E].objId,contentsObjId:Oe[E].contentsObjId,mediaBox:Oe[E].mediaBox,cropBox:Oe[E].cropBox,bleedBox:Oe[E].bleedBox,trimBox:Oe[E].trimBox,artBox:Oe[E].artBox,userUnit:Oe[E].userUnit,rootDictionaryObjId:Xn,resourceDictionaryObjId:Gn}));Yn(Xn,!0),X("<</Type /Pages");var Tt="/Kids [";for(et=0;et<ni;et++)Tt+=bt[et]+" 0 R ";X(Tt+"]"),X("/Count "+ni),X(">>"),X("endobj"),We.publish("postPutPages")},ls=function(E){We.publish("putFont",{font:E,out:X,newObject:ki,putStream:cn}),E.isAlreadyPutted!==!0&&(E.objectNumber=ki(),X("<<"),X("/Type /Font"),X("/BaseFont /"+mu(E.postScriptName)),X("/Subtype /Type1"),typeof E.encoding=="string"&&X("/Encoding /"+E.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},$n=function(){for(var E in De)De.hasOwnProperty(E)&&(r===!1||r===!0&&a.hasOwnProperty(E))&&ls(De[E])},fr=function(E){E.objectNumber=ki();var et=[];et.push({key:"Type",value:"/XObject"}),et.push({key:"Subtype",value:"/Form"}),et.push({key:"BBox",value:"["+[z(E.x),z(E.y),z(E.x+E.width),z(E.y+E.height)].join(" ")+"]"}),et.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var bt=E.pages[1].join(`
`);cn({data:bt,additionalKeyValues:et,objectId:E.objectNumber}),X("endobj")},qs=function(){for(var E in Xi)Xi.hasOwnProperty(E)&&fr(Xi[E])},Io=function(E,et){var bt,Tt=[],Pt=1/(et-1);for(bt=0;bt<1;bt+=Pt)Tt.push(bt);if(Tt.push(1),E[0].offset!=0){var Vt={offset:0,color:E[0].color};E.unshift(Vt)}if(E[E.length-1].offset!=1){var ne={offset:1,color:E[E.length-1].color};E.push(ne)}for(var ue="",pe=0,ke=0;ke<Tt.length;ke++){for(bt=Tt[ke];bt>E[pe+1].offset;)pe++;var Le=E[pe].offset,Ie=(bt-Le)/(E[pe+1].offset-Le),yi=E[pe].color,xi=E[pe+1].color;ue+=P(Math.round((1-Ie)*yi[0]+Ie*xi[0]).toString(16))+P(Math.round((1-Ie)*yi[1]+Ie*xi[1]).toString(16))+P(Math.round((1-Ie)*yi[2]+Ie*xi[2]).toString(16))}return ue.trim()},Ol=function(E,et){et||(et=21);var bt=ki(),Tt=Io(E.colors,et),Pt=[];Pt.push({key:"FunctionType",value:"0"}),Pt.push({key:"Domain",value:"[0.0 1.0]"}),Pt.push({key:"Size",value:"["+et+"]"}),Pt.push({key:"BitsPerSample",value:"8"}),Pt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cn({data:Tt,additionalKeyValues:Pt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:bt}),X("endobj"),E.objectNumber=ki(),X("<< /ShadingType "+E.type),X("/ColorSpace /DeviceRGB");var Vt="/Coords ["+z(parseFloat(E.coords[0]))+" "+z(parseFloat(E.coords[1]))+" ";E.type===2?Vt+=z(parseFloat(E.coords[2]))+" "+z(parseFloat(E.coords[3])):Vt+=z(parseFloat(E.coords[2]))+" "+z(parseFloat(E.coords[3]))+" "+z(parseFloat(E.coords[4]))+" "+z(parseFloat(E.coords[5])),X(Vt+="]"),E.matrix&&X("/Matrix ["+E.matrix.toString()+"]"),X("/Function "+bt+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Au=function(E,et){var bt=Fi(),Tt=ki();et.push({resourcesOid:bt,objectOid:Tt}),E.objectNumber=Tt;var Pt=[];Pt.push({key:"Type",value:"/Pattern"}),Pt.push({key:"PatternType",value:"1"}),Pt.push({key:"PaintType",value:"1"}),Pt.push({key:"TilingType",value:"1"}),Pt.push({key:"BBox",value:"["+E.boundingBox.map(z).join(" ")+"]"}),Pt.push({key:"XStep",value:z(E.xStep)}),Pt.push({key:"YStep",value:z(E.yStep)}),Pt.push({key:"Resources",value:bt+" 0 R"}),E.matrix&&Pt.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),cn({data:E.stream,additionalKeyValues:Pt,objectId:E.objectNumber}),X("endobj")},Xr=function(E){var et;for(et in Ye)Ye.hasOwnProperty(et)&&(Ye[et]instanceof Cl?Ol(Ye[et]):Ye[et]instanceof vu&&Au(Ye[et],E))},us=function(E){for(var et in E.objectNumber=ki(),X("<<"),E)switch(et){case"opacity":X("/ca "+gt(E[et]));break;case"stroke-opacity":X("/CA "+gt(E[et]))}X(">>"),X("endobj")},hr=function(){var E;for(E in pi)pi.hasOwnProperty(E)&&us(pi[E])},cs=function(){for(var E in X("/XObject <<"),Xi)Xi.hasOwnProperty(E)&&Xi[E].objectNumber>=0&&X("/"+E+" "+Xi[E].objectNumber+" 0 R");We.publish("putXobjectDict"),X(">>")},Ll=function(){nn.oid=ki(),X("<<"),X("/Filter /Standard"),X("/V "+nn.v),X("/R "+nn.r),X("/U <"+nn.toHexString(nn.U)+">"),X("/O <"+nn.toHexString(nn.O)+">"),X("/P "+nn.P),X(">>"),X("endobj")},Gr=function(){for(var E in X("/Font <<"),De)De.hasOwnProperty(E)&&(r===!1||r===!0&&a.hasOwnProperty(E))&&X("/"+E+" "+De[E].objectNumber+" 0 R");X(">>")},Uo=function(){if(Object.keys(Ye).length>0){for(var E in X("/Shading <<"),Ye)Ye.hasOwnProperty(E)&&Ye[E]instanceof Cl&&Ye[E].objectNumber>=0&&X("/"+E+" "+Ye[E].objectNumber+" 0 R");We.publish("putShadingPatternDict"),X(">>")}},xa=function(E){if(Object.keys(Ye).length>0){for(var et in X("/Pattern <<"),Ye)Ye.hasOwnProperty(et)&&Ye[et]instanceof n.TilingPattern&&Ye[et].objectNumber>=0&&Ye[et].objectNumber<E&&X("/"+et+" "+Ye[et].objectNumber+" 0 R");We.publish("putTilingPatternDict"),X(">>")}},Tu=function(){if(Object.keys(pi).length>0){var E;for(E in X("/ExtGState <<"),pi)pi.hasOwnProperty(E)&&pi[E].objectNumber>=0&&X("/"+E+" "+pi[E].objectNumber+" 0 R");We.publish("putGStateDict"),X(">>")}},Ai=function(E){Yn(E.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Gr(),Uo(),xa(E.objectOid),Tu(),cs(),X(">>"),X("endobj")},xn=function(){var E=[];$n(),hr(),qs(),Xr(E),We.publish("putResources"),E.forEach(Ai),Ai({resourcesOid:Gn,objectOid:Number.MAX_SAFE_INTEGER}),We.publish("postPutResources")},qo=function(){We.publish("putAdditionalObjects");for(var E=0;E<At.length;E++){var et=At[E];Yn(et.objId,!0),X(et.content),X("endobj")}We.publish("postPutAdditionalObjects")},El=function(E){Me[E.fontName]=Me[E.fontName]||{},Me[E.fontName][E.fontStyle]=E.id},Sa=function(E,et,bt,Tt,Pt){var Vt={id:"F"+(Object.keys(De).length+1).toString(10),postScriptName:E,fontName:et,fontStyle:bt,encoding:Tt,isStandardFont:Pt||!1,metadata:{}};return We.publish("addFont",{font:Vt,instance:this}),De[Vt.id]=Vt,El(Vt),Vt.id},kl=function(E){for(var et=0,bt=ot.length;et<bt;et++){var Tt=Sa.call(this,E[et][0],E[et][1],E[et][2],ot[et][3],!0);r===!1&&(a[Tt]=!0);var Pt=E[et][0].split("-");El({id:Tt,fontName:Pt[0],fontStyle:Pt[1]||""})}We.publish("addFonts",{fonts:De,dictionary:Me})},Nn=function(E){return E.foo=function(){try{return E.apply(this,arguments)}catch(Tt){var et=Tt.stack||"";~et.indexOf(" at ")&&(et=et.split(" at ")[1]);var bt="Error in function "+et.split(`
`)[0].split("<")[0]+": "+Tt.message;if(!Ce.console)throw new Error(bt);Ce.console.error(bt,Tt),Ce.alert&&alert(bt)}},E.foo.bar=E,E.foo},Hs=function(E,et){var bt,Tt,Pt,Vt,ne,ue,pe,ke,Le;if(Pt=(et=et||{}).sourceEncoding||"Unicode",ne=et.outputEncoding,(et.autoencode||ne)&&De[ge].metadata&&De[ge].metadata[Pt]&&De[ge].metadata[Pt].encoding&&(Vt=De[ge].metadata[Pt].encoding,!ne&&De[ge].encoding&&(ne=De[ge].encoding),!ne&&Vt.codePages&&(ne=Vt.codePages[0]),typeof ne=="string"&&(ne=Vt[ne]),ne)){for(pe=!1,ue=[],bt=0,Tt=E.length;bt<Tt;bt++)(ke=ne[E.charCodeAt(bt)])?ue.push(String.fromCharCode(ke)):ue.push(E[bt]),ue[bt].charCodeAt(0)>>8&&(pe=!0);E=ue.join("")}for(bt=E.length;pe===void 0&&bt!==0;)E.charCodeAt(bt-1)>>8&&(pe=!0),bt--;if(!pe)return E;for(ue=et.noBOM?[]:[254,255],bt=0,Tt=E.length;bt<Tt;bt++){if((Le=(ke=E.charCodeAt(bt))>>8)>>8)throw new Error("Character at position "+bt+" of string '"+E+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ue.push(Le),ue.push(ke-(Le<<8))}return String.fromCharCode.apply(void 0,ue)},gi=n.__private__.pdfEscape=n.pdfEscape=function(E,et){return Hs(E,et).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fs=n.__private__.beginPage=function(E){wt[++ni]=[],Oe[ni]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Vr(ni),rt(wt[U])},Ho=function(E,et){var bt,Tt,Pt;switch(p=et||p,typeof E=="string"&&(bt=g(E.toLowerCase()),Array.isArray(bt)&&(Tt=bt[0],Pt=bt[1])),Array.isArray(E)&&(Tt=E[0]*ae,Pt=E[1]*ae),isNaN(Tt)&&(Tt=w[0],Pt=w[1]),(Tt>14400||Pt>14400)&&(vi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Tt=Math.min(14400,Tt),Pt=Math.min(14400,Pt)),w=[Tt,Pt],p.substr(0,1)){case"l":Pt>Tt&&(w=[Pt,Tt]);break;case"p":Tt>Pt&&(w=[Pt,Tt])}fs(w),Pl(Oa),X(dr),Ko!==0&&X(Ko+" J"),Qs!==0&&X(Qs+" j"),We.publish("addPage",{pageNumber:ni})},Yo=function(E){E>0&&E<=ni&&(wt.splice(E,1),Oe.splice(E,1),ni--,U>ni&&(U=ni),this.setPage(U))},Vr=function(E){E>0&&E<=ni&&(U=E)},Nl=n.__private__.getNumberOfPages=n.getNumberOfPages=function(){return wt.length-1},Xo=function(E,et,bt){var Tt,Pt=void 0;return bt=bt||{},E=E!==void 0?E:De[ge].fontName,et=et!==void 0?et:De[ge].fontStyle,Tt=E.toLowerCase(),Me[Tt]!==void 0&&Me[Tt][et]!==void 0?Pt=Me[Tt][et]:Me[E]!==void 0&&Me[E][et]!==void 0?Pt=Me[E][et]:bt.disableWarning===!1&&vi.warn("Unable to look up font label for font '"+E+"', '"+et+"'. Refer to getFontList() for available fonts."),Pt||bt.noFallback||(Pt=Me.times[et])==null&&(Pt=Me.times.normal),Pt},Ca=n.__private__.putInfo=function(){var E=ki(),et=function(Tt){return Tt};for(var bt in h!==null&&(et=nn.encryptor(E,0)),X("<<"),X("/Producer ("+gi(et("jsPDF "+xe.version))+")"),ie)ie.hasOwnProperty(bt)&&ie[bt]&&X("/"+bt.substr(0,1).toUpperCase()+bt.substr(1)+" ("+gi(et(ie[bt]))+")");X("/CreationDate ("+gi(et(mt))+")"),X(">>"),X("endobj")},Go=n.__private__.putCatalog=function(E){var et=(E=E||{}).rootDictionaryObjId||Xn;switch(ki(),X("<<"),X("/Type /Catalog"),X("/Pages "+et+" 0 R"),St||(St="fullwidth"),St){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var bt=""+St;bt.substr(bt.length-1)==="%"&&(St=parseInt(St)/100),typeof St=="number"&&X("/OpenAction [3 0 R /XYZ null null "+gt(St)+"]")}switch($t||($t="continuous"),$t){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}Bt&&X("/PageMode /"+Bt),We.publish("putCatalog"),X(">>"),X("endobj")},Dl=n.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(V+1)),X("/Root "+V+" 0 R"),X("/Info "+(V-1)+" 0 R"),h!==null&&X("/Encrypt "+nn.oid+" 0 R"),X("/ID [ <"+st+"> <"+st+"> ]"),X(">>")},Ml=n.__private__.putHeader=function(){X("%PDF-"+l),X("%")},Vo=n.__private__.putXRef=function(){var E="0000000000";X("xref"),X("0 "+(V+1)),X("0000000000 65535 f ");for(var et=1;et<=V;et++)typeof J[et]=="function"?X((E+J[et]()).slice(-10)+" 00000 n "):J[et]!==void 0?X((E+J[et]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},Wr=n.__private__.buildDocument=function(){j(),rt(ht),We.publish("buildDocument"),Ml(),wa(),qo(),xn(),h!==null&&Ll(),Ca(),Go();var E=dt;return Vo(),Dl(),X("startxref"),X(""+E),X("%%EOF"),rt(wt[U]),ht.join(`
`)},Ys=n.__private__.getBlob=function(E){return new Blob([K(E)],{type:"application/pdf"})},Zr=n.output=n.__private__.output=Nn(function(E,et){switch(typeof(et=et||{})=="string"?et={filename:et}:et.filename=et.filename||"generated.pdf",E){case void 0:return Wr();case"save":n.save(et.filename);break;case"arraybuffer":return K(Wr());case"blob":return Ys(Wr());case"bloburi":case"bloburl":if(Ce.URL!==void 0&&typeof Ce.URL.createObjectURL=="function")return Ce.URL&&Ce.URL.createObjectURL(Ys(Wr()))||void 0;vi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var bt="",Tt=Wr();try{bt=Ed(Tt)}catch{bt=Ed(unescape(encodeURIComponent(Tt)))}return"data:application/pdf;filename="+et.filename+";base64,"+bt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ce)==="[object Window]"){var Pt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Vt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';et.pdfObjectUrl&&(Pt=et.pdfObjectUrl,Vt="");var ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pt+'"'+Vt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(et)+");<\/script></body></html>",ue=Ce.open();return ue!==null&&ue.document.write(ne),ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ce)==="[object Window]"){var pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(et.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+et.filename+'" width="500px" height="400px" /></body></html>',ke=Ce.open();if(ke!==null){ke.document.write(pe);var Le=this;ke.document.documentElement.querySelector("#pdfViewer").onload=function(){ke.document.title=et.filename,ke.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Le.output("bloburl"))}}return ke}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ce)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",et)+'"></iframe></body></html>',yi=Ce.open();if(yi!==null&&(yi.document.write(Ie),yi.document.title=et.filename),yi||typeof safari>"u")return yi;break;case"datauri":case"dataurl":return Ce.document.location.href=this.output("datauristring",et);default:return null}}),Xs=function(E){return Array.isArray(Yr)===!0&&Yr.indexOf(E)>-1};switch(y){case"pt":ae=1;break;case"mm":ae=72/25.4;break;case"cm":ae=72/2.54;break;case"in":ae=72;break;case"px":ae=Xs("px_scaling")==1?.75:96/72;break;case"pc":case"em":ae=12;break;case"ex":ae=6;break;default:if(typeof y!="number")throw new Error("Invalid unit: "+y);ae=y}var nn=null;H(),vt();var Aa=function(E){return h!==null?nn.encryptor(E,0):function(et){return et}},Kr=n.__private__.getPageInfo=n.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Oe[E].objId,pageNumber:E,pageContext:Oe[E]}},Ae=n.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var et in Oe)if(Oe[et].objId===E)break;return Kr(et)},Wo=n.__private__.getCurrentPageInfo=n.getCurrentPageInfo=function(){return{objId:Oe[U].objId,pageNumber:U,pageContext:Oe[U]}};n.addPage=function(){return Ho.apply(this,arguments),this},n.setPage=function(){return Vr.apply(this,arguments),rt.call(this,wt[U]),this},n.insertPage=function(E){return this.addPage(),this.movePage(U,E),this},n.movePage=function(E,et){var bt,Tt;if(E>et){bt=wt[E],Tt=Oe[E];for(var Pt=E;Pt>et;Pt--)wt[Pt]=wt[Pt-1],Oe[Pt]=Oe[Pt-1];wt[et]=bt,Oe[et]=Tt,this.setPage(et)}else if(E<et){bt=wt[E],Tt=Oe[E];for(var Vt=E;Vt<et;Vt++)wt[Vt]=wt[Vt+1],Oe[Vt]=Oe[Vt+1];wt[et]=bt,Oe[et]=Tt,this.setPage(et)}return this},n.deletePage=function(){return Yo.apply(this,arguments),this},n.__private__.text=n.text=function(E,et,bt,Tt,Pt){var Vt,ne,ue,pe,ke,Le,Ie,yi,xi,Ni=(Tt=Tt||{}).scope||this;if(typeof E=="number"&&typeof et=="number"&&(typeof bt=="string"||Array.isArray(bt))){var Di=bt;bt=et,et=E,E=Di}if(arguments[3]instanceof me?(q("The transform parameter of text() with a Matrix value"),xi=Pt):(ue=arguments[4],pe=arguments[5],ui(Ie=arguments[3])==="object"&&Ie!==null||(typeof ue=="string"&&(pe=ue,ue=null),typeof Ie=="string"&&(pe=Ie,Ie=null),typeof Ie=="number"&&(ue=Ie,Ie=null),Tt={flags:Ie,angle:ue,align:pe})),isNaN(et)||isNaN(bt)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return Ni;var rn="",pr=!1,Zn=typeof Tt.lineHeightFactor=="number"?Tt.lineHeightFactor:Vn,gr=Ni.internal.scaleFactor;function tl(Be){return Be=Be.split("	").join(Array(Tt.TabLen||9).join(" ")),gi(Be,Ie)}function Jr(Be){for(var Fe,fi=Be.concat(),Mi=[],nr=fi.length;nr--;)typeof(Fe=fi.shift())=="string"?Mi.push(Fe):Array.isArray(Be)&&(Fe.length===1||Fe[1]===void 0&&Fe[2]===void 0)?Mi.push(Fe[0]):Mi.push([Fe[0],Fe[1],Fe[2]]);return Mi}function $r(Be,Fe){var fi;if(typeof Be=="string")fi=Fe(Be)[0];else if(Array.isArray(Be)){for(var Mi,nr,Ia=Be.concat(),Ua=[],ia=Ia.length;ia--;)typeof(Mi=Ia.shift())=="string"?Ua.push(Fe(Mi)[0]):Array.isArray(Mi)&&typeof Mi[0]=="string"&&(nr=Fe(Mi[0],Mi[1],Mi[2]),Ua.push([nr[0],nr[1],nr[2]]));fi=Ua}return fi}var io=!1,Na=!0;if(typeof E=="string")io=!0;else if(Array.isArray(E)){var no=E.concat();ne=[];for(var gs,Vi=no.length;Vi--;)(typeof(gs=no.shift())!="string"||Array.isArray(gs)&&typeof gs[0]!="string")&&(Na=!1);io=Na}if(io===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Da=_t/Ni.internal.scaleFactor,ms=Da*(Zn-1);switch(Tt.baseline){case"bottom":bt-=ms;break;case"top":bt+=Da-ms;break;case"hanging":bt+=Da-2*ms;break;case"middle":bt+=Da/2-ms}if((Le=Tt.maxWidth||0)>0&&(typeof E=="string"?E=Ni.splitTextToSize(E,Le):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(Be,Fe){return Be.concat(Ni.splitTextToSize(Fe,Le))},[]))),Vt={text:E,x:et,y:bt,options:Tt,mutex:{pdfEscape:gi,activeFontKey:ge,fonts:De,activeFontSize:_t}},We.publish("preProcessText",Vt),E=Vt.text,ue=(Tt=Vt.options).angle,!(xi instanceof me)&&ue&&typeof ue=="number"){ue*=Math.PI/180,Tt.rotationDirection===0&&(ue=-ue),C===_.ADVANCED&&(ue=-ue);var vs=Math.cos(ue),ro=Math.sin(ue);xi=new me(vs,ro,-ro,vs,0,0)}else ue&&ue instanceof me&&(xi=ue);C!==_.ADVANCED||xi||(xi=wi),(ke=Tt.charSpace||Ks)!==void 0&&(rn+=z(B(ke))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(yi=Tt.horizontalScale)!==void 0&&(rn+=z(100*yi)+` Tz
`),Tt.lang;var Mn=-1,Nu=Tt.renderingMode!==void 0?Tt.renderingMode:Tt.stroke,el=Ni.internal.getCurrentPageInfo().pageContext;switch(Nu){case 0:case!1:case"fill":Mn=0;break;case 1:case!0:case"stroke":Mn=1;break;case 2:case"fillThenStroke":Mn=2;break;case 3:case"invisible":Mn=3;break;case 4:case"fillAndAddForClipping":Mn=4;break;case 5:case"strokeAndAddPathForClipping":Mn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Mn=6;break;case 7:case"addToPathForClipping":Mn=7}var Fl=el.usedRenderingMode!==void 0?el.usedRenderingMode:-1;Mn!==-1?rn+=Mn+` Tr
`:Fl!==-1&&(rn+=`0 Tr
`),Mn!==-1&&(el.usedRenderingMode=Mn),pe=Tt.align||"left";var ir,an=_t*Zn,Ma=Ni.internal.pageSize.getWidth(),il=De[ge];ke=Tt.charSpace||Ks,Le=Tt.maxWidth||0,Ie=Object.assign({autoencode:!0,noBOM:!0},Tt.flags);var ta=[],ja=function(Be){return Ni.getStringUnitWidth(Be,{font:il,charSpace:ke,fontSize:_t,doKerning:!1})*_t/gr};if(Object.prototype.toString.call(E)==="[object Array]"){var Sn;ne=Jr(E),pe!=="left"&&(ir=ne.map(ja));var fn,Ra=0;if(pe==="right"){et-=ir[0],E=[],Vi=ne.length;for(var jn=0;jn<Vi;jn++)jn===0?(fn=Wn(et),Sn=Dr(bt)):(fn=B(Ra-ir[jn]),Sn=-an),E.push([ne[jn],fn,Sn]),Ra=ir[jn]}else if(pe==="center"){et-=ir[0]/2,E=[],Vi=ne.length;for(var mr=0;mr<Vi;mr++)mr===0?(fn=Wn(et),Sn=Dr(bt)):(fn=B((Ra-ir[mr])/2),Sn=-an),E.push([ne[mr],fn,Sn]),Ra=ir[mr]}else if(pe==="left"){E=[],Vi=ne.length;for(var Mr=0;Mr<Vi;Mr++)E.push(ne[Mr])}else if(pe==="justify"&&il.encoding==="Identity-H"){E=[],Vi=ne.length,Le=Le!==0?Le:Ma;for(var vr=0,Ti=0;Ti<Vi;Ti++)if(Sn=Ti===0?Dr(bt):-an,fn=Ti===0?Wn(et):vr,Ti<Vi-1){var yr=B((Le-ir[Ti])/(ne[Ti].split(" ").length-1)),zi=ne[Ti].split(" ");E.push([zi[0]+" ",fn,Sn]),vr=0;for(var Rn=1;Rn<zi.length;Rn++){var ys=(ja(zi[Rn-1]+" "+zi[Rn])-ja(zi[Rn]))*gr+yr;Rn==zi.length-1?E.push([zi[Rn],ys,0]):E.push([zi[Rn]+" ",ys,0]),vr-=ys}}else E.push([ne[Ti],fn,Sn]);E.push(["",vr,0])}else{if(pe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],Vi=ne.length,Le=Le!==0?Le:Ma,Ti=0;Ti<Vi;Ti++)Sn=Ti===0?Dr(bt):-an,fn=Ti===0?Wn(et):0,Ti<Vi-1?ta.push(z(B((Le-ir[Ti])/(ne[Ti].split(" ").length-1)))):ta.push(0),E.push([ne[Ti],fn,Sn])}}var jr=typeof Tt.R2L=="boolean"?Tt.R2L:Lt;jr===!0&&(E=$r(E,function(Be,Fe,fi){return[Be.split("").reverse().join(""),Fe,fi]})),Vt={text:E,x:et,y:bt,options:Tt,mutex:{pdfEscape:gi,activeFontKey:ge,fonts:De,activeFontSize:_t}},We.publish("postProcessText",Vt),E=Vt.text,pr=Vt.mutex.isHex||!1;var ao=De[ge].encoding;ao!=="WinAnsiEncoding"&&ao!=="StandardEncoding"||(E=$r(E,function(Be,Fe,fi){return[tl(Be),Fe,fi]})),ne=Jr(E),E=[];for(var Pa,Ba,Fa,bs=0,so=1,za=Array.isArray(ne[0])?so:bs,ea="",_s=function(Be,Fe,fi){var Mi="";return fi instanceof me?(fi=typeof Tt.angle=="number"?ci(fi,new me(1,0,0,1,Be,Fe)):ci(new me(1,0,0,1,Be,Fe),fi),C===_.ADVANCED&&(fi=ci(new me(1,0,0,-1,0,0),fi)),Mi=fi.join(" ")+` Tm
`):Mi=z(Be)+" "+z(Fe)+` Td
`,Mi},Oi=0;Oi<ne.length;Oi++){switch(ea="",za){case so:Fa=(pr?"<":"(")+ne[Oi][0]+(pr?">":")"),Pa=parseFloat(ne[Oi][1]),Ba=parseFloat(ne[Oi][2]);break;case bs:Fa=(pr?"<":"(")+ne[Oi]+(pr?">":")"),Pa=Wn(et),Ba=Dr(bt)}ta!==void 0&&ta[Oi]!==void 0&&(ea=ta[Oi]+` Tw
`),Oi===0?E.push(ea+_s(Pa,Ba,xi)+Fa):za===bs?E.push(ea+Fa):za===so&&E.push(ea+_s(Pa,Ba,xi)+Fa)}E=za===bs?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Kn=`BT
/`;return Kn+=ge+" "+_t+` Tf
`,Kn+=z(_t*Zn)+` TL
`,Kn+=ds+`
`,Kn+=rn,Kn+=E,X(Kn+="ET"),a[ge]=!0,Ni};var jl=n.__private__.clip=n.clip=function(E){return X(E==="evenodd"?"W*":"W"),this};n.clipEvenOdd=function(){return jl("evenodd")},n.__private__.discardPath=n.discardPath=function(){return X("n"),this};var Dn=n.__private__.isValidStyle=function(E){var et=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(et=!0),et};n.__private__.setDefaultPathOperation=n.setDefaultPathOperation=function(E){return Dn(E)&&(o=E),this};var tr=n.__private__.getStyle=n.getStyle=function(E){var et=o;switch(E){case"D":case"S":et="S";break;case"F":et="f";break;case"FD":case"DF":et="B";break;case"f":case"f*":case"B":case"B*":et=E}return et},Gs=n.close=function(){return X("h"),this};n.stroke=function(){return X("S"),this},n.fill=function(E){return Er("f",E),this},n.fillEvenOdd=function(E){return Er("f*",E),this},n.fillStroke=function(E){return Er("B",E),this},n.fillStrokeEvenOdd=function(E){return Er("B*",E),this};var Er=function(E,et){ui(et)==="object"?Vs(et,E):X(E)},er=function(E){E===null||C===_.ADVANCED&&E===void 0||(E=tr(E),X(E))};function Zo(E,et,bt,Tt,Pt){var Vt=new vu(et||this.boundingBox,bt||this.xStep,Tt||this.yStep,this.gState,Pt||this.matrix);Vt.stream=this.stream;var ne=E+"$$"+this.cloneIndex+++"$$";return Gi(ne,Vt),Vt}var Vs=function(E,et){var bt=Or[E.key],Tt=Ye[bt];if(Tt instanceof Cl)X("q"),X(Rl(et)),Tt.gState&&n.setGState(Tt.gState),X(E.matrix.toString()+" cm"),X("/"+bt+" sh"),X("Q");else if(Tt instanceof vu){var Pt=new me(1,0,0,-1,0,ka());E.matrix&&(Pt=Pt.multiply(E.matrix||wi),bt=Zo.call(Tt,E.key,E.boundingBox,E.xStep,E.yStep,Pt).id),X("q"),X("/Pattern cs"),X("/"+bt+" scn"),Tt.gState&&n.setGState(Tt.gState),X(et),X("Q")}},Rl=function(E){switch(E){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ta=n.moveTo=function(E,et){return X(z(B(E))+" "+z(M(et))+" m"),this},kr=n.lineTo=function(E,et){return X(z(B(E))+" "+z(M(et))+" l"),this},Qr=n.curveTo=function(E,et,bt,Tt,Pt,Vt){return X([z(B(E)),z(M(et)),z(B(bt)),z(M(Tt)),z(B(Pt)),z(M(Vt)),"c"].join(" ")),this};n.__private__.line=n.line=function(E,et,bt,Tt,Pt){if(isNaN(E)||isNaN(et)||isNaN(bt)||isNaN(Tt)||!Dn(Pt))throw new Error("Invalid arguments passed to jsPDF.line");return C===_.COMPAT?this.lines([[bt-E,Tt-et]],E,et,[1,1],Pt||"S"):this.lines([[bt-E,Tt-et]],E,et,[1,1]).stroke()},n.__private__.lines=n.lines=function(E,et,bt,Tt,Pt,Vt){var ne,ue,pe,ke,Le,Ie,yi,xi,Ni,Di,rn,pr;if(typeof E=="number"&&(pr=bt,bt=et,et=E,E=pr),Tt=Tt||[1,1],Vt=Vt||!1,isNaN(et)||isNaN(bt)||!Array.isArray(E)||!Array.isArray(Tt)||!Dn(Pt)||typeof Vt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ta(et,bt),ne=Tt[0],ue=Tt[1],ke=E.length,Di=et,rn=bt,pe=0;pe<ke;pe++)(Le=E[pe]).length===2?(Di=Le[0]*ne+Di,rn=Le[1]*ue+rn,kr(Di,rn)):(Ie=Le[0]*ne+Di,yi=Le[1]*ue+rn,xi=Le[2]*ne+Di,Ni=Le[3]*ue+rn,Di=Le[4]*ne+Di,rn=Le[5]*ue+rn,Qr(Ie,yi,xi,Ni,Di,rn));return Vt&&Gs(),er(Pt),this},n.path=function(E){for(var et=0;et<E.length;et++){var bt=E[et],Tt=bt.c;switch(bt.op){case"m":Ta(Tt[0],Tt[1]);break;case"l":kr(Tt[0],Tt[1]);break;case"c":Qr.apply(this,Tt);break;case"h":Gs()}}return this},n.__private__.rect=n.rect=function(E,et,bt,Tt,Pt){if(isNaN(E)||isNaN(et)||isNaN(bt)||isNaN(Tt)||!Dn(Pt))throw new Error("Invalid arguments passed to jsPDF.rect");return C===_.COMPAT&&(Tt=-Tt),X([z(B(E)),z(M(et)),z(B(bt)),z(B(Tt)),"re"].join(" ")),er(Pt),this},n.__private__.triangle=n.triangle=function(E,et,bt,Tt,Pt,Vt,ne){if(isNaN(E)||isNaN(et)||isNaN(bt)||isNaN(Tt)||isNaN(Pt)||isNaN(Vt)||!Dn(ne))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[bt-E,Tt-et],[Pt-bt,Vt-Tt],[E-Pt,et-Vt]],E,et,[1,1],ne,!0),this},n.__private__.roundedRect=n.roundedRect=function(E,et,bt,Tt,Pt,Vt,ne){if(isNaN(E)||isNaN(et)||isNaN(bt)||isNaN(Tt)||isNaN(Pt)||isNaN(Vt)||!Dn(ne))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ue=4/3*(Math.SQRT2-1);return Pt=Math.min(Pt,.5*bt),Vt=Math.min(Vt,.5*Tt),this.lines([[bt-2*Pt,0],[Pt*ue,0,Pt,Vt-Vt*ue,Pt,Vt],[0,Tt-2*Vt],[0,Vt*ue,-Pt*ue,Vt,-Pt,Vt],[2*Pt-bt,0],[-Pt*ue,0,-Pt,-Vt*ue,-Pt,-Vt],[0,2*Vt-Tt],[0,-Vt*ue,Pt*ue,-Vt,Pt,-Vt]],E+Pt,et,[1,1],ne,!0),this},n.__private__.ellipse=n.ellipse=function(E,et,bt,Tt,Pt){if(isNaN(E)||isNaN(et)||isNaN(bt)||isNaN(Tt)||!Dn(Pt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Vt=4/3*(Math.SQRT2-1)*bt,ne=4/3*(Math.SQRT2-1)*Tt;return Ta(E+bt,et),Qr(E+bt,et-ne,E+Vt,et-Tt,E,et-Tt),Qr(E-Vt,et-Tt,E-bt,et-ne,E-bt,et),Qr(E-bt,et+ne,E-Vt,et+Tt,E,et+Tt),Qr(E+Vt,et+Tt,E+bt,et+ne,E+bt,et),er(Pt),this},n.__private__.circle=n.circle=function(E,et,bt,Tt){if(isNaN(E)||isNaN(et)||isNaN(bt)||!Dn(Tt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,et,bt,bt,Tt)},n.setFont=function(E,et,bt){return bt&&(et=F(et,bt)),ge=Xo(E,et,{disableWarning:!1}),this};var mn=n.__private__.getFont=n.getFont=function(){return De[Xo.apply(n,arguments)]};n.__private__.getFontList=n.getFontList=function(){var E,et,bt={};for(E in Me)if(Me.hasOwnProperty(E))for(et in bt[E]=[],Me[E])Me[E].hasOwnProperty(et)&&bt[E].push(et);return bt},n.addFont=function(E,et,bt,Tt,Pt){var Vt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Vt.indexOf(arguments[3])!==-1?Pt=arguments[3]:arguments[3]&&Vt.indexOf(arguments[3])==-1&&(bt=F(bt,Tt)),Pt=Pt||"Identity-H",Sa.call(this,E,et,bt,Pt)};var Vn,Oa=m.lineWidth||.200025,Nr=n.__private__.getLineWidth=n.getLineWidth=function(){return Oa},Pl=n.__private__.setLineWidth=n.setLineWidth=function(E){return Oa=E,X(z(B(E))+" w"),this};n.__private__.setLineDash=xe.API.setLineDash=xe.API.setLineDashPattern=function(E,et){if(E=E||[],et=et||0,isNaN(et)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(bt){return z(B(bt))}).join(" "),et=z(B(et)),X("["+E+"] "+et+" d"),this};var Ws=n.__private__.getLineHeight=n.getLineHeight=function(){return _t*Vn};n.__private__.getLineHeight=n.getLineHeight=function(){return _t*Vn};var Zs=n.__private__.setLineHeightFactor=n.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(Vn=E),this},La=n.__private__.getLineHeightFactor=n.getLineHeightFactor=function(){return Vn};Zs(m.lineHeight);var Wn=n.__private__.getHorizontalCoordinate=function(E){return B(E)},Dr=n.__private__.getVerticalCoordinate=function(E){return C===_.ADVANCED?E:Oe[U].mediaBox.topRightY-Oe[U].mediaBox.bottomLeftY-B(E)},Ou=n.__private__.getHorizontalCoordinateString=n.getHorizontalCoordinateString=function(E){return z(Wn(E))},Ea=n.__private__.getVerticalCoordinateString=n.getVerticalCoordinateString=function(E){return z(Dr(E))},dr=m.strokeColor||"0 G";n.__private__.getStrokeColor=n.getDrawColor=function(){return pn(dr)},n.__private__.setStrokeColor=n.setDrawColor=function(E,et,bt,Tt){return dr=gn({ch1:E,ch2:et,ch3:bt,ch4:Tt,pdfColorType:"draw",precision:2}),X(dr),this};var hs=m.fillColor||"0 g";n.__private__.getFillColor=n.getFillColor=function(){return pn(hs)},n.__private__.setFillColor=n.setFillColor=function(E,et,bt,Tt){return hs=gn({ch1:E,ch2:et,ch3:bt,ch4:Tt,pdfColorType:"fill",precision:2}),X(hs),this};var ds=m.textColor||"0 g",Lu=n.__private__.getTextColor=n.getTextColor=function(){return pn(ds)};n.__private__.setTextColor=n.setTextColor=function(E,et,bt,Tt){return ds=gn({ch1:E,ch2:et,ch3:bt,ch4:Tt,pdfColorType:"text",precision:3}),this};var Ks=m.charSpace,Eu=n.__private__.getCharSpace=n.getCharSpace=function(){return parseFloat(Ks||0)};n.__private__.setCharSpace=n.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ks=E,this};var Ko=0;n.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},n.__private__.setLineCap=n.setLineCap=function(E){var et=n.CapJoinStyles[E];if(et===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ko=et,X(et+" J"),this};var Qs=0;n.__private__.setLineJoin=n.setLineJoin=function(E){var et=n.CapJoinStyles[E];if(et===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qs=et,X(et+" j"),this},n.__private__.setLineMiterLimit=n.__private__.setMiterLimit=n.setLineMiterLimit=n.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(z(B(E))+" M"),this},n.GState=Uf,n.setGState=function(E){(E=typeof E=="string"?pi[dn[E]]:Bl(null,E)).equals(Yi)||(X("/"+E.id+" gs"),Yi=E)};var Bl=function(E,et){if(!E||!dn[E]){var bt=!1;for(var Tt in pi)if(pi.hasOwnProperty(Tt)&&pi[Tt].equals(et)){bt=!0;break}if(bt)et=pi[Tt];else{var Pt="GS"+(Object.keys(pi).length+1).toString(10);pi[Pt]=et,et.id=Pt}return E&&(dn[E]=et.id),We.publish("addGState",et),et}};n.addGState=function(E,et){return Bl(E,et),this},n.saveGraphicsState=function(){return X("q"),un.push({key:ge,size:_t,color:ds}),this},n.restoreGraphicsState=function(){X("Q");var E=un.pop();return ge=E.key,_t=E.size,ds=E.color,Yi=null,this},n.setCurrentTransformationMatrix=function(E){return X(E.toString()+" cm"),this},n.comment=function(E){return X("#"+E),this};var Js=function(E,et){var bt=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return bt},set:function(Vt){isNaN(Vt)||(bt=parseFloat(Vt))}});var Tt=et||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Tt},set:function(Vt){isNaN(Vt)||(Tt=parseFloat(Vt))}});var Pt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pt},set:function(Vt){Pt=Vt.toString()}}),this},Qo=function(E,et,bt,Tt){Js.call(this,E,et),this.type="rect";var Pt=bt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pt},set:function(ne){isNaN(ne)||(Pt=parseFloat(ne))}});var Vt=Tt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Vt},set:function(ne){isNaN(ne)||(Vt=parseFloat(ne))}}),this},Jo=function(){this.page=ni,this.currentPage=U,this.pages=wt.slice(0),this.pagesContext=Oe.slice(0),this.x=ti,this.y=fe,this.matrix=ei,this.width=ps(U),this.height=ka(U),this.outputDestination=xt,this.id="",this.objectNumber=-1};Jo.prototype.restore=function(){ni=this.page,U=this.currentPage,Oe=this.pagesContext,wt=this.pages,ti=this.x,fe=this.y,ei=this.matrix,eo(U,this.width),$o(U,this.height),xt=this.outputDestination};var $s=function(E,et,bt,Tt,Pt){Lr.push(new Jo),ni=U=0,wt=[],ti=E,fe=et,ei=Pt,fs([bt,Tt])},ku=function(E){if(cr[E])Lr.pop().restore();else{var et=new Jo,bt="Xo"+(Object.keys(Xi).length+1).toString(10);et.id=bt,cr[E]=bt,Xi[bt]=et,We.publish("addFormObject",et),Lr.pop().restore()}};for(var to in n.beginFormObject=function(E,et,bt,Tt,Pt){return $s(E,et,bt,Tt,Pt),this},n.endFormObject=function(E){return ku(E),this},n.doFormObject=function(E,et){var bt=Xi[cr[E]];return X("q"),X(et.toString()+" cm"),X("/"+bt.id+" Do"),X("Q"),this},n.getFormObject=function(E){var et=Xi[cr[E]];return{x:et.x,y:et.y,width:et.width,height:et.height,matrix:et.matrix}},n.save=function(E,et){return E=E||"generated.pdf",(et=et||{}).returnPromise=et.returnPromise||!1,et.returnPromise===!1?(Sl(Ys(Wr()),E),typeof Sl.unload=="function"&&Ce.setTimeout&&setTimeout(Sl.unload,911),this):new Promise(function(bt,Tt){try{var Pt=Sl(Ys(Wr()),E);typeof Sl.unload=="function"&&Ce.setTimeout&&setTimeout(Sl.unload,911),bt(Pt)}catch(Vt){Tt(Vt.message)}})},xe.API)xe.API.hasOwnProperty(to)&&(to==="events"&&xe.API.events.length?function(E,et){var bt,Tt,Pt;for(Pt=et.length-1;Pt!==-1;Pt--)bt=et[Pt][0],Tt=et[Pt][1],E.subscribe.apply(E,[bt].concat(typeof Tt=="function"?[Tt]:Tt))}(We,xe.API.events):n[to]=xe.API[to]);var ps=n.getPageWidth=function(E){return(Oe[E=E||U].mediaBox.topRightX-Oe[E].mediaBox.bottomLeftX)/ae},eo=n.setPageWidth=function(E,et){Oe[E].mediaBox.topRightX=et*ae+Oe[E].mediaBox.bottomLeftX},ka=n.getPageHeight=function(E){return(Oe[E=E||U].mediaBox.topRightY-Oe[E].mediaBox.bottomLeftY)/ae},$o=n.setPageHeight=function(E,et){Oe[E].mediaBox.topRightY=et*ae+Oe[E].mediaBox.bottomLeftY};return n.internal={pdfEscape:gi,getStyle:tr,getFont:mn,getFontSize:ft,getCharSpace:Eu,getTextColor:Lu,getLineHeight:Ws,getLineHeightFactor:La,getLineWidth:Nr,write:$,getHorizontalCoordinate:Wn,getVerticalCoordinate:Dr,getCoordinateString:Ou,getVerticalCoordinateString:Ea,collections:{},newObject:ki,newAdditionalObject:os,newObjectDeferred:Fi,newObjectDeferredBegin:Yn,getFilters:kn,putStream:cn,events:We,scaleFactor:ae,pageSize:{getWidth:function(){return ps(U)},setWidth:function(E){eo(U,E)},getHeight:function(){return ka(U)},setHeight:function(E){$o(U,E)}},encryptionOptions:h,encryption:nn,getEncryptor:Aa,output:Zr,getNumberOfPages:Nl,pages:wt,out:X,f2:gt,f3:G,getPageInfo:Kr,getPageInfoByObjId:Ae,getCurrentPageInfo:Wo,getPDFVersion:d,Point:Js,Rectangle:Qo,Matrix:me,hasHotfix:Xs},Object.defineProperty(n.internal.pageSize,"width",{get:function(){return ps(U)},set:function(E){eo(U,E)},enumerable:!0,configurable:!0}),Object.defineProperty(n.internal.pageSize,"height",{get:function(){return ka(U)},set:function(E){$o(U,E)},enumerable:!0,configurable:!0}),kl.call(n,ot),ge="F1",Ho(w,p),We.publish("initialized"),n}gu.prototype.lsbFirstWord=function(m){return String.fromCharCode(m>>0&255,m>>8&255,m>>16&255,m>>24&255)},gu.prototype.toHexString=function(m){return m.split("").map(function(s){return("0"+(255&s.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gu.prototype.hexToBytes=function(m){for(var s=[],p=0;p<m.length;p+=2)s.push(String.fromCharCode(parseInt(m.substr(p,2),16)));return s.join("")},gu.prototype.processOwnerPassword=function(m,s){return Nd(kd(s).substr(0,5),m)},gu.prototype.encryptor=function(m,s){var p=kd(this.encryptionKey+String.fromCharCode(255&m,m>>8&255,m>>16&255,255&s,s>>8&255)).substr(0,10);return function(y){return Nd(p,y)}},Uf.prototype.equals=function(m){var s,p="id,objectNumber,equals";if(!m||ui(m)!==ui(this))return!1;var y=0;for(s in this)if(!(p.indexOf(s)>=0)){if(this.hasOwnProperty(s)&&!m.hasOwnProperty(s)||this[s]!==m[s])return!1;y++}for(s in m)m.hasOwnProperty(s)&&p.indexOf(s)<0&&y--;return y===0},xe.API={events:[]},xe.version="3.0.1";var Hi=xe.API,Gd=1,Tl=function(m){return m.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},du=function(m){return m.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ne=function(m){return m.toFixed(2)},jo=function(m){return m.toFixed(5)};Hi.__acroform__={};var ur=function(m,s){m.prototype=Object.create(s.prototype),m.prototype.constructor=m},b0=function(m){return m*Gd},ts=function(m){var s=new f1,p=de.internal.getHeight(m)||0,y=de.internal.getWidth(m)||0;return s.BBox=[0,0,Number(Ne(y)),Number(Ne(p))],s},Wv=Hi.__acroform__.setBit=function(m,s){if(m=m||0,s=s||0,isNaN(m)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return m|=1<<s},Zv=Hi.__acroform__.clearBit=function(m,s){if(m=m||0,s=s||0,isNaN(m)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return m&=~(1<<s)},Kv=Hi.__acroform__.getBit=function(m,s){if(isNaN(m)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(m&1<<s)==0?0:1},$i=Hi.__acroform__.getBitForPdf=function(m,s){if(isNaN(m)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Kv(m,s-1)},tn=Hi.__acroform__.setBitForPdf=function(m,s){if(isNaN(m)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Wv(m,s-1)},en=Hi.__acroform__.clearBitForPdf=function(m,s){if(isNaN(m)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Zv(m,s-1)},Qv=Hi.__acroform__.calculateCoordinates=function(m,s){var p=s.internal.getHorizontalCoordinate,y=s.internal.getVerticalCoordinate,w=m[0],b=m[1],S=m[2],u=m[3],i={};return i.lowerLeft_X=p(w)||0,i.lowerLeft_Y=y(b+u)||0,i.upperRight_X=p(w+S)||0,i.upperRight_Y=y(b)||0,[Number(Ne(i.lowerLeft_X)),Number(Ne(i.lowerLeft_Y)),Number(Ne(i.upperRight_X)),Number(Ne(i.upperRight_Y))]},Jv=function(m){if(m.appearanceStreamContent)return m.appearanceStreamContent;if(m.V||m.DV){var s=[],p=m._V||m.DV,y=Dd(m,p),w=m.scope.internal.getFont(m.fontName,m.fontStyle).id;s.push("/Tx BMC"),s.push("q"),s.push("BT"),s.push(m.scope.__private__.encodeColorString(m.color)),s.push("/"+w+" "+Ne(y.fontSize)+" Tf"),s.push("1 0 0 1 0 0 Tm"),s.push(y.text),s.push("ET"),s.push("Q"),s.push("EMC");var b=ts(m);return b.scope=m.scope,b.stream=s.join(`
`),b}},Dd=function(m,s){var p=m.fontSize===0?m.maxFontSize:m.fontSize,y={text:"",fontSize:""},w=(s=(s=s.substr(0,1)=="("?s.substr(1):s).substr(s.length-1)==")"?s.substr(0,s.length-1):s).split(" ");w=m.multiline?w.map(function(G){return G.split(`
`)}):w.map(function(G){return[G]});var b=p,S=de.internal.getHeight(m)||0;S=S<0?-S:S;var u=de.internal.getWidth(m)||0;u=u<0?-u:u;var i=function(G,B,it){if(G+1<w.length){var M=B+" "+w[G+1][0];return kf(M,m,it).width<=u-4}return!1};b++;t:for(;b>0;){s="",b--;var o,h,r=kf("3",m,b).height,a=m.multiline?S-b:(S-r)/2,n=a+=2,l=0,d=0,c=0;if(b<=0){s=`(...) Tj
`,s+="% Width of Text: "+kf(s,m,b=12).width+", FieldWidth:"+u+`
`;break}for(var g="",_=0,C=0;C<w.length;C++)if(w.hasOwnProperty(C)){var O=!1;if(w[C].length!==1&&c!==w[C].length-1){if((r+2)*(_+2)+2>S)continue t;g+=w[C][c],O=!0,d=C,C--}else{g=(g+=w[C][c]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var k=parseInt(C),F=i(k,g,b),z=C>=w.length-1;if(F&&!z){g+=" ",c=0;continue}if(F||z){if(z)d=k;else if(m.multiline&&(r+2)*(_+2)+2>S)continue t}else{if(!m.multiline||(r+2)*(_+2)+2>S)continue t;d=k}}for(var q="",Q=l;Q<=d;Q++){var gt=w[Q];if(m.multiline){if(Q===d){q+=gt[c]+" ",c=(c+1)%gt.length;continue}if(Q===l){q+=gt[gt.length-1]+" ";continue}}q+=gt[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,h=kf(q,m,b).width,m.textAlign){case"right":o=u-h-2;break;case"center":o=(u-h)/2;break;case"left":default:o=2}s+=Ne(o)+" "+Ne(n)+` Td
`,s+="("+Tl(q)+`) Tj
`,s+=-Ne(o)+` 0 Td
`,n=-(b+2),h=0,l=O?d:d+1,_++,g=""}break}return y.text=s,y.fontSize=b,y},kf=function(m,s,p){var y=s.scope.internal.getFont(s.fontName,s.fontStyle),w=s.scope.getStringUnitWidth(m,{font:y,fontSize:parseFloat(p),charSpace:0})*parseFloat(p);return{height:s.scope.getStringUnitWidth("3",{font:y,fontSize:parseFloat(p),charSpace:0})*parseFloat(p)*1.5,width:w}},$v={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},t5=function(m,s){var p={type:"reference",object:m};s.internal.getPageInfo(m.page).pageContext.annotations.find(function(y){return y.type===p.type&&y.object===p.object})===void 0&&s.internal.getPageInfo(m.page).pageContext.annotations.push(p)},e5=function(m,s){for(var p in m)if(m.hasOwnProperty(p)){var y=p,w=m[p];s.internal.newObjectDeferredBegin(w.objId,!0),ui(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete m[y]}},i5=function(m,s){if(s.scope=m,m.internal!==void 0&&(m.internal.acroformPlugin===void 0||m.internal.acroformPlugin.isInitialized===!1)){if(ba.FieldNum=0,m.internal.acroformPlugin=JSON.parse(JSON.stringify($v)),m.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Gd=m.internal.scaleFactor,m.internal.acroformPlugin.acroFormDictionaryRoot=new h1,m.internal.acroformPlugin.acroFormDictionaryRoot.scope=m,m.internal.acroformPlugin.acroFormDictionaryRoot._eventID=m.internal.events.subscribe("postPutResources",function(){(function(p){p.internal.events.unsubscribe(p.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete p.internal.acroformPlugin.acroFormDictionaryRoot._eventID,p.internal.acroformPlugin.printedOut=!0})(m)}),m.internal.events.subscribe("buildDocument",function(){(function(p){p.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var y=p.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var w in y)if(y.hasOwnProperty(w)){var b=y[w];b.objId=void 0,b.hasAnnotation&&t5(b,p)}})(m)}),m.internal.events.subscribe("putCatalog",function(){(function(p){if(p.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");p.internal.write("/AcroForm "+p.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(m)}),m.internal.events.subscribe("postPutPages",function(p){(function(y,w){var b=!y;for(var S in y||(w.internal.newObjectDeferredBegin(w.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),w.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),y=y||w.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(y.hasOwnProperty(S)){var u=y[S],i=[],o=u.Rect;if(u.Rect&&(u.Rect=Qv(u.Rect,w)),w.internal.newObjectDeferredBegin(u.objId,!0),u.DA=de.createDefaultAppearanceStream(u),ui(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(i=u.getKeyValueListForStream()),u.Rect=o,u.hasAppearanceStream&&!u.appearanceStreamContent){var h=Jv(u);i.push({key:"AP",value:"<</N "+h+">>"}),w.internal.acroformPlugin.xForms.push(h)}if(u.appearanceStreamContent){var r="";for(var a in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(a)){var n=u.appearanceStreamContent[a];if(r+="/"+a+" ",r+="<<",Object.keys(n).length>=1||Array.isArray(n)){for(var S in n)if(n.hasOwnProperty(S)){var l=n[S];typeof l=="function"&&(l=l.call(w,u)),r+="/"+S+" "+l+" ",w.internal.acroformPlugin.xForms.indexOf(l)>=0||w.internal.acroformPlugin.xForms.push(l)}}else typeof(l=n)=="function"&&(l=l.call(w,u)),r+="/"+S+" "+l,w.internal.acroformPlugin.xForms.indexOf(l)>=0||w.internal.acroformPlugin.xForms.push(l);r+=">>"}i.push({key:"AP",value:`<<
`+r+">>"})}w.internal.putStream({additionalKeyValues:i,objectId:u.objId}),w.internal.out("endobj")}b&&e5(w.internal.acroformPlugin.xForms,w)})(p,m)}),m.internal.acroformPlugin.isInitialized=!0}},c1=Hi.__acroform__.arrayToPdfArray=function(m,s,p){var y=function(S){return S};if(Array.isArray(m)){for(var w="[",b=0;b<m.length;b++)switch(b!==0&&(w+=" "),ui(m[b])){case"boolean":case"number":case"object":w+=m[b].toString();break;case"string":m[b].substr(0,1)!=="/"?(s!==void 0&&p&&(y=p.internal.getEncryptor(s)),w+="("+Tl(y(m[b].toString()))+")"):w+=m[b].toString()}return w+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},gd=function(m,s,p){var y=function(w){return w};return s!==void 0&&p&&(y=p.internal.getEncryptor(s)),(m=m||"").toString(),m="("+Tl(y(m))+")"},es=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(m){this._objId=m}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};es.prototype.toString=function(){return this.objId+" 0 R"},es.prototype.putStream=function(){var m=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:m,objectId:this.objId}),this.scope.internal.out("endobj")},es.prototype.getKeyValueListForStream=function(){var m=[],s=Object.getOwnPropertyNames(this).filter(function(b){return b!="content"&&b!="appearanceStreamContent"&&b!="scope"&&b!="objId"&&b.substring(0,1)!="_"});for(var p in s)if(Object.getOwnPropertyDescriptor(this,s[p]).configurable===!1){var y=s[p],w=this[y];w&&(Array.isArray(w)?m.push({key:y,value:c1(w,this.objId,this.scope)}):w instanceof es?(w.scope=this.scope,m.push({key:y,value:w.objId+" 0 R"})):typeof w!="function"&&m.push({key:y,value:w}))}return m};var f1=function(){es.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var m,s=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return s},set:function(p){s=p}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(p){m=p.trim()},get:function(){return m||null}})};ur(f1,es);var h1=function(){es.call(this);var m,s=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return s.length>0?s:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return s}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(m){var p=function(y){return y};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+Tl(p(m))+")"}},set:function(p){m=p}})};ur(h1,es);var ba=function m(){es.call(this);var s=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return s},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');s=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$i(s,3)},set:function(g){g?this.F=tn(s,3):this.F=en(s,3)}});var p=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return p},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');p=g}});var y=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(y.length!==0)return y},set:function(g){y=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!y||isNaN(y[0])?0:y[0]},set:function(g){y[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!y||isNaN(y[1])?0:y[1]},set:function(g){y[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!y||isNaN(y[2])?0:y[2]},set:function(g){y[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!y||isNaN(y[3])?0:y[3]},set:function(g){y[3]=g}});var w="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return w},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":w=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var b=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!b||b.length<1){if(this instanceof qf)return;b="FieldObject"+m.FieldNum++}var g=function(_){return _};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Tl(g(b))+")"},set:function(g){b=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return b},set:function(g){b=g}});var S="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return S},set:function(g){S=g}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var i=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return i},set:function(g){i=g}});var o=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return o===void 0?50/Gd:o},set:function(g){o=g}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(g){h=g}});var r="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!r||this instanceof qf||this instanceof Al))return gd(r,this.objId,this.scope)},set:function(g){g=g.toString(),r=g}});var a=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(a)return this instanceof wn?a:gd(a,this.objId,this.scope)},set:function(g){g=g.toString(),a=this instanceof wn?g:g.substr(0,1)==="("?du(g.substr(1,g.length-2)):du(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wn?du(a.substr(1,a.length-1)):a},set:function(g){g=g.toString(),a=this instanceof wn?"/"+g:g}});var n=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(n)return n},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(n)return this instanceof wn?n:gd(n,this.objId,this.scope)},set:function(g){g=g.toString(),n=this instanceof wn?g:g.substr(0,1)==="("?du(g.substr(1,g.length-2)):du(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wn?du(n.substr(1,n.length-1)):n},set:function(g){g=g.toString(),n=this instanceof wn?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var l,d=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){g=!!g,d=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(l)return l},set:function(g){l=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,1)},set:function(g){g?this.Ff=tn(this.Ff,1):this.Ff=en(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,2)},set:function(g){g?this.Ff=tn(this.Ff,2):this.Ff=en(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,3)},set:function(g){g?this.Ff=tn(this.Ff,3):this.Ff=en(this.Ff,3)}});var c=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(c!==null)return c},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');c=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(c){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:c=2;break;case"center":case 1:c=1;break;case"left":case 0:default:c=0}}})};ur(ba,es);var yu=function(){ba.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var m=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return m},set:function(p){m=p}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return m},set:function(p){m=p}});var s=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return c1(s,this.objId,this.scope)},set:function(p){var y,w;w=[],typeof(y=p)=="string"&&(w=function(b,S,u){u||(u=1);for(var i,o=[];i=S.exec(b);)o.push(i[u]);return o}(y,/\((.*?)\)/g)),s=w}}),this.getOptions=function(){return s},this.setOptions=function(p){s=p,this.sort&&s.sort()},this.addOption=function(p){p=(p=p||"").toString(),s.push(p),this.sort&&s.sort()},this.removeOption=function(p,y){for(y=y||!1,p=(p=p||"").toString();s.indexOf(p)!==-1&&(s.splice(s.indexOf(p),1),y!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,18)},set:function(p){p?this.Ff=tn(this.Ff,18):this.Ff=en(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,19)},set:function(p){this.combo===!0&&(p?this.Ff=tn(this.Ff,19):this.Ff=en(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,20)},set:function(p){p?(this.Ff=tn(this.Ff,20),s.sort()):this.Ff=en(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,22)},set:function(p){p?this.Ff=tn(this.Ff,22):this.Ff=en(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,23)},set:function(p){p?this.Ff=tn(this.Ff,23):this.Ff=en(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,27)},set:function(p){p?this.Ff=tn(this.Ff,27):this.Ff=en(this.Ff,27)}}),this.hasAppearanceStream=!1};ur(yu,ba);var bu=function(){yu.call(this),this.fontName="helvetica",this.combo=!1};ur(bu,yu);var _u=function(){bu.call(this),this.combo=!0};ur(_u,bu);var Pf=function(){_u.call(this),this.edit=!0};ur(Pf,_u);var wn=function(){ba.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,15)},set:function(p){p?this.Ff=tn(this.Ff,15):this.Ff=en(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,16)},set:function(p){p?this.Ff=tn(this.Ff,16):this.Ff=en(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,17)},set:function(p){p?this.Ff=tn(this.Ff,17):this.Ff=en(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,26)},set:function(p){p?this.Ff=tn(this.Ff,26):this.Ff=en(this.Ff,26)}});var m,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var p=function(b){return b};if(this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),Object.keys(s).length!==0){var y,w=[];for(y in w.push("<<"),s)w.push("/"+y+" ("+Tl(p(s[y]))+")");return w.push(">>"),w.join(`
`)}},set:function(p){ui(p)==="object"&&(s=p)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(p){typeof p=="string"&&(s.CA=p)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return m},set:function(p){m=p}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return m.substr(1,m.length-1)},set:function(p){m="/"+p}})};ur(wn,ba);var Bf=function(){wn.call(this),this.pushButton=!0};ur(Bf,wn);var wu=function(){wn.call(this),this.radio=!0,this.pushButton=!1;var m=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return m},set:function(s){m=s!==void 0?s:[]}})};ur(wu,wn);var qf=function(){var m,s;ba.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return m},set:function(w){m=w}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return s},set:function(w){s=w}});var p,y={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var w=function(u){return u};this.scope&&(w=this.scope.internal.getEncryptor(this.objId));var b,S=[];for(b in S.push("<<"),y)S.push("/"+b+" ("+Tl(w(y[b]))+")");return S.push(">>"),S.join(`
`)},set:function(w){ui(w)==="object"&&(y=w)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return y.CA||""},set:function(w){typeof w=="string"&&(y.CA=w)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return p},set:function(w){p=w}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return p.substr(1,p.length-1)},set:function(w){p="/"+w}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=de.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ur(qf,ba),wu.prototype.setAppearance=function(m){if(!("createAppearanceStream"in m)||!("getCA"in m))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var s in this.Kids)if(this.Kids.hasOwnProperty(s)){var p=this.Kids[s];p.appearanceStreamContent=m.createAppearanceStream(p.optionName),p.caption=m.getCA()}},wu.prototype.createOption=function(m){var s=new qf;return s.Parent=this,s.optionName=m,this.Kids.push(s),n5.call(this.scope,s),s};var Ff=function(){wn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=de.CheckBox.createAppearanceStream()};ur(Ff,wn);var Al=function(){ba.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,13)},set:function(s){s?this.Ff=tn(this.Ff,13):this.Ff=en(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,21)},set:function(s){s?this.Ff=tn(this.Ff,21):this.Ff=en(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,23)},set:function(s){s?this.Ff=tn(this.Ff,23):this.Ff=en(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,24)},set:function(s){s?this.Ff=tn(this.Ff,24):this.Ff=en(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,25)},set:function(s){s?this.Ff=tn(this.Ff,25):this.Ff=en(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,26)},set:function(s){s?this.Ff=tn(this.Ff,26):this.Ff=en(this.Ff,26)}});var m=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return m},set:function(s){m=s}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return m},set:function(s){Number.isInteger(s)&&(m=s)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ur(Al,ba);var zf=function(){Al.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,14)},set:function(m){m?this.Ff=tn(this.Ff,14):this.Ff=en(this.Ff,14)}}),this.password=!0};ur(zf,Al);var de={CheckBox:{createAppearanceStream:function(){return{N:{On:de.CheckBox.YesNormal},D:{On:de.CheckBox.YesPushDown,Off:de.CheckBox.OffPushDown}}},YesPushDown:function(m){var s=ts(m);s.scope=m.scope;var p=[],y=m.scope.internal.getFont(m.fontName,m.fontStyle).id,w=m.scope.__private__.encodeColorString(m.color),b=Dd(m,m.caption);return p.push("0.749023 g"),p.push("0 0 "+Ne(de.internal.getWidth(m))+" "+Ne(de.internal.getHeight(m))+" re"),p.push("f"),p.push("BMC"),p.push("q"),p.push("0 0 1 rg"),p.push("/"+y+" "+Ne(b.fontSize)+" Tf "+w),p.push("BT"),p.push(b.text),p.push("ET"),p.push("Q"),p.push("EMC"),s.stream=p.join(`
`),s},YesNormal:function(m){var s=ts(m);s.scope=m.scope;var p=m.scope.internal.getFont(m.fontName,m.fontStyle).id,y=m.scope.__private__.encodeColorString(m.color),w=[],b=de.internal.getHeight(m),S=de.internal.getWidth(m),u=Dd(m,m.caption);return w.push("1 g"),w.push("0 0 "+Ne(S)+" "+Ne(b)+" re"),w.push("f"),w.push("q"),w.push("0 0 1 rg"),w.push("0 0 "+Ne(S-1)+" "+Ne(b-1)+" re"),w.push("W"),w.push("n"),w.push("0 g"),w.push("BT"),w.push("/"+p+" "+Ne(u.fontSize)+" Tf "+y),w.push(u.text),w.push("ET"),w.push("Q"),s.stream=w.join(`
`),s},OffPushDown:function(m){var s=ts(m);s.scope=m.scope;var p=[];return p.push("0.749023 g"),p.push("0 0 "+Ne(de.internal.getWidth(m))+" "+Ne(de.internal.getHeight(m))+" re"),p.push("f"),s.stream=p.join(`
`),s}},RadioButton:{Circle:{createAppearanceStream:function(m){var s={D:{Off:de.RadioButton.Circle.OffPushDown},N:{}};return s.N[m]=de.RadioButton.Circle.YesNormal,s.D[m]=de.RadioButton.Circle.YesPushDown,s},getCA:function(){return"l"},YesNormal:function(m){var s=ts(m);s.scope=m.scope;var p=[],y=de.internal.getWidth(m)<=de.internal.getHeight(m)?de.internal.getWidth(m)/4:de.internal.getHeight(m)/4;y=Number((.9*y).toFixed(5));var w=de.internal.Bezier_C,b=Number((y*w).toFixed(5));return p.push("q"),p.push("1 0 0 1 "+jo(de.internal.getWidth(m)/2)+" "+jo(de.internal.getHeight(m)/2)+" cm"),p.push(y+" 0 m"),p.push(y+" "+b+" "+b+" "+y+" 0 "+y+" c"),p.push("-"+b+" "+y+" -"+y+" "+b+" -"+y+" 0 c"),p.push("-"+y+" -"+b+" -"+b+" -"+y+" 0 -"+y+" c"),p.push(b+" -"+y+" "+y+" -"+b+" "+y+" 0 c"),p.push("f"),p.push("Q"),s.stream=p.join(`
`),s},YesPushDown:function(m){var s=ts(m);s.scope=m.scope;var p=[],y=de.internal.getWidth(m)<=de.internal.getHeight(m)?de.internal.getWidth(m)/4:de.internal.getHeight(m)/4;y=Number((.9*y).toFixed(5));var w=Number((2*y).toFixed(5)),b=Number((w*de.internal.Bezier_C).toFixed(5)),S=Number((y*de.internal.Bezier_C).toFixed(5));return p.push("0.749023 g"),p.push("q"),p.push("1 0 0 1 "+jo(de.internal.getWidth(m)/2)+" "+jo(de.internal.getHeight(m)/2)+" cm"),p.push(w+" 0 m"),p.push(w+" "+b+" "+b+" "+w+" 0 "+w+" c"),p.push("-"+b+" "+w+" -"+w+" "+b+" -"+w+" 0 c"),p.push("-"+w+" -"+b+" -"+b+" -"+w+" 0 -"+w+" c"),p.push(b+" -"+w+" "+w+" -"+b+" "+w+" 0 c"),p.push("f"),p.push("Q"),p.push("0 g"),p.push("q"),p.push("1 0 0 1 "+jo(de.internal.getWidth(m)/2)+" "+jo(de.internal.getHeight(m)/2)+" cm"),p.push(y+" 0 m"),p.push(y+" "+S+" "+S+" "+y+" 0 "+y+" c"),p.push("-"+S+" "+y+" -"+y+" "+S+" -"+y+" 0 c"),p.push("-"+y+" -"+S+" -"+S+" -"+y+" 0 -"+y+" c"),p.push(S+" -"+y+" "+y+" -"+S+" "+y+" 0 c"),p.push("f"),p.push("Q"),s.stream=p.join(`
`),s},OffPushDown:function(m){var s=ts(m);s.scope=m.scope;var p=[],y=de.internal.getWidth(m)<=de.internal.getHeight(m)?de.internal.getWidth(m)/4:de.internal.getHeight(m)/4;y=Number((.9*y).toFixed(5));var w=Number((2*y).toFixed(5)),b=Number((w*de.internal.Bezier_C).toFixed(5));return p.push("0.749023 g"),p.push("q"),p.push("1 0 0 1 "+jo(de.internal.getWidth(m)/2)+" "+jo(de.internal.getHeight(m)/2)+" cm"),p.push(w+" 0 m"),p.push(w+" "+b+" "+b+" "+w+" 0 "+w+" c"),p.push("-"+b+" "+w+" -"+w+" "+b+" -"+w+" 0 c"),p.push("-"+w+" -"+b+" -"+b+" -"+w+" 0 -"+w+" c"),p.push(b+" -"+w+" "+w+" -"+b+" "+w+" 0 c"),p.push("f"),p.push("Q"),s.stream=p.join(`
`),s}},Cross:{createAppearanceStream:function(m){var s={D:{Off:de.RadioButton.Cross.OffPushDown},N:{}};return s.N[m]=de.RadioButton.Cross.YesNormal,s.D[m]=de.RadioButton.Cross.YesPushDown,s},getCA:function(){return"8"},YesNormal:function(m){var s=ts(m);s.scope=m.scope;var p=[],y=de.internal.calculateCross(m);return p.push("q"),p.push("1 1 "+Ne(de.internal.getWidth(m)-2)+" "+Ne(de.internal.getHeight(m)-2)+" re"),p.push("W"),p.push("n"),p.push(Ne(y.x1.x)+" "+Ne(y.x1.y)+" m"),p.push(Ne(y.x2.x)+" "+Ne(y.x2.y)+" l"),p.push(Ne(y.x4.x)+" "+Ne(y.x4.y)+" m"),p.push(Ne(y.x3.x)+" "+Ne(y.x3.y)+" l"),p.push("s"),p.push("Q"),s.stream=p.join(`
`),s},YesPushDown:function(m){var s=ts(m);s.scope=m.scope;var p=de.internal.calculateCross(m),y=[];return y.push("0.749023 g"),y.push("0 0 "+Ne(de.internal.getWidth(m))+" "+Ne(de.internal.getHeight(m))+" re"),y.push("f"),y.push("q"),y.push("1 1 "+Ne(de.internal.getWidth(m)-2)+" "+Ne(de.internal.getHeight(m)-2)+" re"),y.push("W"),y.push("n"),y.push(Ne(p.x1.x)+" "+Ne(p.x1.y)+" m"),y.push(Ne(p.x2.x)+" "+Ne(p.x2.y)+" l"),y.push(Ne(p.x4.x)+" "+Ne(p.x4.y)+" m"),y.push(Ne(p.x3.x)+" "+Ne(p.x3.y)+" l"),y.push("s"),y.push("Q"),s.stream=y.join(`
`),s},OffPushDown:function(m){var s=ts(m);s.scope=m.scope;var p=[];return p.push("0.749023 g"),p.push("0 0 "+Ne(de.internal.getWidth(m))+" "+Ne(de.internal.getHeight(m))+" re"),p.push("f"),s.stream=p.join(`
`),s}}},createDefaultAppearanceStream:function(m){var s=m.scope.internal.getFont(m.fontName,m.fontStyle).id,p=m.scope.__private__.encodeColorString(m.color);return"/"+s+" "+m.fontSize+" Tf "+p}};de.internal={Bezier_C:.551915024494,calculateCross:function(m){var s=de.internal.getWidth(m),p=de.internal.getHeight(m),y=Math.min(s,p);return{x1:{x:(s-y)/2,y:(p-y)/2+y},x2:{x:(s-y)/2+y,y:(p-y)/2},x3:{x:(s-y)/2,y:(p-y)/2},x4:{x:(s-y)/2+y,y:(p-y)/2+y}}}},de.internal.getWidth=function(m){var s=0;return ui(m)==="object"&&(s=b0(m.Rect[2])),s},de.internal.getHeight=function(m){var s=0;return ui(m)==="object"&&(s=b0(m.Rect[3])),s};var n5=Hi.addField=function(m){if(i5(this,m),!(m instanceof ba))throw new Error("Invalid argument passed to jsPDF.addField.");var s;return(s=m).scope.internal.acroformPlugin.printedOut&&(s.scope.internal.acroformPlugin.printedOut=!1,s.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),s.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(s),m.page=m.scope.internal.getCurrentPageInfo().pageNumber,this};Hi.AcroFormChoiceField=yu,Hi.AcroFormListBox=bu,Hi.AcroFormComboBox=_u,Hi.AcroFormEditBox=Pf,Hi.AcroFormButton=wn,Hi.AcroFormPushButton=Bf,Hi.AcroFormRadioButton=wu,Hi.AcroFormCheckBox=Ff,Hi.AcroFormTextField=Al,Hi.AcroFormPasswordField=zf,Hi.AcroFormAppearance=de,Hi.AcroForm={ChoiceField:yu,ListBox:bu,ComboBox:_u,EditBox:Pf,Button:wn,PushButton:Bf,RadioButton:wu,CheckBox:Ff,TextField:Al,PasswordField:zf,Appearance:de},xe.AcroForm={ChoiceField:yu,ListBox:bu,ComboBox:_u,EditBox:Pf,Button:wn,PushButton:Bf,RadioButton:wu,CheckBox:Ff,TextField:Al,PasswordField:zf,Appearance:de};xe.AcroForm;function d1(m){return m.reduce(function(s,p,y){return s[p]=y,s},{})}(function(m){m.__addimage__={};var s="UNKNOWN",p={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},y=m.__addimage__.getImageFileTypeByImageData=function(G,B){var it,M,mt,st,ut,vt=s;if((B=B||s)==="RGBA"||G.data!==void 0&&G.data instanceof Uint8ClampedArray&&"height"in G&&"width"in G)return"RGBA";if(F(G))for(ut in p)for(mt=p[ut],it=0;it<mt.length;it+=1){for(st=!0,M=0;M<mt[it].length;M+=1)if(mt[it][M]!==void 0&&mt[it][M]!==G[M]){st=!1;break}if(st===!0){vt=ut;break}}else for(ut in p)for(mt=p[ut],it=0;it<mt.length;it+=1){for(st=!0,M=0;M<mt[it].length;M+=1)if(mt[it][M]!==void 0&&mt[it][M]!==G.charCodeAt(M)){st=!1;break}if(st===!0){vt=ut;break}}return vt===s&&B!==s&&(vt=B),vt},w=function G(B){for(var it=this.internal.write,M=this.internal.putStream,mt=(0,this.internal.getFilters)();mt.indexOf("FlateEncode")!==-1;)mt.splice(mt.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var st=[];if(st.push({key:"Type",value:"/XObject"}),st.push({key:"Subtype",value:"/Image"}),st.push({key:"Width",value:B.width}),st.push({key:"Height",value:B.height}),B.colorSpace===c.INDEXED?st.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(st.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===c.DEVICE_CMYK&&st.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),st.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&st.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)){for(var ut="",vt=0,W=B.transparency.length;vt<W;vt++)ut+=B.transparency[vt]+" "+B.transparency[vt]+" ";st.push({key:"Mask",value:"["+ut+"]"})}B.sMask!==void 0&&st.push({key:"SMask",value:B.objectId+1+" 0 R"});var Y=B.filter!==void 0?["/"+B.filter]:void 0;if(M({data:B.data,additionalKeyValues:st,alreadyAppliedFilters:Y,objectId:B.objectId}),it("endobj"),"sMask"in B&&B.sMask!==void 0){var H="/Predictor "+B.predictor+" /Colors 1 /BitsPerComponent "+B.bitsPerComponent+" /Columns "+B.width,N={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:B.bitsPerComponent,decodeParameters:H,data:B.sMask};"filter"in B&&(N.filter=B.filter),G.call(this,N)}if(B.colorSpace===c.INDEXED){var U=this.internal.newObject();M({data:q(new Uint8Array(B.palette)),objectId:U}),it("endobj")}},b=function(){var G=this.internal.collections.addImage_images;for(var B in G)w.call(this,G[B])},S=function(){var G,B=this.internal.collections.addImage_images,it=this.internal.write;for(var M in B)it("/I"+(G=B[M]).index,G.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",b),this.internal.events.subscribe("putXobjectDict",S))},i=function(){var G=this.internal.collections.addImage_images;return u.call(this),G},o=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(G){return typeof m["process"+G.toUpperCase()]=="function"},r=function(G){return ui(G)==="object"&&G.nodeType===1},a=function(G,B){if(G.nodeName==="IMG"&&G.hasAttribute("src")){var it=""+G.getAttribute("src");if(it.indexOf("data:image/")===0)return xc(unescape(it).split("base64,").pop());var M=m.loadFile(it,!0);if(M!==void 0)return M}if(G.nodeName==="CANVAS"){if(G.width===0||G.height===0)throw new Error("Given canvas must have data. Canvas width: "+G.width+", height: "+G.height);var mt;switch(B){case"PNG":mt="image/png";break;case"WEBP":mt="image/webp";break;case"JPEG":case"JPG":default:mt="image/jpeg"}return xc(G.toDataURL(mt,1).split("base64,").pop())}},n=function(G){var B=this.internal.collections.addImage_images;if(B){for(var it in B)if(G===B[it].alias)return B[it]}},l=function(G,B,it){return G||B||(G=-96,B=-96),G<0&&(G=-1*it.width*72/G/this.internal.scaleFactor),B<0&&(B=-1*it.height*72/B/this.internal.scaleFactor),G===0&&(G=B*it.width/it.height),B===0&&(B=G*it.height/it.width),[G,B]},d=function(G,B,it,M,mt,st){var ut=l.call(this,it,M,mt),vt=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,Y=i.call(this);if(it=ut[0],M=ut[1],Y[mt.index]=mt,st){st*=Math.PI/180;var H=Math.cos(st),N=Math.sin(st),U=function(P){return P.toFixed(4)},R=[U(H),U(N),U(-1*N),U(H),0,0,"cm"]}this.internal.write("q"),st?(this.internal.write([1,"0","0",1,vt(G),W(B+M),"cm"].join(" ")),this.internal.write(R.join(" ")),this.internal.write([vt(it),"0","0",vt(M),"0","0","cm"].join(" "))):this.internal.write([vt(it),"0","0",vt(M),vt(G),W(B+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+mt.index+" Do"),this.internal.write("Q")},c=m.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};m.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=m.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=m.__addimage__.sHashCode=function(G){var B,it,M=0;if(typeof G=="string")for(it=G.length,B=0;B<it;B++)M=(M<<5)-M+G.charCodeAt(B),M|=0;else if(F(G))for(it=G.byteLength/2,B=0;B<it;B++)M=(M<<5)-M+G[B],M|=0;return M},C=m.__addimage__.validateStringAsBase64=function(G){(G=G||"").toString().trim();var B=!0;return G.length===0&&(B=!1),G.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(G.substr(0,G.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(G.substr(-2))===!1&&(B=!1),B},O=m.__addimage__.extractImageFromDataUrl=function(G){if(G==null||!(G=G.trim()).startsWith("data:"))return null;var B=G.indexOf(",");return B<0?null:G.substring(0,B).trim().endsWith("base64")?G.substring(B+1):null},k=m.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};m.__addimage__.isArrayBuffer=function(G){return k()&&G instanceof ArrayBuffer};var F=m.__addimage__.isArrayBufferView=function(G){return k()&&typeof Uint32Array<"u"&&(G instanceof Int8Array||G instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&G instanceof Uint8ClampedArray||G instanceof Int16Array||G instanceof Uint16Array||G instanceof Int32Array||G instanceof Uint32Array||G instanceof Float32Array||G instanceof Float64Array)},z=m.__addimage__.binaryStringToUint8Array=function(G){for(var B=G.length,it=new Uint8Array(B),M=0;M<B;M++)it[M]=G.charCodeAt(M);return it},q=m.__addimage__.arrayBufferToBinaryString=function(G){for(var B="",it=F(G)?G:new Uint8Array(G),M=0;M<it.length;M+=8192)B+=String.fromCharCode.apply(null,it.subarray(M,M+8192));return B};m.addImage=function(){var G,B,it,M,mt,st,ut,vt,W;if(typeof arguments[1]=="number"?(B=s,it=arguments[1],M=arguments[2],mt=arguments[3],st=arguments[4],ut=arguments[5],vt=arguments[6],W=arguments[7]):(B=arguments[1],it=arguments[2],M=arguments[3],mt=arguments[4],st=arguments[5],ut=arguments[6],vt=arguments[7],W=arguments[8]),ui(G=arguments[0])==="object"&&!r(G)&&"imageData"in G){var Y=G;G=Y.imageData,B=Y.format||B||s,it=Y.x||it||0,M=Y.y||M||0,mt=Y.w||Y.width||mt,st=Y.h||Y.height||st,ut=Y.alias||ut,vt=Y.compression||vt,W=Y.rotation||Y.angle||W}var H=this.internal.getFilters();if(vt===void 0&&H.indexOf("FlateEncode")!==-1&&(vt="SLOW"),isNaN(it)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var N=Q.call(this,G,B,ut,vt);return d.call(this,it,M,mt,st,N,W),this};var Q=function(G,B,it,M){var mt,st,ut;if(typeof G=="string"&&y(G)===s){G=unescape(G);var vt=gt(G,!1);(vt!==""||(vt=m.loadFile(G,!0))!==void 0)&&(G=vt)}if(r(G)&&(G=a(G,B)),B=y(G,B),!h(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((ut=it)==null||ut.length===0)&&(it=function(W){return typeof W=="string"||F(W)?_(W):F(W.data)?_(W.data):null}(G)),(mt=n.call(this,it))||(k()&&(G instanceof Uint8Array||B==="RGBA"||(st=G,G=z(G))),mt=this["process"+B.toUpperCase()](G,o.call(this),it,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in m.image_compression?W:g.NONE}(M),st)),!mt)throw new Error("An unknown error occurred whilst processing the image.");return mt},gt=m.__addimage__.convertBase64ToBinaryString=function(G,B){B=typeof B!="boolean"||B;var it,M="";if(typeof G=="string"){var mt;it=(mt=O(G))!==null&&mt!==void 0?mt:G;try{M=xc(it)}catch(st){if(B)throw C(it)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+st.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};m.getImageProperties=function(G){var B,it,M="";if(r(G)&&(G=a(G)),typeof G=="string"&&y(G)===s&&((M=gt(G,!1))===""&&(M=m.loadFile(G)||""),G=M),it=y(G),!h(it))throw new Error("addImage does not support files of type '"+it+"', please ensure that a plugin for '"+it+"' support is added.");if(!k()||G instanceof Uint8Array||(G=z(G)),!(B=this["process"+it.toUpperCase()](G)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=it,B}})(xe.API),function(m){var s=function(p){if(p!==void 0&&p!="")return!0};xe.API.events.push(["addPage",function(p){this.internal.getPageInfo(p.pageNumber).pageContext.annotations=[]}]),m.events.push(["putPage",function(p){for(var y,w,b,S=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,i=this.internal.getPageInfoByObjId(p.objId),o=p.pageContext.annotations,h=!1,r=0;r<o.length&&!h;r++)switch((y=o[r]).type){case"link":(s(y.options.url)||s(y.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var a=0;a<o.length;a++){y=o[a];var n=this.internal.pdfEscape,l=this.internal.getEncryptor(p.objId);switch(y.type){case"reference":this.internal.write(" "+y.object.objId+" 0 R ");break;case"text":var d=this.internal.newAdditionalObject(),c=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(d.objId),_=y.title||"Note";b="<</Type /Annot /Subtype /Text "+(w="/Rect ["+S(y.bounds.x)+" "+u(y.bounds.y+y.bounds.h)+" "+S(y.bounds.x+y.bounds.w)+" "+u(y.bounds.y)+"] ")+"/Contents ("+n(g(y.contents))+")",b+=" /Popup "+c.objId+" 0 R",b+=" /P "+i.objId+" 0 R",b+=" /T ("+n(g(_))+") >>",d.content=b;var C=d.objId+" 0 R";b="<</Type /Annot /Subtype /Popup "+(w="/Rect ["+S(y.bounds.x+30)+" "+u(y.bounds.y+y.bounds.h)+" "+S(y.bounds.x+y.bounds.w+30)+" "+u(y.bounds.y)+"] ")+" /Parent "+C,y.open&&(b+=" /Open true"),b+=" >>",c.content=b,this.internal.write(d.objId,"0 R",c.objId,"0 R");break;case"freetext":w="/Rect ["+S(y.bounds.x)+" "+u(y.bounds.y)+" "+S(y.bounds.x+y.bounds.w)+" "+u(y.bounds.y+y.bounds.h)+"] ";var O=y.color||"#000000";b="<</Type /Annot /Subtype /FreeText "+w+"/Contents ("+n(l(y.contents))+")",b+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",b+=" /Border [0 0 0]",b+=" >>",this.internal.write(b);break;case"link":if(y.options.name){var k=this.annotations._nameMap[y.options.name];y.options.pageNumber=k.page,y.options.top=k.y}else y.options.top||(y.options.top=0);if(w="/Rect ["+y.finalBounds.x+" "+y.finalBounds.y+" "+y.finalBounds.w+" "+y.finalBounds.h+"] ",b="",y.options.url)b="<</Type /Annot /Subtype /Link "+w+"/Border [0 0 0] /A <</S /URI /URI ("+n(l(y.options.url))+") >>";else if(y.options.pageNumber)switch(b="<</Type /Annot /Subtype /Link "+w+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(y.options.pageNumber).objId+" 0 R",y.options.magFactor=y.options.magFactor||"XYZ",y.options.magFactor){case"Fit":b+=" /Fit]";break;case"FitH":b+=" /FitH "+y.options.top+"]";break;case"FitV":y.options.left=y.options.left||0,b+=" /FitV "+y.options.left+"]";break;case"XYZ":default:var F=u(y.options.top);y.options.left=y.options.left||0,y.options.zoom===void 0&&(y.options.zoom=0),b+=" /XYZ "+y.options.left+" "+F+" "+y.options.zoom+"]"}b!=""&&(b+=" >>",this.internal.write(b))}}this.internal.write("]")}}]),m.createAnnotation=function(p){var y=this.internal.getCurrentPageInfo();switch(p.type){case"link":this.link(p.bounds.x,p.bounds.y,p.bounds.w,p.bounds.h,p);break;case"text":case"freetext":y.pageContext.annotations.push(p)}},m.link=function(p,y,w,b,S){var u=this.internal.getCurrentPageInfo(),i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:i(p),y:o(y),w:i(p+w),h:o(y+b)},options:S,type:"link"})},m.textWithLink=function(p,y,w,b){var S,u,i=this.getTextWidth(p),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(b.maxWidth!==void 0){u=b.maxWidth;var h=this.splitTextToSize(p,u).length;S=Math.ceil(o*h)}else u=i,S=o;return this.text(p,y,w,b),w+=.2*o,b.align==="center"&&(y-=i/2),b.align==="right"&&(y-=i),this.link(y,w-o,u,S,b),i},m.getTextWidth=function(p){var y=this.internal.getFontSize();return this.getStringUnitWidth(p)*y/this.internal.scaleFactor}}(xe.API),function(m){var s={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},p={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},y={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},w=[1570,1571,1573,1575];m.__arabicParser__={};var b=m.__arabicParser__.isInArabicSubstitutionA=function(d){return s[d.charCodeAt(0)]!==void 0},S=m.__arabicParser__.isArabicLetter=function(d){return typeof d=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(d)},u=m.__arabicParser__.isArabicEndLetter=function(d){return S(d)&&b(d)&&s[d.charCodeAt(0)].length<=2},i=m.__arabicParser__.isArabicAlfLetter=function(d){return S(d)&&w.indexOf(d.charCodeAt(0))>=0};m.__arabicParser__.arabicLetterHasIsolatedForm=function(d){return S(d)&&b(d)&&s[d.charCodeAt(0)].length>=1};var o=m.__arabicParser__.arabicLetterHasFinalForm=function(d){return S(d)&&b(d)&&s[d.charCodeAt(0)].length>=2};m.__arabicParser__.arabicLetterHasInitialForm=function(d){return S(d)&&b(d)&&s[d.charCodeAt(0)].length>=3};var h=m.__arabicParser__.arabicLetterHasMedialForm=function(d){return S(d)&&b(d)&&s[d.charCodeAt(0)].length==4},r=m.__arabicParser__.resolveLigatures=function(d){var c=0,g=p,_="",C=0;for(c=0;c<d.length;c+=1)g[d.charCodeAt(c)]!==void 0?(C++,typeof(g=g[d.charCodeAt(c)])=="number"&&(_+=String.fromCharCode(g),g=p,C=0),c===d.length-1&&(g=p,_+=d.charAt(c-(C-1)),c-=C-1,C=0)):(g=p,_+=d.charAt(c-C),c-=C,C=0);return _};m.__arabicParser__.isArabicDiacritic=function(d){return d!==void 0&&y[d.charCodeAt(0)]!==void 0};var a=m.__arabicParser__.getCorrectForm=function(d,c,g){return S(d)?b(d)===!1?-1:!o(d)||!S(c)&&!S(g)||!S(g)&&u(c)||u(d)&&!S(c)||u(d)&&i(c)||u(d)&&u(c)?0:h(d)&&S(c)&&!u(c)&&S(g)&&o(g)?3:u(d)||!S(g)?1:2:-1},n=function(d){var c=0,g=0,_=0,C="",O="",k="",F=(d=d||"").split("\\s+"),z=[];for(c=0;c<F.length;c+=1){for(z.push(""),g=0;g<F[c].length;g+=1)C=F[c][g],O=F[c][g-1],k=F[c][g+1],S(C)?(_=a(C,O,k),z[c]+=_!==-1?String.fromCharCode(s[C.charCodeAt(0)][_]):C):z[c]+=C;z[c]=r(z[c])}return z.join(" ")},l=m.__arabicParser__.processArabic=m.processArabic=function(){var d,c=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(c)){var _=0;for(g=[],_=0;_<c.length;_+=1)Array.isArray(c[_])?g.push([n(c[_][0]),c[_][1],c[_][2]]):g.push([n(c[_])]);d=g}else d=n(c);return typeof arguments[0]=="string"?d:(arguments[0].text=d,arguments[0])};m.events.push(["preProcessText",l])}(xe.API),xe.API.autoPrint=function(m){var s;switch((m=m||{}).variant=m.variant||"non-conform",m.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){s=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+s+" 0 R")})}return this},function(m){var s=function(){var p=void 0;Object.defineProperty(this,"pdf",{get:function(){return p},set:function(u){p=u}});var y=150;Object.defineProperty(this,"width",{get:function(){return y},set:function(u){y=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=y+1)}});var w=300;Object.defineProperty(this,"height",{get:function(){return w},set:function(u){w=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=w+1)}});var b=[];Object.defineProperty(this,"childNodes",{get:function(){return b},set:function(u){b=u}});var S={};Object.defineProperty(this,"style",{get:function(){return S},set:function(u){S=u}}),Object.defineProperty(this,"parentNode",{})};s.prototype.getContext=function(p,y){var w;if((p=p||"2d")!=="2d")return null;for(w in y)this.pdf.context2d.hasOwnProperty(w)&&(this.pdf.context2d[w]=y[w]);return this.pdf.context2d._canvas=this,this.pdf.context2d},s.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},m.events.push(["initialized",function(){this.canvas=new s,this.canvas.pdf=this}])}(xe.API),function(m){var s={left:0,top:0,bottom:0,right:0},p=!1,y=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},s),this.internal.__cell__.margins.width=this.getPageWidth(),w.call(this))},w=function(){this.internal.__cell__.lastCell=new b,this.internal.__cell__.pages=1},b=function(){var i=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return i},set:function(d){i=d}});var o=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return o},set:function(d){o=d}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(d){h=d}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(d){r=d}});var a=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return a},set:function(d){a=d}});var n=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return n},set:function(d){n=d}});var l=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return l},set:function(d){l=d}}),this};b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},b.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},m.setHeaderFunction=function(i){return y.call(this),this.internal.__cell__.headerFunction=typeof i=="function"?i:void 0,this},m.getTextDimensions=function(i,o){y.call(this);var h=(o=o||{}).fontSize||this.getFontSize(),r=o.font||this.getFont(),a=o.scaleFactor||this.internal.scaleFactor,n=0,l=0,d=0,c=this;if(!Array.isArray(i)&&typeof i!="string"){if(typeof i!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");i=String(i)}var g=o.maxWidth;g>0?typeof i=="string"?i=this.splitTextToSize(i,g):Object.prototype.toString.call(i)==="[object Array]"&&(i=i.reduce(function(C,O){return C.concat(c.splitTextToSize(O,g))},[])):i=Array.isArray(i)?i:[i];for(var _=0;_<i.length;_++)n<(d=this.getStringUnitWidth(i[_],{font:r})*h)&&(n=d);return n!==0&&(l=i.length),{w:n/=a,h:Math.max((l*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/a,0)}},m.cellAddPage=function(){y.call(this),this.addPage();var i=this.internal.__cell__.margins||s;return this.internal.__cell__.lastCell=new b(i.left,i.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var S=m.cell=function(){var i;i=arguments[0]instanceof b?arguments[0]:new b(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),y.call(this);var o=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,r=this.internal.__cell__.margins||s,a=this.internal.__cell__.tableHeaderRow,n=this.internal.__cell__.printHeaders;return o.lineNumber!==void 0&&(o.lineNumber===i.lineNumber?(i.x=(o.x||0)+(o.width||0),i.y=o.y||0):o.y+o.height+i.height+r.bottom>this.getPageHeight()?(this.cellAddPage(),i.y=r.top,n&&a&&(this.printHeaderRow(i.lineNumber,!0),i.y+=a[0].height)):i.y=o.y+o.height||i.y),i.text[0]!==void 0&&(this.rect(i.x,i.y,i.width,i.height,p===!0?"FD":void 0),i.align==="right"?this.text(i.text,i.x+i.width-h,i.y+h,{align:"right",baseline:"top"}):i.align==="center"?this.text(i.text,i.x+i.width/2,i.y+h,{align:"center",baseline:"top",maxWidth:i.width-h-h}):this.text(i.text,i.x+h,i.y+h,{align:"left",baseline:"top",maxWidth:i.width-h-h})),this.internal.__cell__.lastCell=i,this};m.table=function(i,o,h,r,a){if(y.call(this),!h)throw new Error("No data for PDF table.");var n,l,d,c,g=[],_=[],C=[],O={},k={},F=[],z=[],q=(a=a||{}).autoSize||!1,Q=a.printHeaders!==!1,gt=a.css&&a.css["font-size"]!==void 0?16*a.css["font-size"]:a.fontSize||12,G=a.margins||Object.assign({width:this.getPageWidth()},s),B=typeof a.padding=="number"?a.padding:3,it=a.headerBackgroundColor||"#c8c8c8",M=a.headerTextColor||"#000";if(w.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=G,this.internal.__cell__.table_font_size=gt,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=it,this.internal.__cell__.headerTextColor=M,this.setFontSize(gt),r==null)_=g=Object.keys(h[0]),C=g.map(function(){return"left"});else if(Array.isArray(r)&&ui(r[0])==="object")for(g=r.map(function(Y){return Y.name}),_=r.map(function(Y){return Y.prompt||Y.name||""}),C=r.map(function(Y){return Y.align||"left"}),n=0;n<r.length;n+=1)k[r[n].name]=r[n].width*(19.049976/25.4);else Array.isArray(r)&&typeof r[0]=="string"&&(_=g=r,C=g.map(function(){return"left"}));if(q||Array.isArray(r)&&typeof r[0]=="string")for(n=0;n<g.length;n+=1){for(O[c=g[n]]=h.map(function(Y){return Y[c]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(_[n],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),l=O[c],this.setFont(void 0,"normal"),d=0;d<l.length;d+=1)F.push(this.getTextDimensions(l[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[c]=Math.max.apply(null,F)+B+B,F=[]}if(Q){var mt={};for(n=0;n<g.length;n+=1)mt[g[n]]={},mt[g[n]].text=_[n],mt[g[n]].align=C[n];var st=u.call(this,mt,k);z=g.map(function(Y){return new b(i,o,k[Y],st,mt[Y].text,void 0,mt[Y].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var ut=r.reduce(function(Y,H){return Y[H.name]=H.align,Y},{});for(n=0;n<h.length;n+=1){"rowStart"in a&&a.rowStart instanceof Function&&a.rowStart({row:n,data:h[n]},this);var vt=u.call(this,h[n],k);for(d=0;d<g.length;d+=1){var W=h[n][g[d]];"cellStart"in a&&a.cellStart instanceof Function&&a.cellStart({row:n,col:d,data:W},this),S.call(this,new b(i,o,k[g[d]],vt,W,n+2,ut[g[d]]))}}return this.internal.__cell__.table_x=i,this.internal.__cell__.table_y=o,this};var u=function(i,o){var h=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,a=this.internal.scaleFactor;return Object.keys(i).map(function(n){var l=i[n];return this.splitTextToSize(l.hasOwnProperty("text")?l.text:l,o[n]-h-h)},this).map(function(n){return this.getLineHeightFactor()*n.length*r/a+h+h},this).reduce(function(n,l){return Math.max(n,l)},0)};m.setTableHeaderRow=function(i){y.call(this),this.internal.__cell__.tableHeaderRow=i},m.printHeaderRow=function(i,o){if(y.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(p=!0,typeof this.internal.__cell__.headerFunction=="function"){var r=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new b(r[0],r[1],r[2],r[3],void 0,-1)}this.setFont(void 0,"bold");for(var a=[],n=0;n<this.internal.__cell__.tableHeaderRow.length;n+=1){h=this.internal.__cell__.tableHeaderRow[n].clone(),o&&(h.y=this.internal.__cell__.margins.top||0,a.push(h)),h.lineNumber=i;var l=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),S.call(this,h),this.setTextColor(l)}a.length>0&&this.setTableHeaderRow(a),this.setFont(void 0,"normal"),p=!1}}(xe.API);var p1={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},g1=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Md=d1(g1),m1=[100,200,300,400,500,600,700,800,900],r5=d1(m1);function jd(m){var s=m.family.replace(/"|'/g,"").toLowerCase(),p=function(b){return p1[b=b||"normal"]?b:"normal"}(m.style),y=function(b){if(!b)return 400;if(typeof b=="number")return b>=100&&b<=900&&b%100==0?b:400;if(/^\d00$/.test(b))return parseInt(b);switch(b){case"bold":return 700;case"normal":default:return 400}}(m.weight),w=function(b){return typeof Md[b=b||"normal"]=="number"?b:"normal"}(m.stretch);return{family:s,style:p,weight:y,stretch:w,src:m.src||[],ref:m.ref||{name:s,style:[w,p,y].join(" ")}}}function _0(m,s,p,y){var w;for(w=p;w>=0&&w<s.length;w+=y)if(m[s[w]])return m[s[w]];for(w=p;w>=0&&w<s.length;w-=y)if(m[s[w]])return m[s[w]]}var a5={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},w0={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function x0(m){return[m.stretch,m.style,m.weight,m.family].join(" ")}function s5(m,s,p){for(var y=(p=p||{}).defaultFontFamily||"times",w=Object.assign({},a5,p.genericFontFamilies||{}),b=null,S=null,u=0;u<s.length;++u)if(w[(b=jd(s[u])).family]&&(b.family=w[b.family]),m.hasOwnProperty(b.family)){S=m[b.family];break}if(!(S=S||m[y]))throw new Error("Could not find a font-family for the rule '"+x0(b)+"' and default family '"+y+"'.");if(S=function(i,o){if(o[i])return o[i];var h=Md[i],r=h<=Md.normal?-1:1,a=_0(o,g1,h,r);if(!a)throw new Error("Could not find a matching font-stretch value for "+i);return a}(b.stretch,S),S=function(i,o){if(o[i])return o[i];for(var h=p1[i],r=0;r<h.length;++r)if(o[h[r]])return o[h[r]];throw new Error("Could not find a matching font-style for "+i)}(b.style,S),!(S=function(i,o){if(o[i])return o[i];if(i===400&&o[500])return o[500];if(i===500&&o[400])return o[400];var h=r5[i],r=_0(o,m1,h,i<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+i);return r}(b.weight,S)))throw new Error("Failed to resolve a font for the rule '"+x0(b)+"'.");return S}function S0(m){return m.trimLeft()}function o5(m,s){for(var p=0;p<m.length;){if(m.charAt(p)===s)return[m.substring(0,p),m.substring(p+1)];p+=1}return null}function l5(m){var s=m.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return s===null?null:[s[0],m.substring(s[0].length)]}var Nf,C0,A0,md=["times"];(function(m){var s,p,y,w,b,S,u,i,o,h=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new i,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new S,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new S,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};m.events.push(["initialized",function(){this.context2d=new r(this),s=this.internal.f2,p=this.internal.getCoordinateString,y=this.internal.getVerticalCoordinateString,w=this.internal.getHorizontalCoordinate,b=this.internal.getVerticalCoordinate,S=this.internal.Point,u=this.internal.Rectangle,i=this.internal.Matrix,o=new h}]);var r=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=N;Object.defineProperty(this,"pdf",{get:function(){return U}});var R=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return R},set:function(rt){R=!!rt}});var P=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return P},set:function(rt){P=!!rt}});var V=0;Object.defineProperty(this,"posX",{get:function(){return V},set:function(rt){isNaN(rt)||(V=rt)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(rt){isNaN(rt)||(J=rt)}}),Object.defineProperty(this,"margin",{get:function(){return o.margin},set:function(rt){var X;typeof rt=="number"?X=[rt,rt,rt,rt]:((X=new Array(4))[0]=rt[0],X[1]=rt.length>=2?rt[1]:X[0],X[2]=rt.length>=3?rt[2]:X[0],X[3]=rt.length>=4?rt[3]:X[1]),o.margin=X}});var ht=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ht},set:function(rt){ht=rt}});var dt=0;Object.defineProperty(this,"lastBreak",{get:function(){return dt},set:function(rt){dt=rt}});var At=[];Object.defineProperty(this,"pageBreaks",{get:function(){return At},set:function(rt){At=rt}}),Object.defineProperty(this,"ctx",{get:function(){return o},set:function(rt){rt instanceof h&&(o=rt)}}),Object.defineProperty(this,"path",{get:function(){return o.path},set:function(rt){o.path=rt}});var wt=[];Object.defineProperty(this,"ctxStack",{get:function(){return wt},set:function(rt){wt=rt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(rt){var X;X=a(rt),this.ctx.fillStyle=X.style,this.ctx.isFillTransparent=X.a===0,this.ctx.fillOpacity=X.a,this.pdf.setFillColor(X.r,X.g,X.b,{a:X.a}),this.pdf.setTextColor(X.r,X.g,X.b,{a:X.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(rt){var X=a(rt);this.ctx.strokeStyle=X.style,this.ctx.isStrokeTransparent=X.a===0,this.ctx.strokeOpacity=X.a,X.a===0?this.pdf.setDrawColor(255,255,255):(X.a,this.pdf.setDrawColor(X.r,X.g,X.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(rt){["butt","round","square"].indexOf(rt)!==-1&&(this.ctx.lineCap=rt,this.pdf.setLineCap(rt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(rt){isNaN(rt)||(this.ctx.lineWidth=rt,this.pdf.setLineWidth(rt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(rt){["bevel","round","miter"].indexOf(rt)!==-1&&(this.ctx.lineJoin=rt,this.pdf.setLineJoin(rt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(rt){isNaN(rt)||(this.ctx.miterLimit=rt,this.pdf.setMiterLimit(rt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(rt){this.ctx.textBaseline=rt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(rt){["right","end","center","left","start"].indexOf(rt)!==-1&&(this.ctx.textAlign=rt)}});var Nt=null;function xt(rt,X){if(Nt===null){var $=function(K){var ot=[];return Object.keys(K).forEach(function(_t){K[_t].forEach(function(St){var ft=null;switch(St){case"bold":ft={family:_t,weight:"bold"};break;case"italic":ft={family:_t,style:"italic"};break;case"bolditalic":ft={family:_t,weight:"bold",style:"italic"};break;case"":case"normal":ft={family:_t}}ft!==null&&(ft.ref={name:_t,style:St},ot.push(ft))})}),ot}(rt.getFontList());Nt=function(K){for(var ot={},_t=0;_t<K.length;++_t){var St=jd(K[_t]),ft=St.family,Lt=St.stretch,Bt=St.style,qt=St.weight;ot[ft]=ot[ft]||{},ot[ft][Lt]=ot[ft][Lt]||{},ot[ft][Lt][Bt]=ot[ft][Lt][Bt]||{},ot[ft][Lt][Bt][qt]=St}return ot}($.concat(X))}return Nt}var j=null;Object.defineProperty(this,"fontFaces",{get:function(){return j},set:function(rt){Nt=null,j=rt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(rt){var X;if(this.ctx.font=rt,(X=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(rt))!==null){var $=X[1];X[2];var K=X[3],ot=X[4];X[5];var _t=X[6],St=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ot)[2];ot=Math.floor(St==="px"?parseFloat(ot)*this.pdf.internal.scaleFactor:St==="em"?parseFloat(ot)*this.pdf.getFontSize():parseFloat(ot)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ot);var ft=function(ie){var ge,ae,ti=[],fe=ie.trim();if(fe==="")return md;if(fe in w0)return[w0[fe]];for(;fe!=="";){switch(ae=null,ge=(fe=S0(fe)).charAt(0)){case'"':case"'":ae=o5(fe.substring(1),ge);break;default:ae=l5(fe)}if(ae===null||(ti.push(ae[0]),(fe=S0(ae[1]))!==""&&fe.charAt(0)!==","))return md;fe=fe.replace(/^,/,"")}return ti}(_t);if(this.fontFaces){var Lt=s5(xt(this.pdf,this.fontFaces),ft.map(function(ie){return{family:ie,stretch:"normal",weight:K,style:$}}));this.pdf.setFont(Lt.ref.name,Lt.ref.style)}else{var Bt="";(K==="bold"||parseInt(K,10)>=700||$==="bold")&&(Bt="bold"),$==="italic"&&(Bt+="italic"),Bt.length===0&&(Bt="normal");for(var qt="",$t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},re=0;re<ft.length;re++){if(this.pdf.internal.getFont(ft[re],Bt,{noFallback:!0,disableWarning:!0})!==void 0){qt=ft[re];break}if(Bt==="bolditalic"&&this.pdf.internal.getFont(ft[re],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qt=ft[re],Bt="bold";else if(this.pdf.internal.getFont(ft[re],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qt=ft[re],Bt="normal";break}}if(qt===""){for(var se=0;se<ft.length;se++)if($t[ft[se]]){qt=$t[ft[se]];break}}qt=qt===""?"Times":qt,this.pdf.setFont(qt,Bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(rt){this.ctx.globalCompositeOperation=rt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(rt){this.ctx.globalAlpha=rt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(rt){this.ctx.lineDashOffset=rt,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(rt){this.ctx.lineDash=rt,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(rt){this.ctx.ignoreClearRect=!!rt}})};r.prototype.setLineDash=function(N){this.lineDash=N},r.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},r.prototype.fill=function(){O.call(this,"fill",!1)},r.prototype.stroke=function(){O.call(this,"stroke",!1)},r.prototype.beginPath=function(){this.path=[{type:"begin"}]},r.prototype.moveTo=function(N,U){if(isNaN(N)||isNaN(U))throw vi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var R=this.ctx.transform.applyToPoint(new S(N,U));this.path.push({type:"mt",x:R.x,y:R.y}),this.ctx.lastPoint=new S(N,U)},r.prototype.closePath=function(){var N=new S(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&ui(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){N=new S(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new S(N.x,N.y)},r.prototype.lineTo=function(N,U){if(isNaN(N)||isNaN(U))throw vi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var R=this.ctx.transform.applyToPoint(new S(N,U));this.path.push({type:"lt",x:R.x,y:R.y}),this.ctx.lastPoint=new S(R.x,R.y)},r.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},r.prototype.quadraticCurveTo=function(N,U,R,P){if(isNaN(R)||isNaN(P)||isNaN(N)||isNaN(U))throw vi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var V=this.ctx.transform.applyToPoint(new S(R,P)),J=this.ctx.transform.applyToPoint(new S(N,U));this.path.push({type:"qct",x1:J.x,y1:J.y,x:V.x,y:V.y}),this.ctx.lastPoint=new S(V.x,V.y)},r.prototype.bezierCurveTo=function(N,U,R,P,V,J){if(isNaN(V)||isNaN(J)||isNaN(N)||isNaN(U)||isNaN(R)||isNaN(P))throw vi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ht=this.ctx.transform.applyToPoint(new S(V,J)),dt=this.ctx.transform.applyToPoint(new S(N,U)),At=this.ctx.transform.applyToPoint(new S(R,P));this.path.push({type:"bct",x1:dt.x,y1:dt.y,x2:At.x,y2:At.y,x:ht.x,y:ht.y}),this.ctx.lastPoint=new S(ht.x,ht.y)},r.prototype.arc=function(N,U,R,P,V,J){if(isNaN(N)||isNaN(U)||isNaN(R)||isNaN(P)||isNaN(V))throw vi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var ht=this.ctx.transform.applyToPoint(new S(N,U));N=ht.x,U=ht.y;var dt=this.ctx.transform.applyToPoint(new S(0,R)),At=this.ctx.transform.applyToPoint(new S(0,0));R=Math.sqrt(Math.pow(dt.x-At.x,2)+Math.pow(dt.y-At.y,2))}Math.abs(V-P)>=2*Math.PI&&(P=0,V=2*Math.PI),this.path.push({type:"arc",x:N,y:U,radius:R,startAngle:P,endAngle:V,counterclockwise:J})},r.prototype.arcTo=function(N,U,R,P,V){throw new Error("arcTo not implemented.")},r.prototype.rect=function(N,U,R,P){if(isNaN(N)||isNaN(U)||isNaN(R)||isNaN(P))throw vi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,U),this.lineTo(N+R,U),this.lineTo(N+R,U+P),this.lineTo(N,U+P),this.lineTo(N,U),this.lineTo(N+R,U),this.lineTo(N,U)},r.prototype.fillRect=function(N,U,R,P){if(isNaN(N)||isNaN(U)||isNaN(R)||isNaN(P))throw vi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!n.call(this)){var V={};this.lineCap!=="butt"&&(V.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(V.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,U,R,P),this.fill(),V.hasOwnProperty("lineCap")&&(this.lineCap=V.lineCap),V.hasOwnProperty("lineJoin")&&(this.lineJoin=V.lineJoin)}},r.prototype.strokeRect=function(N,U,R,P){if(isNaN(N)||isNaN(U)||isNaN(R)||isNaN(P))throw vi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");l.call(this)||(this.beginPath(),this.rect(N,U,R,P),this.stroke())},r.prototype.clearRect=function(N,U,R,P){if(isNaN(N)||isNaN(U)||isNaN(R)||isNaN(P))throw vi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,U,R,P))},r.prototype.save=function(N){N=typeof N!="boolean"||N;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var P=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=P}},r.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("Q");this.pdf.setPage(U),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},r.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var a=function(N){var U,R,P,V;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))U=0,R=0,P=0,V=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(J!==null)U=parseInt(J[1]),R=parseInt(J[2]),P=parseInt(J[3]),V=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)U=parseInt(J[1]),R=parseInt(J[2]),P=parseInt(J[3]),V=parseFloat(J[4]);else{if(V=1,typeof N=="string"&&N.charAt(0)!=="#"){var ht=new o1(N);N=ht.ok?ht.toHex():"#000000"}N.length===4?(U=N.substring(1,2),U+=U,R=N.substring(2,3),R+=R,P=N.substring(3,4),P+=P):(U=N.substring(1,3),R=N.substring(3,5),P=N.substring(5,7)),U=parseInt(U,16),R=parseInt(R,16),P=parseInt(P,16)}}return{r:U,g:R,b:P,a:V,style:N}},n=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},l=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};r.prototype.fillText=function(N,U,R,P){if(isNaN(U)||isNaN(R)||typeof N!="string")throw vi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(P=isNaN(P)?void 0:P,!n.call(this)){var V=vt(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;B.call(this,{text:N,x:U,y:R,scale:J,angle:V,align:this.textAlign,maxWidth:P})}},r.prototype.strokeText=function(N,U,R,P){if(isNaN(U)||isNaN(R)||typeof N!="string")throw vi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!l.call(this)){P=isNaN(P)?void 0:P;var V=vt(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;B.call(this,{text:N,x:U,y:R,scale:J,renderingMode:"stroke",angle:V,align:this.textAlign,maxWidth:P})}},r.prototype.measureText=function(N){if(typeof N!="string")throw vi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,R=this.pdf.internal.scaleFactor,P=U.internal.getFontSize(),V=U.getStringUnitWidth(N)*P/U.internal.scaleFactor,J=function(ht){var dt=(ht=ht||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return dt}}),this};return new J({width:V*=Math.round(96*R/72*1e4)/1e4})},r.prototype.scale=function(N,U){if(isNaN(N)||isNaN(U))throw vi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var R=new i(N,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(R)},r.prototype.rotate=function(N){if(isNaN(N))throw vi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new i(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},r.prototype.translate=function(N,U){if(isNaN(N)||isNaN(U))throw vi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var R=new i(1,0,0,1,N,U);this.ctx.transform=this.ctx.transform.multiply(R)},r.prototype.transform=function(N,U,R,P,V,J){if(isNaN(N)||isNaN(U)||isNaN(R)||isNaN(P)||isNaN(V)||isNaN(J))throw vi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ht=new i(N,U,R,P,V,J);this.ctx.transform=this.ctx.transform.multiply(ht)},r.prototype.setTransform=function(N,U,R,P,V,J){N=isNaN(N)?1:N,U=isNaN(U)?0:U,R=isNaN(R)?0:R,P=isNaN(P)?1:P,V=isNaN(V)?0:V,J=isNaN(J)?0:J,this.ctx.transform=new i(N,U,R,P,V,J)};var d=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};r.prototype.drawImage=function(N,U,R,P,V,J,ht,dt,At){var wt=this.pdf.getImageProperties(N),Nt=1,xt=1,j=1,rt=1;P!==void 0&&dt!==void 0&&(j=dt/P,rt=At/V,Nt=wt.width/P*dt/P,xt=wt.height/V*At/V),J===void 0&&(J=U,ht=R,U=0,R=0),P!==void 0&&dt===void 0&&(dt=P,At=V),P===void 0&&dt===void 0&&(dt=wt.width,At=wt.height);for(var X,$=this.ctx.transform.decompose(),K=vt($.rotate.shx),ot=new i,_t=(ot=(ot=(ot=ot.multiply($.translate)).multiply($.skew)).multiply($.scale)).applyToRectangle(new u(J-U*j,ht-R*rt,P*Nt,V*xt)),St=c.call(this,_t),ft=[],Lt=0;Lt<St.length;Lt+=1)ft.indexOf(St[Lt])===-1&&ft.push(St[Lt]);if(C(ft),this.autoPaging)for(var Bt=ft[0],qt=ft[ft.length-1],$t=Bt;$t<qt+1;$t++){this.pdf.setPage($t);var re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],se=$t===1?this.posY+this.margin[0]:this.margin[0],ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ae=$t===1?0:ie+($t-2)*ge;if(this.ctx.clip_path.length!==0){var ti=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(X,this.posX+this.margin[3],-ae+se+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=ti}var fe=JSON.parse(JSON.stringify(_t));fe=_([fe],this.posX+this.margin[3],-ae+se+this.ctx.prevPageLastElemOffset)[0];var ei=($t>Bt||$t<qt)&&d.call(this);ei&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],re,ge,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",fe.x,fe.y,fe.w,fe.h,null,null,K),ei&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,K)};var c=function(N,U,R){var P=[];U=U||this.pdf.internal.pageSize.width,R=R||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var V=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":P.push(Math.floor((N.y+V)/R)+1);break;case"arc":P.push(Math.floor((N.y+V-N.radius)/R)+1),P.push(Math.floor((N.y+V+N.radius)/R)+1);break;case"qct":var J=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);P.push(Math.floor((J.y+V)/R)+1),P.push(Math.floor((J.y+J.h+V)/R)+1);break;case"bct":var ht=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);P.push(Math.floor((ht.y+V)/R)+1),P.push(Math.floor((ht.y+ht.h+V)/R)+1);break;case"rect":P.push(Math.floor((N.y+V)/R)+1),P.push(Math.floor((N.y+N.h+V)/R)+1)}for(var dt=0;dt<P.length;dt+=1)for(;this.pdf.internal.getNumberOfPages()<P[dt];)g.call(this);return P},g=function(){var N=this.fillStyle,U=this.strokeStyle,R=this.font,P=this.lineCap,V=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=U,this.font=R,this.lineCap=P,this.lineWidth=V,this.lineJoin=J},_=function(N,U,R){for(var P=0;P<N.length;P++)switch(N[P].type){case"bct":N[P].x2+=U,N[P].y2+=R;case"qct":N[P].x1+=U,N[P].y1+=R;case"mt":case"lt":case"arc":default:N[P].x+=U,N[P].y+=R}return N},C=function(N){return N.sort(function(U,R){return U-R})},O=function(N,U){for(var R,P,V=this.fillStyle,J=this.strokeStyle,ht=this.lineCap,dt=this.lineWidth,At=Math.abs(dt*this.ctx.transform.scaleX),wt=this.lineJoin,Nt=JSON.parse(JSON.stringify(this.path)),xt=JSON.parse(JSON.stringify(this.path)),j=[],rt=0;rt<xt.length;rt++)if(xt[rt].x!==void 0)for(var X=c.call(this,xt[rt]),$=0;$<X.length;$+=1)j.indexOf(X[$])===-1&&j.push(X[$]);for(var K=0;K<j.length;K++)for(;this.pdf.internal.getNumberOfPages()<j[K];)g.call(this);if(C(j),this.autoPaging)for(var ot=j[0],_t=j[j.length-1],St=ot;St<_t+1;St++){this.pdf.setPage(St),this.fillStyle=V,this.strokeStyle=J,this.lineCap=ht,this.lineWidth=At,this.lineJoin=wt;var ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=St===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$t=St===1?0:Bt+(St-2)*qt;if(this.ctx.clip_path.length!==0){var re=this.path;R=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(R,this.posX+this.margin[3],-$t+Lt+this.ctx.prevPageLastElemOffset),k.call(this,N,!0),this.path=re}if(P=JSON.parse(JSON.stringify(Nt)),this.path=_(P,this.posX+this.margin[3],-$t+Lt+this.ctx.prevPageLastElemOffset),U===!1||St===0){var se=(St>ot||St<_t)&&d.call(this);se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,qt,null).clip().discardPath()),k.call(this,N,U),se&&this.pdf.restoreGraphicsState()}this.lineWidth=dt}else this.lineWidth=At,k.call(this,N,U),this.lineWidth=dt;this.path=Nt},k=function(N,U){if((N!=="stroke"||U||!l.call(this))&&(N==="stroke"||U||!n.call(this))){for(var R,P,V=[],J=this.path,ht=0;ht<J.length;ht++){var dt=J[ht];switch(dt.type){case"begin":V.push({begin:!0});break;case"close":V.push({close:!0});break;case"mt":V.push({start:dt,deltas:[],abs:[]});break;case"lt":var At=V.length;if(J[ht-1]&&!isNaN(J[ht-1].x)&&(R=[dt.x-J[ht-1].x,dt.y-J[ht-1].y],At>0)){for(;At>=0;At--)if(V[At-1].close!==!0&&V[At-1].begin!==!0){V[At-1].deltas.push(R),V[At-1].abs.push(dt);break}}break;case"bct":R=[dt.x1-J[ht-1].x,dt.y1-J[ht-1].y,dt.x2-J[ht-1].x,dt.y2-J[ht-1].y,dt.x-J[ht-1].x,dt.y-J[ht-1].y],V[V.length-1].deltas.push(R);break;case"qct":var wt=J[ht-1].x+2/3*(dt.x1-J[ht-1].x),Nt=J[ht-1].y+2/3*(dt.y1-J[ht-1].y),xt=dt.x+2/3*(dt.x1-dt.x),j=dt.y+2/3*(dt.y1-dt.y),rt=dt.x,X=dt.y;R=[wt-J[ht-1].x,Nt-J[ht-1].y,xt-J[ht-1].x,j-J[ht-1].y,rt-J[ht-1].x,X-J[ht-1].y],V[V.length-1].deltas.push(R);break;case"arc":V.push({deltas:[],abs:[],arc:!0}),Array.isArray(V[V.length-1].abs)&&V[V.length-1].abs.push(dt)}}P=U?null:N==="stroke"?"stroke":"fill";for(var $=!1,K=0;K<V.length;K++)if(V[K].arc)for(var ot=V[K].abs,_t=0;_t<ot.length;_t++){var St=ot[_t];St.type==="arc"?q.call(this,St.x,St.y,St.radius,St.startAngle,St.endAngle,St.counterclockwise,void 0,U,!$):it.call(this,St.x,St.y),$=!0}else if(V[K].close===!0)this.pdf.internal.out("h"),$=!1;else if(V[K].begin!==!0){var ft=V[K].start.x,Lt=V[K].start.y;M.call(this,V[K].deltas,ft,Lt),$=!0}P&&Q.call(this,P),U&&gt.call(this)}},F=function(N){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,R=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-R;case"top":return N+U-R;case"hanging":return N+U-2*R;case"middle":return N+U/2-R;case"ideographic":return N;case"alphabetic":default:return N}},z=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};r.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(U,R){this.colorStops.push([U,R])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},r.prototype.createPattern=function(){return this.createLinearGradient()},r.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(N,U,R,P,V,J,ht,dt,At){for(var wt=st.call(this,R,P,V,J),Nt=0;Nt<wt.length;Nt++){var xt=wt[Nt];Nt===0&&(At?G.call(this,xt.x1+N,xt.y1+U):it.call(this,xt.x1+N,xt.y1+U)),mt.call(this,N,U,xt.x2,xt.y2,xt.x3,xt.y3,xt.x4,xt.y4)}dt?gt.call(this):Q.call(this,ht)},Q=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},gt=function(){this.pdf.clip(),this.pdf.discardPath()},G=function(N,U){this.pdf.internal.out(p(N)+" "+y(U)+" m")},B=function(N){var U;switch(N.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var R=this.pdf.getTextDimensions(N.text),P=F.call(this,N.y),V=z.call(this,P)-R.h,J=this.ctx.transform.applyToPoint(new S(N.x,P)),ht=this.ctx.transform.decompose(),dt=new i;dt=(dt=(dt=dt.multiply(ht.translate)).multiply(ht.skew)).multiply(ht.scale);for(var At,wt,Nt,xt=this.ctx.transform.applyToRectangle(new u(N.x,P,R.w,R.h)),j=dt.applyToRectangle(new u(N.x,V,R.w,R.h)),rt=c.call(this,j),X=[],$=0;$<rt.length;$+=1)X.indexOf(rt[$])===-1&&X.push(rt[$]);if(C(X),this.autoPaging)for(var K=X[0],ot=X[X.length-1],_t=K;_t<ot+1;_t++){this.pdf.setPage(_t);var St=_t===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[2],Bt=Lt-this.margin[0],qt=this.pdf.internal.pageSize.width-this.margin[1],$t=qt-this.margin[3],re=_t===1?0:ft+(_t-2)*Bt;if(this.ctx.clip_path.length!==0){var se=this.path;At=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(At,this.posX+this.margin[3],-1*re+St),k.call(this,"fill",!0),this.path=se}var ie=_([JSON.parse(JSON.stringify(j))],this.posX+this.margin[3],-re+St+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(wt*N.scale),Nt=this.lineWidth,this.lineWidth=Nt*N.scale);var ge=this.autoPaging!=="text";if(ge||ie.y+ie.h<=Lt){if(ge||ie.y>=St&&ie.x<=qt){var ae=ge?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||qt-ie.x)[0],ti=_([JSON.parse(JSON.stringify(xt))],this.posX+this.margin[3],-re+St+this.ctx.prevPageLastElemOffset)[0],fe=ge&&(_t>K||_t<ot)&&d.call(this);fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Bt,null).clip().discardPath()),this.pdf.text(ae,ti.x,ti.y,{angle:N.angle,align:U,renderingMode:N.renderingMode}),fe&&this.pdf.restoreGraphicsState()}}else ie.y<Lt&&(this.ctx.prevPageLastElemOffset+=Lt-ie.y);N.scale>=.01&&(this.pdf.setFontSize(wt),this.lineWidth=Nt)}else N.scale>=.01&&(wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(wt*N.scale),Nt=this.lineWidth,this.lineWidth=Nt*N.scale),this.pdf.text(N.text,J.x+this.posX,J.y+this.posY,{angle:N.angle,align:U,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(wt),this.lineWidth=Nt)},it=function(N,U,R,P){R=R||0,P=P||0,this.pdf.internal.out(p(N+R)+" "+y(U+P)+" l")},M=function(N,U,R){return this.pdf.lines(N,U,R,null,null)},mt=function(N,U,R,P,V,J,ht,dt){this.pdf.internal.out([s(w(R+N)),s(b(P+U)),s(w(V+N)),s(b(J+U)),s(w(ht+N)),s(b(dt+U)),"c"].join(" "))},st=function(N,U,R,P){for(var V=2*Math.PI,J=Math.PI/2;U>R;)U-=V;var ht=Math.abs(R-U);ht<V&&P&&(ht=V-ht);for(var dt=[],At=P?-1:1,wt=U;ht>1e-5;){var Nt=wt+At*Math.min(ht,J);dt.push(ut.call(this,N,wt,Nt)),ht-=Math.abs(Nt-wt),wt=Nt}return dt},ut=function(N,U,R){var P=(R-U)/2,V=N*Math.cos(P),J=N*Math.sin(P),ht=V,dt=-J,At=ht*ht+dt*dt,wt=At+ht*V+dt*J,Nt=4/3*(Math.sqrt(2*At*wt)-wt)/(ht*J-dt*V),xt=ht-Nt*dt,j=dt+Nt*ht,rt=xt,X=-j,$=P+U,K=Math.cos($),ot=Math.sin($);return{x1:N*Math.cos(U),y1:N*Math.sin(U),x2:xt*K-j*ot,y2:xt*ot+j*K,x3:rt*K-X*ot,y3:rt*ot+X*K,x4:N*Math.cos(R),y4:N*Math.sin(R)}},vt=function(N){return 180*N/Math.PI},W=function(N,U,R,P,V,J){var ht=N+.5*(R-N),dt=U+.5*(P-U),At=V+.5*(R-V),wt=J+.5*(P-J),Nt=Math.min(N,V,ht,At),xt=Math.max(N,V,ht,At),j=Math.min(U,J,dt,wt),rt=Math.max(U,J,dt,wt);return new u(Nt,j,xt-Nt,rt-j)},Y=function(N,U,R,P,V,J,ht,dt){var At,wt,Nt,xt,j,rt,X,$,K,ot,_t,St,ft,Lt,Bt=R-N,qt=P-U,$t=V-R,re=J-P,se=ht-V,ie=dt-J;for(wt=0;wt<41;wt++)K=(X=(Nt=N+(At=wt/40)*Bt)+At*((j=R+At*$t)-Nt))+At*(j+At*(V+At*se-j)-X),ot=($=(xt=U+At*qt)+At*((rt=P+At*re)-xt))+At*(rt+At*(J+At*ie-rt)-$),wt==0?(_t=K,St=ot,ft=K,Lt=ot):(_t=Math.min(_t,K),St=Math.min(St,ot),ft=Math.max(ft,K),Lt=Math.max(Lt,ot));return new u(Math.round(_t),Math.round(St),Math.round(ft-_t),Math.round(Lt-St))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,U,R=(N=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:U}));this.prevLineDash!==R&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=R)}}})(xe.API),function(m){var s=function(b){var S,u,i,o,h,r,a,n,l,d;for(u=[],i=0,o=(b+=S="\0\0\0\0".slice(b.length%4||4)).length;o>i;i+=4)(h=(b.charCodeAt(i)<<24)+(b.charCodeAt(i+1)<<16)+(b.charCodeAt(i+2)<<8)+b.charCodeAt(i+3))!==0?(r=(h=((h=((h=((h=(h-(d=h%85))/85)-(l=h%85))/85)-(n=h%85))/85)-(a=h%85))/85)%85,u.push(r+33,a+33,n+33,l+33,d+33)):u.push(122);return function(c,g){for(var _=g;_>0;_--)c.pop()}(u,S.length),String.fromCharCode.apply(String,u)+"~>"},p=function(b){var S,u,i,o,h,r=String,a="length",n=255,l="charCodeAt",d="slice",c="replace";for(b[d](-2),b=b[d](0,-2)[c](/\s/g,"")[c]("z","!!!!!"),i=[],o=0,h=(b+=S="uuuuu"[d](b[a]%5||5))[a];h>o;o+=5)u=52200625*(b[l](o)-33)+614125*(b[l](o+1)-33)+7225*(b[l](o+2)-33)+85*(b[l](o+3)-33)+(b[l](o+4)-33),i.push(n&u>>24,n&u>>16,n&u>>8,n&u);return function(g,_){for(var C=_;C>0;C--)g.pop()}(i,S[a]),r.fromCharCode.apply(r,i)},y=function(b){var S=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((b=b.replace(/\s/g,"")).indexOf(">")!==-1&&(b=b.substr(0,b.indexOf(">"))),b.length%2&&(b+="0"),S.test(b)===!1)return"";for(var u="",i=0;i<b.length;i+=2)u+=String.fromCharCode("0x"+(b[i]+b[i+1]));return u},w=function(b){for(var S=new Uint8Array(b.length),u=b.length;u--;)S[u]=b.charCodeAt(u);return b=(S=Ld(S)).reduce(function(i,o){return i+String.fromCharCode(o)},"")};m.processDataByFilters=function(b,S){var u=0,i=b||"",o=[];for(typeof(S=S||[])=="string"&&(S=[S]),u=0;u<S.length;u+=1)switch(S[u]){case"ASCII85Decode":case"/ASCII85Decode":i=p(i),o.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":i=s(i),o.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":i=y(i),o.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":i=i.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",o.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":i=w(i),o.push("/FlateDecode");break;default:throw new Error('The filter: "'+S[u]+'" is not implemented')}return{data:i,reverseChain:o.reverse().join(" ")}}}(xe.API),function(m){m.loadFile=function(s,p,y){return function(w,b,S){b=b!==!1,S=typeof S=="function"?S:function(){};var u=void 0;try{u=function(i,o,h){var r=new XMLHttpRequest,a=0,n=function(l){var d=l.length,c=[],g=String.fromCharCode;for(a=0;a<d;a+=1)c.push(g(255&l.charCodeAt(a)));return c.join("")};if(r.open("GET",i,!o),r.overrideMimeType("text/plain; charset=x-user-defined"),o===!1&&(r.onload=function(){r.status===200?h(n(this.responseText)):h(void 0)}),r.send(null),o&&r.status===200)return n(r.responseText)}(w,b,S)}catch{}return u}(s,p,y)},m.loadImageFile=m.loadFile}(xe.API),function(m){function s(){return(Ce.html2canvas?Promise.resolve(Ce.html2canvas):Sd(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(S){return Promise.reject(new Error("Could not load html2canvas: "+S))}).then(function(S){return S.default?S.default:S})}function p(){return(Ce.DOMPurify?Promise.resolve(Ce.DOMPurify):Sd(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(S){return Promise.reject(new Error("Could not load dompurify: "+S))}).then(function(S){return S.default?S.default:S})}var y=function(S){var u=ui(S);return u==="undefined"?"undefined":u==="string"||S instanceof String?"string":u==="number"||S instanceof Number?"number":u==="function"||S instanceof Function?"function":S&&S.constructor===Array?"array":S&&S.nodeType===1?"element":u==="object"?"object":"unknown"},w=function(S,u){var i=document.createElement(S);for(var o in u.className&&(i.className=u.className),u.innerHTML&&u.dompurify&&(i.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)i.style[o]=u.style[o];return i},b=function S(u){var i=Object.assign(S.convert(Promise.resolve()),JSON.parse(JSON.stringify(S.template))),o=S.convert(Promise.resolve(),i);return o=(o=o.setProgress(1,S,1,[S])).set(u)};(b.prototype=Object.create(Promise.prototype)).constructor=b,b.convert=function(S,u){return S.__proto__=u||b.prototype,S},b.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},b.prototype.from=function(S,u){return this.then(function(){switch(u=u||function(i){switch(y(i)){case"string":return"string";case"element":return i.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(S)){case"string":return this.then(p).then(function(i){return this.set({src:w("div",{innerHTML:S,dompurify:i})})});case"element":return this.set({src:S});case"canvas":return this.set({canvas:S});case"img":return this.set({img:S});default:return this.error("Unknown source type.")}})},b.prototype.to=function(S){switch(S){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},b.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var S={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function i(o,h){for(var r=o.nodeType===3?document.createTextNode(o.nodeValue):o.cloneNode(!1),a=o.firstChild;a;a=a.nextSibling)h!==!0&&a.nodeType===1&&a.nodeName==="SCRIPT"||r.appendChild(i(a,h));return o.nodeType===1&&(o.nodeName==="CANVAS"?(r.width=o.width,r.height=o.height,r.getContext("2d").drawImage(o,0,0)):o.nodeName!=="TEXTAREA"&&o.nodeName!=="SELECT"||(r.value=o.value),r.addEventListener("load",function(){r.scrollTop=o.scrollTop,r.scrollLeft=o.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(S.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=w("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=w("div",{className:"html2pdf__container",style:S}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(w("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},b.prototype.toCanvas=function(){var S=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(S).then(s).then(function(u){var i=Object.assign({},this.opt.html2canvas);return delete i.onrendered,u(this.prop.container,i)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},b.prototype.toContext2d=function(){var S=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(S).then(s).then(function(u){var i=this.opt.jsPDF,o=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,r=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete r.onrendered,i.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,i.context2d.posX=this.opt.x,i.context2d.posY=this.opt.y,i.context2d.margin=this.opt.margin,i.context2d.fontFaces=o,o)for(var a=0;a<o.length;++a){var n=o[a],l=n.src.find(function(d){return d.format==="truetype"});l&&i.addFont(l.url,n.ref.name,n.ref.style)}return r.windowHeight=r.windowHeight||0,r.windowHeight=r.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):r.windowHeight,i.context2d.save(!0),u(this.prop.container,r)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},b.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var S=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=S})},b.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},b.prototype.output=function(S,u,i){return(i=i||"pdf").toLowerCase()==="img"||i.toLowerCase()==="image"?this.outputImg(S,u):this.outputPdf(S,u)},b.prototype.outputPdf=function(S,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(S,u)})},b.prototype.outputImg=function(S){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(S){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+S+'" is not supported.'}})},b.prototype.save=function(S){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(S?{filename:S}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},b.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},b.prototype.set=function(S){if(y(S)!=="object")return this;var u=Object.keys(S||{}).map(function(i){if(i in b.template.prop)return function(){this.prop[i]=S[i]};switch(i){case"margin":return this.setMargin.bind(this,S.margin);case"jsPDF":return function(){return this.opt.jsPDF=S.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,S.pageSize);default:return function(){this.opt[i]=S[i]}}},this);return this.then(function(){return this.thenList(u)})},b.prototype.get=function(S,u){return this.then(function(){var i=S in b.template.prop?this.prop[S]:this.opt[S];return u?u(i):i})},b.prototype.setMargin=function(S){return this.then(function(){switch(y(S)){case"number":S=[S,S,S,S];case"array":if(S.length===2&&(S=[S[0],S[1],S[0],S[1]]),S.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=S}).then(this.setPageSize)},b.prototype.setPageSize=function(S){function u(i,o){return Math.floor(i*o/72*96)}return this.then(function(){(S=S||xe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(S.inner={width:S.width-this.opt.margin[1]-this.opt.margin[3],height:S.height-this.opt.margin[0]-this.opt.margin[2]},S.inner.px={width:u(S.inner.width,S.k),height:u(S.inner.height,S.k)},S.inner.ratio=S.inner.height/S.inner.width),this.prop.pageSize=S})},b.prototype.setProgress=function(S,u,i,o){return S!=null&&(this.progress.val=S),u!=null&&(this.progress.state=u),i!=null&&(this.progress.n=i),o!=null&&(this.progress.stack=o),this.progress.ratio=this.progress.val/this.progress.state,this},b.prototype.updateProgress=function(S,u,i,o){return this.setProgress(S?this.progress.val+S:null,u||null,i?this.progress.n+i:null,o?this.progress.stack.concat(o):null)},b.prototype.then=function(S,u){var i=this;return this.thenCore(S,u,function(o,h){return i.updateProgress(null,null,1,[o]),Promise.prototype.then.call(this,function(r){return i.updateProgress(null,o),r}).then(o,h).then(function(r){return i.updateProgress(1),r})})},b.prototype.thenCore=function(S,u,i){i=i||Promise.prototype.then,S&&(S=S.bind(this)),u&&(u=u.bind(this));var o=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:b.convert(Object.assign({},this),Promise.prototype),h=i.call(o,S,u);return b.convert(h,this.__proto__)},b.prototype.thenExternal=function(S,u){return Promise.prototype.then.call(this,S,u)},b.prototype.thenList=function(S){var u=this;return S.forEach(function(i){u=u.thenCore(i)}),u},b.prototype.catch=function(S){S&&(S=S.bind(this));var u=Promise.prototype.catch.call(this,S);return b.convert(u,this)},b.prototype.catchExternal=function(S){return Promise.prototype.catch.call(this,S)},b.prototype.error=function(S){return this.then(function(){throw new Error(S)})},b.prototype.using=b.prototype.set,b.prototype.saveAs=b.prototype.save,b.prototype.export=b.prototype.output,b.prototype.run=b.prototype.then,xe.getPageSize=function(S,u,i){if(ui(S)==="object"){var o=S;S=o.orientation,u=o.unit||u,i=o.format||i}u=u||"mm",i=i||"a4",S=(""+(S||"P")).toLowerCase();var h,r=(""+i).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+u}var n,l=0,d=0;if(a.hasOwnProperty(r))l=a[r][1]/h,d=a[r][0]/h;else try{l=i[1],d=i[0]}catch{throw new Error("Invalid format: "+i)}if(S==="p"||S==="portrait")S="p",d>l&&(n=d,d=l,l=n);else{if(S!=="l"&&S!=="landscape")throw"Invalid orientation: "+S;S="l",l>d&&(n=d,d=l,l=n)}return{width:d,height:l,unit:u,k:h,orientation:S}},m.html=function(S,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(jd):null;var i=new b(u);return u.worker?i:i.from(S).doCallback()}}(xe.API),xe.API.addJS=function(m){return A0=m,this.internal.events.subscribe("postPutResources",function(){Nf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Nf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),C0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+A0+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Nf!==void 0&&C0!==void 0&&this.internal.out("/Names <</JavaScript "+Nf+" 0 R>>")}),this},function(m){var s;m.events.push(["postPutResources",function(){var p=this,y=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var w=p.outline.render().split(/\r\n/),b=0;b<w.length;b++){var S=w[b],u=y.exec(S);if(u!=null){var i=u[1];p.internal.newObjectDeferredBegin(i,!1)}p.internal.write(S)}if(this.outline.createNamedDestinations){var o=this.internal.pages.length,h=[];for(b=0;b<o;b++){var r=p.internal.newObject();h.push(r);var a=p.internal.getPageInfo(b+1);p.internal.write("<< /D["+a.objId+" 0 R /XYZ null null null]>> endobj")}var n=p.internal.newObject();for(p.internal.write("<< /Names [ "),b=0;b<h.length;b++)p.internal.write("(page_"+(b+1)+")"+h[b]+" 0 R");p.internal.write(" ] >>","endobj"),s=p.internal.newObject(),p.internal.write("<< /Dests "+n+" 0 R"),p.internal.write(">>","endobj")}}]),m.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+s+" 0 R"))}]),m.events.push(["initialized",function(){var p=this;p.outline={createNamedDestinations:!1,root:{children:[]}},p.outline.add=function(y,w,b){var S={title:w,options:b,children:[]};return y==null&&(y=this.root),y.children.push(S),S},p.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=p,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},p.outline.genIds_r=function(y){y.id=p.internal.newObjectDeferred();for(var w=0;w<y.children.length;w++)this.genIds_r(y.children[w])},p.outline.renderRoot=function(y){this.objStart(y),this.line("/Type /Outlines"),y.children.length>0&&(this.line("/First "+this.makeRef(y.children[0])),this.line("/Last "+this.makeRef(y.children[y.children.length-1]))),this.line("/Count "+this.count_r({count:0},y)),this.objEnd()},p.outline.renderItems=function(y){for(var w=this.ctx.pdf.internal.getVerticalCoordinateString,b=0;b<y.children.length;b++){var S=y.children[b];this.objStart(S),this.line("/Title "+this.makeString(S.title)),this.line("/Parent "+this.makeRef(y)),b>0&&this.line("/Prev "+this.makeRef(y.children[b-1])),b<y.children.length-1&&this.line("/Next "+this.makeRef(y.children[b+1])),S.children.length>0&&(this.line("/First "+this.makeRef(S.children[0])),this.line("/Last "+this.makeRef(S.children[S.children.length-1])));var u=this.count=this.count_r({count:0},S);if(u>0&&this.line("/Count "+u),S.options&&S.options.pageNumber){var i=p.internal.getPageInfo(S.options.pageNumber);this.line("/Dest ["+i.objId+" 0 R /XYZ 0 "+w(0)+" 0]")}this.objEnd()}for(var o=0;o<y.children.length;o++)this.renderItems(y.children[o])},p.outline.line=function(y){this.ctx.val+=y+`\r
`},p.outline.makeRef=function(y){return y.id+" 0 R"},p.outline.makeString=function(y){return"("+p.internal.pdfEscape(y)+")"},p.outline.objStart=function(y){this.ctx.val+=`\r
`+y.id+` 0 obj\r
<<\r
`},p.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},p.outline.count_r=function(y,w){for(var b=0;b<w.children.length;b++)y.count++,this.count_r(y,w.children[b]);return y.count}}])}(xe.API),function(m){var s=[192,193,194,195,196,197,198,199];m.processJPEG=function(p,y,w,b,S,u){var i,o=this.decode.DCT_DECODE,h=null;if(typeof p=="string"||this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p)){switch(p=S||p,p=this.__addimage__.isArrayBuffer(p)?new Uint8Array(p):p,(i=function(r){for(var a,n=256*r.charCodeAt(4)+r.charCodeAt(5),l=r.length,d={width:0,height:0,numcomponents:1},c=4;c<l;c+=2){if(c+=n,s.indexOf(r.charCodeAt(c+1))!==-1){a=256*r.charCodeAt(c+5)+r.charCodeAt(c+6),d={width:256*r.charCodeAt(c+7)+r.charCodeAt(c+8),height:a,numcomponents:r.charCodeAt(c+9)};break}n=256*r.charCodeAt(c+2)+r.charCodeAt(c+3)}return d}(p=this.__addimage__.isArrayBufferView(p)?this.__addimage__.arrayBufferToBinaryString(p):p)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}h={data:p,width:i.width,height:i.height,colorSpace:u,bitsPerComponent:8,filter:o,index:y,alias:w}}return h}}(xe.API);var pu,Df,T0,O0,L0,u5=function(){var m,s,p;function y(b){var S,u,i,o,h,r,a,n,l,d,c,g,_,C;for(this.data=b,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},r=null;;){switch(S=this.readUInt32(),l=(function(){var O,k;for(k=[],O=0;O<4;++O)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(S);break;case"fcTL":r&&this.animation.frames.push(r),this.pos+=4,r={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),o=this.readUInt16()||100,r.delay=1e3*h/o,r.disposeOp=this.data[this.pos++],r.blendOp=this.data[this.pos++],r.data=[];break;case"IDAT":case"fdAT":for(l==="fdAT"&&(this.pos+=4,S-=4),b=(r!=null?r.data:void 0)||this.imgData,g=0;0<=S?g<S:g>S;0<=S?++g:--g)b.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(i=this.palette.length/3,this.transparency.indexed=this.read(S),this.transparency.indexed.length>i)throw new Error("More transparent colors than palette size");if((d=i-this.transparency.indexed.length)>0)for(_=0;0<=d?_<d:_>d;0<=d?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(S)[0];break;case 2:this.transparency.rgb=this.read(S)}break;case"tEXt":a=(c=this.read(S)).indexOf(0),n=String.fromCharCode.apply(String,c.slice(0,a)),this.text[n]=String.fromCharCode.apply(String,c.slice(a+1));break;case"IEND":return r&&this.animation.frames.push(r),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(C=this.colorType)===4||C===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=S}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}y.prototype.read=function(b){var S,u;for(u=[],S=0;0<=b?S<b:S>b;0<=b?++S:--S)u.push(this.data[this.pos++]);return u},y.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},y.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},y.prototype.decodePixels=function(b){var S=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*S),i=0,o=this;if(b==null&&(b=this.imgData),b.length===0)return new Uint8Array(0);function h(r,a,n,l){var d,c,g,_,C,O,k,F,z,q,Q,gt,G,B,it,M,mt,st,ut,vt,W,Y=Math.ceil((o.width-r)/n),H=Math.ceil((o.height-a)/l),N=o.width==Y&&o.height==H;for(B=S*Y,gt=N?u:new Uint8Array(B*H),O=b.length,G=0,c=0;G<H&&i<O;){switch(b[i++]){case 0:for(_=mt=0;mt<B;_=mt+=1)gt[c++]=b[i++];break;case 1:for(_=st=0;st<B;_=st+=1)d=b[i++],C=_<S?0:gt[c-S],gt[c++]=(d+C)%256;break;case 2:for(_=ut=0;ut<B;_=ut+=1)d=b[i++],g=(_-_%S)/S,it=G&&gt[(G-1)*B+g*S+_%S],gt[c++]=(it+d)%256;break;case 3:for(_=vt=0;vt<B;_=vt+=1)d=b[i++],g=(_-_%S)/S,C=_<S?0:gt[c-S],it=G&&gt[(G-1)*B+g*S+_%S],gt[c++]=(d+Math.floor((C+it)/2))%256;break;case 4:for(_=W=0;W<B;_=W+=1)d=b[i++],g=(_-_%S)/S,C=_<S?0:gt[c-S],G===0?it=M=0:(it=gt[(G-1)*B+g*S+_%S],M=g&&gt[(G-1)*B+(g-1)*S+_%S]),k=C+it-M,F=Math.abs(k-C),q=Math.abs(k-it),Q=Math.abs(k-M),z=F<=q&&F<=Q?C:q<=Q?it:M,gt[c++]=(d+z)%256;break;default:throw new Error("Invalid filter algorithm: "+b[i-1])}if(!N){var U=((a+G*l)*o.width+r)*S,R=G*B;for(_=0;_<Y;_+=1){for(var P=0;P<S;P+=1)u[U++]=gt[R++];U+=(n-1)*S}}G++}}return b=Uv(b),o.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),u},y.prototype.decodePalette=function(){var b,S,u,i,o,h,r,a,n;for(u=this.palette,h=this.transparency.indexed||[],o=new Uint8Array((h.length||0)+u.length),i=0,b=0,S=r=0,a=u.length;r<a;S=r+=3)o[i++]=u[S],o[i++]=u[S+1],o[i++]=u[S+2],o[i++]=(n=h[b++])!=null?n:255;return o},y.prototype.copyToImageData=function(b,S){var u,i,o,h,r,a,n,l,d,c,g;if(i=this.colors,d=null,u=this.hasAlphaChannel,this.palette.length&&(d=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),i=4,u=!0),l=(o=b.data||b).length,r=d||S,h=a=0,i===1)for(;h<l;)n=d?4*S[h/4]:a,c=r[n++],o[h++]=c,o[h++]=c,o[h++]=c,o[h++]=u?r[n++]:255,a=n;else for(;h<l;)n=d?4*S[h/4]:a,o[h++]=r[n++],o[h++]=r[n++],o[h++]=r[n++],o[h++]=u?r[n++]:255,a=n},y.prototype.decode=function(){var b;return b=new Uint8Array(this.width*this.height*4),this.copyToImageData(b,this.decodePixels()),b};var w=function(){if(Object.prototype.toString.call(Ce)==="[object Window]"){try{s=Ce.document.createElement("canvas"),p=s.getContext("2d")}catch{return!1}return!0}return!1};return w(),m=function(b){var S;if(w()===!0)return p.width=b.width,p.height=b.height,p.clearRect(0,0,b.width,b.height),p.putImageData(b,0,0),(S=new Image).src=s.toDataURL(),S;throw new Error("This method requires a Browser with Canvas-capability.")},y.prototype.decodeFrames=function(b){var S,u,i,o,h,r,a,n;if(this.animation){for(n=[],u=h=0,r=(a=this.animation.frames).length;h<r;u=++h)S=a[u],i=b.createImageData(S.width,S.height),o=this.decodePixels(new Uint8Array(S.data)),this.copyToImageData(i,o),S.imageData=i,n.push(S.image=m(i));return n}},y.prototype.renderFrame=function(b,S){var u,i,o;return u=(i=this.animation.frames)[S],o=i[S-1],S===0&&b.clearRect(0,0,this.width,this.height),(o!=null?o.disposeOp:void 0)===1?b.clearRect(o.xOffset,o.yOffset,o.width,o.height):(o!=null?o.disposeOp:void 0)===2&&b.putImageData(o.imageData,o.xOffset,o.yOffset),u.blendOp===0&&b.clearRect(u.xOffset,u.yOffset,u.width,u.height),b.drawImage(u.image,u.xOffset,u.yOffset)},y.prototype.animate=function(b){var S,u,i,o,h,r,a=this;return u=0,r=this.animation,o=r.numFrames,i=r.frames,h=r.numPlays,(S=function(){var n,l;if(n=u++%o,l=i[n],a.renderFrame(b,n),o>1&&u/o<h)return a.animation._timeout=setTimeout(S,l.delay)})()},y.prototype.stopAnimation=function(){var b;return clearTimeout((b=this.animation)!=null?b._timeout:void 0)},y.prototype.render=function(b){var S,u;return b._png&&b._png.stopAnimation(),b._png=this,b.width=this.width,b.height=this.height,S=b.getContext("2d"),this.animation?(this.decodeFrames(S),this.animate(S)):(u=S.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),S.putImageData(u,0,0))},y}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function c5(m){var s=0;if(m[s++]!==71||m[s++]!==73||m[s++]!==70||m[s++]!==56||(m[s++]+1&253)!=56||m[s++]!==97)throw new Error("Invalid GIF 87a/89a header.");var p=m[s++]|m[s++]<<8,y=m[s++]|m[s++]<<8,w=m[s++],b=w>>7,S=1<<(7&w)+1;m[s++],m[s++];var u=null,i=null;b&&(u=s,i=S,s+=3*S);var o=!0,h=[],r=0,a=null,n=0,l=null;for(this.width=p,this.height=y;o&&s<m.length;)switch(m[s++]){case 33:switch(m[s++]){case 255:if(m[s]!==11||m[s+1]==78&&m[s+2]==69&&m[s+3]==84&&m[s+4]==83&&m[s+5]==67&&m[s+6]==65&&m[s+7]==80&&m[s+8]==69&&m[s+9]==50&&m[s+10]==46&&m[s+11]==48&&m[s+12]==3&&m[s+13]==1&&m[s+16]==0)s+=14,l=m[s++]|m[s++]<<8,s++;else for(s+=12;;){if(!((G=m[s++])>=0))throw Error("Invalid block size");if(G===0)break;s+=G}break;case 249:if(m[s++]!==4||m[s+4]!==0)throw new Error("Invalid graphics extension block.");var d=m[s++];r=m[s++]|m[s++]<<8,a=m[s++],(1&d)==0&&(a=null),n=d>>2&7,s++;break;case 254:for(;;){if(!((G=m[s++])>=0))throw Error("Invalid block size");if(G===0)break;s+=G}break;default:throw new Error("Unknown graphic control label: 0x"+m[s-1].toString(16))}break;case 44:var c=m[s++]|m[s++]<<8,g=m[s++]|m[s++]<<8,_=m[s++]|m[s++]<<8,C=m[s++]|m[s++]<<8,O=m[s++],k=O>>6&1,F=1<<(7&O)+1,z=u,q=i,Q=!1;O>>7&&(Q=!0,z=s,q=F,s+=3*F);var gt=s;for(s++;;){var G;if(!((G=m[s++])>=0))throw Error("Invalid block size");if(G===0)break;s+=G}h.push({x:c,y:g,width:_,height:C,has_local_palette:Q,palette_offset:z,palette_size:q,data_offset:gt,data_length:s-gt,transparent_index:a,interlaced:!!k,delay:r,disposal:n});break;case 59:o=!1;break;default:throw new Error("Unknown gif block: 0x"+m[s-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return l},this.frameInfo=function(B){if(B<0||B>=h.length)throw new Error("Frame index out of range.");return h[B]},this.decodeAndBlitFrameBGRA=function(B,it){var M=this.frameInfo(B),mt=M.width*M.height,st=new Uint8Array(mt);E0(m,M.data_offset,st,mt);var ut=M.palette_offset,vt=M.transparent_index;vt===null&&(vt=256);var W=M.width,Y=p-W,H=W,N=4*(M.y*p+M.x),U=4*((M.y+M.height)*p+M.x),R=N,P=4*Y;M.interlaced===!0&&(P+=4*p*7);for(var V=8,J=0,ht=st.length;J<ht;++J){var dt=st[J];if(H===0&&(H=W,(R+=P)>=U&&(P=4*Y+4*p*(V-1),R=N+(W+Y)*(V<<1),V>>=1)),dt===vt)R+=4;else{var At=m[ut+3*dt],wt=m[ut+3*dt+1],Nt=m[ut+3*dt+2];it[R++]=Nt,it[R++]=wt,it[R++]=At,it[R++]=255}--H}},this.decodeAndBlitFrameRGBA=function(B,it){var M=this.frameInfo(B),mt=M.width*M.height,st=new Uint8Array(mt);E0(m,M.data_offset,st,mt);var ut=M.palette_offset,vt=M.transparent_index;vt===null&&(vt=256);var W=M.width,Y=p-W,H=W,N=4*(M.y*p+M.x),U=4*((M.y+M.height)*p+M.x),R=N,P=4*Y;M.interlaced===!0&&(P+=4*p*7);for(var V=8,J=0,ht=st.length;J<ht;++J){var dt=st[J];if(H===0&&(H=W,(R+=P)>=U&&(P=4*Y+4*p*(V-1),R=N+(W+Y)*(V<<1),V>>=1)),dt===vt)R+=4;else{var At=m[ut+3*dt],wt=m[ut+3*dt+1],Nt=m[ut+3*dt+2];it[R++]=At,it[R++]=wt,it[R++]=Nt,it[R++]=255}--H}}}function E0(m,s,p,y){for(var w=m[s++],b=1<<w,S=b+1,u=S+1,i=w+1,o=(1<<i)-1,h=0,r=0,a=0,n=m[s++],l=new Int32Array(4096),d=null;;){for(;h<16&&n!==0;)r|=m[s++]<<h,h+=8,n===1?n=m[s++]:--n;if(h<i)break;var c=r&o;if(r>>=i,h-=i,c!==b){if(c===S)break;for(var g=c<u?c:d,_=0,C=g;C>b;)C=l[C]>>8,++_;var O=C;if(a+_+(g!==c?1:0)>y)return void vi.log("Warning, gif stream longer than expected.");p[a++]=O;var k=a+=_;for(g!==c&&(p[a++]=O),C=g;_--;)C=l[C],p[--k]=255&C,C>>=8;d!==null&&u<4096&&(l[u++]=d<<8|O,u>=o+1&&i<12&&(++i,o=o<<1|1)),d=c}else u=S+1,o=(1<<(i=w+1))-1,d=null}return a!==y&&vi.log("Warning, gif stream shorter than expected."),p}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vd(m){var s,p,y,w,b,S=Math.floor,u=new Array(64),i=new Array(64),o=new Array(64),h=new Array(64),r=new Array(65535),a=new Array(65535),n=new Array(64),l=new Array(64),d=[],c=0,g=7,_=new Array(64),C=new Array(64),O=new Array(64),k=new Array(256),F=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],gt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],G=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],it=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],mt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function st(N,U){for(var R=0,P=0,V=new Array,J=1;J<=16;J++){for(var ht=1;ht<=N[J];ht++)V[U[P]]=[],V[U[P]][0]=R,V[U[P]][1]=J,P++,R++;R*=2}return V}function ut(N){for(var U=N[0],R=N[1]-1;R>=0;)U&1<<R&&(c|=1<<g),R--,--g<0&&(c==255?(vt(255),vt(0)):vt(c),g=7,c=0)}function vt(N){d.push(N)}function W(N){vt(N>>8&255),vt(255&N)}function Y(N,U,R,P,V){for(var J,ht=V[0],dt=V[240],At=function(ot,_t){var St,ft,Lt,Bt,qt,$t,re,se,ie,ge,ae=0;for(ie=0;ie<8;++ie){St=ot[ae],ft=ot[ae+1],Lt=ot[ae+2],Bt=ot[ae+3],qt=ot[ae+4],$t=ot[ae+5],re=ot[ae+6];var ti=St+(se=ot[ae+7]),fe=St-se,ei=ft+re,De=ft-re,Me=Lt+$t,un=Lt-$t,Ye=Bt+qt,Or=Bt-qt,pi=ti+Ye,dn=ti-Ye,Yi=ei+Me,ni=ei-Me;ot[ae]=pi+Yi,ot[ae+4]=pi-Yi;var Oe=.707106781*(ni+dn);ot[ae+2]=dn+Oe,ot[ae+6]=dn-Oe;var We=.382683433*((pi=Or+un)-(ni=De+fe)),Yr=.5411961*pi+We,Xi=1.306562965*ni+We,cr=.707106781*(Yi=un+De),Lr=fe+cr,me=fe-cr;ot[ae+5]=me+Yr,ot[ae+3]=me-Yr,ot[ae+1]=Lr+Xi,ot[ae+7]=Lr-Xi,ae+=8}for(ae=0,ie=0;ie<8;++ie){St=ot[ae],ft=ot[ae+8],Lt=ot[ae+16],Bt=ot[ae+24],qt=ot[ae+32],$t=ot[ae+40],re=ot[ae+48];var ci=St+(se=ot[ae+56]),wi=St-se,Gi=ft+re,ki=ft-re,Fi=Lt+$t,Yn=Lt-$t,os=Bt+qt,Xn=Bt-qt,Gn=ci+os,pn=ci-os,gn=Gi+Fi,kn=Gi-Fi;ot[ae]=Gn+gn,ot[ae+32]=Gn-gn;var cn=.707106781*(kn+pn);ot[ae+16]=pn+cn,ot[ae+48]=pn-cn;var ri=.382683433*((Gn=Xn+Yn)-(kn=ki+wi)),wa=.5411961*Gn+ri,ls=1.306562965*kn+ri,$n=.707106781*(gn=Yn+ki),fr=wi+$n,qs=wi-$n;ot[ae+40]=qs+wa,ot[ae+24]=qs-wa,ot[ae+8]=fr+ls,ot[ae+56]=fr-ls,ae++}for(ie=0;ie<64;++ie)ge=ot[ie]*_t[ie],n[ie]=ge>0?ge+.5|0:ge-.5|0;return n}(N,U),wt=0;wt<64;++wt)l[z[wt]]=At[wt];var Nt=l[0]-R;R=l[0],Nt==0?ut(P[0]):(ut(P[a[J=32767+Nt]]),ut(r[J]));for(var xt=63;xt>0&&l[xt]==0;)xt--;if(xt==0)return ut(ht),R;for(var j,rt=1;rt<=xt;){for(var X=rt;l[rt]==0&&rt<=xt;)++rt;var $=rt-X;if($>=16){j=$>>4;for(var K=1;K<=j;++K)ut(dt);$&=15}J=32767+l[rt],ut(V[($<<4)+a[J]]),ut(r[J]),rt++}return xt!=63&&ut(ht),R}function H(N){N=Math.min(Math.max(N,1),100),b!=N&&(function(U){for(var R=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],P=0;P<64;P++){var V=S((R[P]*U+50)/100);V=Math.min(Math.max(V,1),255),u[z[P]]=V}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ht=0;ht<64;ht++){var dt=S((J[ht]*U+50)/100);dt=Math.min(Math.max(dt,1),255),i[z[ht]]=dt}for(var At=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],wt=0,Nt=0;Nt<8;Nt++)for(var xt=0;xt<8;xt++)o[wt]=1/(u[z[wt]]*At[Nt]*At[xt]*8),h[wt]=1/(i[z[wt]]*At[Nt]*At[xt]*8),wt++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),b=N)}this.encode=function(N,U){U&&H(U),d=new Array,c=0,g=7,W(65496),W(65504),W(16),vt(74),vt(70),vt(73),vt(70),vt(0),vt(1),vt(1),vt(0),W(1),W(1),vt(0),vt(0),function(){W(65499),W(132),vt(0);for(var ft=0;ft<64;ft++)vt(u[ft]);vt(1);for(var Lt=0;Lt<64;Lt++)vt(i[Lt])}(),function(ft,Lt){W(65472),W(17),vt(8),W(Lt),W(ft),vt(3),vt(1),vt(17),vt(0),vt(2),vt(17),vt(1),vt(3),vt(17),vt(1)}(N.width,N.height),function(){W(65476),W(418),vt(0);for(var ft=0;ft<16;ft++)vt(q[ft+1]);for(var Lt=0;Lt<=11;Lt++)vt(Q[Lt]);vt(16);for(var Bt=0;Bt<16;Bt++)vt(gt[Bt+1]);for(var qt=0;qt<=161;qt++)vt(G[qt]);vt(1);for(var $t=0;$t<16;$t++)vt(B[$t+1]);for(var re=0;re<=11;re++)vt(it[re]);vt(17);for(var se=0;se<16;se++)vt(M[se+1]);for(var ie=0;ie<=161;ie++)vt(mt[ie])}(),W(65498),W(12),vt(3),vt(1),vt(0),vt(2),vt(17),vt(3),vt(17),vt(0),vt(63),vt(0);var R=0,P=0,V=0;c=0,g=7,this.encode.displayName="_encode_";for(var J,ht,dt,At,wt,Nt,xt,j,rt,X=N.data,$=N.width,K=N.height,ot=4*$,_t=0;_t<K;){for(J=0;J<ot;){for(wt=ot*_t+J,xt=-1,j=0,rt=0;rt<64;rt++)Nt=wt+(j=rt>>3)*ot+(xt=4*(7&rt)),_t+j>=K&&(Nt-=ot*(_t+1+j-K)),J+xt>=ot&&(Nt-=J+xt-ot+4),ht=X[Nt++],dt=X[Nt++],At=X[Nt++],_[rt]=(F[ht]+F[dt+256>>0]+F[At+512>>0]>>16)-128,C[rt]=(F[ht+768>>0]+F[dt+1024>>0]+F[At+1280>>0]>>16)-128,O[rt]=(F[ht+1280>>0]+F[dt+1536>>0]+F[At+1792>>0]>>16)-128;R=Y(_,o,R,s,y),P=Y(C,h,P,p,w),V=Y(O,h,V,p,w),J+=32}_t+=8}if(g>=0){var St=[];St[1]=g+1,St[0]=(1<<g+1)-1,ut(St)}return W(65497),new Uint8Array(d)},m=m||50,function(){for(var N=String.fromCharCode,U=0;U<256;U++)k[U]=N(U)}(),s=st(q,Q),p=st(B,it),y=st(gt,G),w=st(M,mt),function(){for(var N=1,U=2,R=1;R<=15;R++){for(var P=N;P<U;P++)a[32767+P]=R,r[32767+P]=[],r[32767+P][1]=R,r[32767+P][0]=P;for(var V=-(U-1);V<=-N;V++)a[32767+V]=R,r[32767+V]=[],r[32767+V][1]=R,r[32767+V][0]=U-1+V;N<<=1,U<<=1}}(),function(){for(var N=0;N<256;N++)F[N]=19595*N,F[N+256>>0]=38470*N,F[N+512>>0]=7471*N+32768,F[N+768>>0]=-11059*N,F[N+1024>>0]=-21709*N,F[N+1280>>0]=32768*N+8421375,F[N+1536>>0]=-27439*N,F[N+1792>>0]=-5329*N}(),H(m)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function va(m,s){if(this.pos=0,this.buffer=m,this.datav=new DataView(m.buffer),this.is_with_alpha=!!s,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function k0(m){function s(q){if(!q)throw Error("assert :P")}function p(q,Q,gt){for(var G=0;4>G;G++)if(q[Q+G]!=gt.charCodeAt(G))return!0;return!1}function y(q,Q,gt,G,B){for(var it=0;it<B;it++)q[Q+it]=gt[G+it]}function w(q,Q,gt,G){for(var B=0;B<G;B++)q[Q+B]=gt}function b(q){return new Int32Array(q)}function S(q,Q){for(var gt=[],G=0;G<q;G++)gt.push(new Q);return gt}function u(q,Q){var gt=[];return function G(B,it,M){for(var mt=M[it],st=0;st<mt&&(B.push(M.length>it+1?[]:new Q),!(M.length<it+1));st++)G(B[st],it+1,M)}(gt,0,q),gt}var i=function(){var q=this;function Q(x,T){for(var D=1<<T-1>>>0;x&D;)D>>>=1;return D?(x&D-1)+D:x}function gt(x,T,D,I,tt){s(!(I%D));do x[T+(I-=D)]=tt;while(0<I)}function G(x,T,D,I,tt){if(s(2328>=tt),512>=tt)var nt=b(512);else if((nt=b(tt))==null)return 0;return function(at,lt,pt,yt,Ot,It){var Ft,Mt,Jt=lt,Gt=1<<pt,Et=b(16),Dt=b(16);for(s(Ot!=0),s(yt!=null),s(at!=null),s(0<pt),Mt=0;Mt<Ot;++Mt){if(15<yt[Mt])return 0;++Et[yt[Mt]]}if(Et[0]==Ot)return 0;for(Dt[1]=0,Ft=1;15>Ft;++Ft){if(Et[Ft]>1<<Ft)return 0;Dt[Ft+1]=Dt[Ft]+Et[Ft]}for(Mt=0;Mt<Ot;++Mt)Ft=yt[Mt],0<yt[Mt]&&(It[Dt[Ft]++]=Mt);if(Dt[15]==1)return(yt=new B).g=0,yt.value=It[0],gt(at,Jt,1,Gt,yt),Gt;var Wt,te=-1,Kt=Gt-1,ce=0,oe=1,ve=1,le=1<<pt;for(Mt=0,Ft=1,Ot=2;Ft<=pt;++Ft,Ot<<=1){if(oe+=ve<<=1,0>(ve-=Et[Ft]))return 0;for(;0<Et[Ft];--Et[Ft])(yt=new B).g=Ft,yt.value=It[Mt++],gt(at,Jt+ce,Ot,le,yt),ce=Q(ce,Ft)}for(Ft=pt+1,Ot=2;15>=Ft;++Ft,Ot<<=1){if(oe+=ve<<=1,0>(ve-=Et[Ft]))return 0;for(;0<Et[Ft];--Et[Ft]){if(yt=new B,(ce&Kt)!=te){for(Jt+=le,Wt=1<<(te=Ft)-pt;15>te&&!(0>=(Wt-=Et[te]));)++te,Wt<<=1;Gt+=le=1<<(Wt=te-pt),at[lt+(te=ce&Kt)].g=Wt+pt,at[lt+te].value=Jt-lt-te}yt.g=Ft-pt,yt.value=It[Mt++],gt(at,Jt+(ce>>pt),Ot,le,yt),ce=Q(ce,Ft)}}return oe!=2*Dt[15]-1?0:Gt}(x,T,D,I,tt,nt)}function B(){this.value=this.g=0}function it(){this.value=this.g=0}function M(){this.G=S(5,B),this.H=b(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=S(Vi,it)}function mt(x,T,D,I){s(x!=null),s(T!=null),s(2147483648>I),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=T,x.pa=D,x.Jd=T,x.Yc=D+I,x.Zc=4<=I?D+I-4+1:D,J(x)}function st(x,T){for(var D=0;0<T--;)D|=dt(x,128)<<T;return D}function ut(x,T){var D=st(x,T);return ht(x)?-D:D}function vt(x,T,D,I){var tt,nt=0;for(s(x!=null),s(T!=null),s(4294967288>I),x.Sb=I,x.Ra=0,x.u=0,x.h=0,4<I&&(I=4),tt=0;tt<I;++tt)nt+=T[D+tt]<<8*tt;x.Ra=nt,x.bb=I,x.oa=T,x.pa=D}function W(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<vs-8>>>0,++x.bb,x.u-=8;R(x)&&(x.h=1,x.u=0)}function Y(x,T){if(s(0<=T),!x.h&&T<=ms){var D=U(x)&Da[T];return x.u+=T,W(x),D}return x.h=1,x.u=0}function H(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(x){return x.Ra>>>(x.u&vs-1)>>>0}function R(x){return s(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>vs}function P(x,T){x.u=T,x.h=R(x)}function V(x){x.u>=ro&&(s(x.u>=ro),W(x))}function J(x){s(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(s(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ht(x){return st(x,1)}function dt(x,T){var D=x.Ca;0>x.b&&J(x);var I=x.b,tt=D*T>>>8,nt=(x.I>>>I>tt)+0;for(nt?(D-=tt,x.I-=tt+1<<I>>>0):D=tt+1,I=D,tt=0;256<=I;)tt+=8,I>>=8;return I=7^tt+Mn[I],x.b-=I,x.Ca=(D<<I)-1,nt}function At(x,T,D){x[T+0]=D>>24&255,x[T+1]=D>>16&255,x[T+2]=D>>8&255,x[T+3]=D>>0&255}function wt(x,T){return x[T+0]<<0|x[T+1]<<8}function Nt(x,T){return wt(x,T)|x[T+2]<<16}function xt(x,T){return wt(x,T)|wt(x,T+2)<<16}function j(x,T){var D=1<<T;return s(x!=null),s(0<T),x.X=b(D),x.X==null?0:(x.Mb=32-T,x.Xa=T,1)}function rt(x,T){s(x!=null),s(T!=null),s(x.Xa==T.Xa),y(T.X,0,x.X,0,1<<T.Xa)}function X(){this.X=[],this.Xa=this.Mb=0}function $(x,T,D,I){s(D!=null),s(I!=null);var tt=D[0],nt=I[0];return tt==0&&(tt=(x*nt+T/2)/T),nt==0&&(nt=(T*tt+x/2)/x),0>=tt||0>=nt?0:(D[0]=tt,I[0]=nt,1)}function K(x,T){return x+(1<<T)-1>>>T}function ot(x,T){return((4278255360&x)+(4278255360&T)>>>0&4278255360)+((16711935&x)+(16711935&T)>>>0&16711935)>>>0}function _t(x,T){q[T]=function(D,I,tt,nt,at,lt,pt){var yt;for(yt=0;yt<at;++yt){var Ot=q[x](lt[pt+yt-1],tt,nt+yt);lt[pt+yt]=ot(D[I+yt],Ot)}}}function St(){this.ud=this.hd=this.jd=0}function ft(x,T){return((4278124286&(x^T))>>>1)+(x&T)>>>0}function Lt(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Bt(x,T){return Lt(x+(x-T+.5>>1))}function qt(x,T,D){return Math.abs(T-D)-Math.abs(x-D)}function $t(x,T,D,I,tt,nt,at){for(I=nt[at-1],D=0;D<tt;++D)nt[at+D]=I=ot(x[T+D],I)}function re(x,T,D,I,tt){var nt;for(nt=0;nt<D;++nt){var at=x[T+nt],lt=at>>8&255,pt=16711935&(pt=(pt=16711935&at)+((lt<<16)+lt));I[tt+nt]=(4278255360&at)+pt>>>0}}function se(x,T){T.jd=x>>0&255,T.hd=x>>8&255,T.ud=x>>16&255}function ie(x,T,D,I,tt,nt){var at;for(at=0;at<I;++at){var lt=T[D+at],pt=lt>>>8,yt=lt,Ot=255&(Ot=(Ot=lt>>>16)+((x.jd<<24>>24)*(pt<<24>>24)>>>5));yt=255&(yt=(yt=yt+((x.hd<<24>>24)*(pt<<24>>24)>>>5))+((x.ud<<24>>24)*(Ot<<24>>24)>>>5)),tt[nt+at]=(4278255360&lt)+(Ot<<16)+yt}}function ge(x,T,D,I,tt){q[T]=function(nt,at,lt,pt,yt,Ot,It,Ft,Mt){for(pt=It;pt<Ft;++pt)for(It=0;It<Mt;++It)yt[Ot++]=tt(lt[I(nt[at++])])},q[x]=function(nt,at,lt,pt,yt,Ot,It){var Ft=8>>nt.b,Mt=nt.Ea,Jt=nt.K[0],Gt=nt.w;if(8>Ft)for(nt=(1<<nt.b)-1,Gt=(1<<Ft)-1;at<lt;++at){var Et,Dt=0;for(Et=0;Et<Mt;++Et)Et&nt||(Dt=I(pt[yt++])),Ot[It++]=tt(Jt[Dt&Gt]),Dt>>=Ft}else q["VP8LMapColor"+D](pt,yt,Jt,Gt,Ot,It,at,lt,Mt)}}function ae(x,T,D,I,tt){for(D=T+D;T<D;){var nt=x[T++];I[tt++]=nt>>16&255,I[tt++]=nt>>8&255,I[tt++]=nt>>0&255}}function ti(x,T,D,I,tt){for(D=T+D;T<D;){var nt=x[T++];I[tt++]=nt>>16&255,I[tt++]=nt>>8&255,I[tt++]=nt>>0&255,I[tt++]=nt>>24&255}}function fe(x,T,D,I,tt){for(D=T+D;T<D;){var nt=(at=x[T++])>>16&240|at>>12&15,at=at>>0&240|at>>28&15;I[tt++]=nt,I[tt++]=at}}function ei(x,T,D,I,tt){for(D=T+D;T<D;){var nt=(at=x[T++])>>16&248|at>>13&7,at=at>>5&224|at>>3&31;I[tt++]=nt,I[tt++]=at}}function De(x,T,D,I,tt){for(D=T+D;T<D;){var nt=x[T++];I[tt++]=nt>>0&255,I[tt++]=nt>>8&255,I[tt++]=nt>>16&255}}function Me(x,T,D,I,tt,nt){if(nt==0)for(D=T+D;T<D;)At(I,((nt=x[T++])[0]>>24|nt[1]>>8&65280|nt[2]<<8&16711680|nt[3]<<24)>>>0),tt+=32;else y(I,tt,x,T,D)}function un(x,T){q[T][0]=q[x+"0"],q[T][1]=q[x+"1"],q[T][2]=q[x+"2"],q[T][3]=q[x+"3"],q[T][4]=q[x+"4"],q[T][5]=q[x+"5"],q[T][6]=q[x+"6"],q[T][7]=q[x+"7"],q[T][8]=q[x+"8"],q[T][9]=q[x+"9"],q[T][10]=q[x+"10"],q[T][11]=q[x+"11"],q[T][12]=q[x+"12"],q[T][13]=q[x+"13"],q[T][14]=q[x+"0"],q[T][15]=q[x+"0"]}function Ye(x){return x==rl||x==qa||x==ra||x==lo}function Or(){this.eb=[],this.size=this.A=this.fb=0}function pi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Or,this.f.kb=new pi,this.sd=null}function Yi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ni(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Oe(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function We(x,T){var D=x.T,I=T.ba.f.RGBA,tt=I.eb,nt=I.fb+x.ka*I.A,at=on[T.ba.S],lt=x.y,pt=x.O,yt=x.f,Ot=x.N,It=x.ea,Ft=x.W,Mt=T.cc,Jt=T.dc,Gt=T.Mc,Et=T.Nc,Dt=x.ka,Wt=x.ka+x.T,te=x.U,Kt=te+1>>1;for(Dt==0?at(lt,pt,null,null,yt,Ot,It,Ft,yt,Ot,It,Ft,tt,nt,null,null,te):(at(T.ec,T.fc,lt,pt,Mt,Jt,Gt,Et,yt,Ot,It,Ft,tt,nt-I.A,tt,nt,te),++D);Dt+2<Wt;Dt+=2)Mt=yt,Jt=Ot,Gt=It,Et=Ft,Ot+=x.Rc,Ft+=x.Rc,nt+=2*I.A,at(lt,(pt+=2*x.fa)-x.fa,lt,pt,Mt,Jt,Gt,Et,yt,Ot,It,Ft,tt,nt-I.A,tt,nt,te);return pt+=x.fa,x.j+Wt<x.o?(y(T.ec,T.fc,lt,pt,te),y(T.cc,T.dc,yt,Ot,Kt),y(T.Mc,T.Nc,It,Ft,Kt),D--):1&Wt||at(lt,pt,null,null,yt,Ot,It,Ft,yt,Ot,It,Ft,tt,nt+I.A,null,null,te),D}function Yr(x,T,D){var I=x.F,tt=[x.J];if(I!=null){var nt=x.U,at=T.ba.S,lt=at==xs||at==ra;T=T.ba.f.RGBA;var pt=[0],yt=x.ka;pt[0]=x.T,x.Kb&&(yt==0?--pt[0]:(--yt,tt[0]-=x.width),x.j+x.ka+x.T==x.o&&(pt[0]=x.o-x.j-yt));var Ot=T.eb;yt=T.fb+yt*T.A,x=Fe(I,tt[0],x.width,nt,pt,Ot,yt+(lt?0:3),T.A),s(D==pt),x&&Ye(at)&&Kn(Ot,yt,lt,nt,pt,T.A)}return 0}function Xi(x){var T=x.ma,D=T.ba.S,I=11>D,tt=D==oo||D==nl||D==xs||D==na||D==12||Ye(D);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Na(T.Oa,x,tt?11:12))return 0;if(tt&&Ye(D)&&ne(),x.da)alert("todo:use_scaling");else{if(I){if(T.Ib=Oe,x.Kb){if(D=x.U+1>>1,T.memory=b(x.U+2*D),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+x.U,T.Mc=T.cc,T.Nc=T.dc+D,T.Ib=We,ne()}}else alert("todo:EmitYUV");tt&&(T.Jb=Yr,I&&Pt())}if(I&&!Dc){for(x=0;256>x;++x)Zf[x]=89858*(x-128)+Zi>>zr,ol[x]=-22014*(x-128)+Zi,Mu[x]=-45773*(x-128),Ki[x]=113618*(x-128)+Zi>>zr;for(x=Xa;x<Xl;++x)T=76283*(x-16)+Zi>>zr,ll[x-Xa]=Zn(T,255),ju[x-Xa]=Zn(T+8>>4,15);Dc=1}return 1}function cr(x){var T=x.ma,D=x.U,I=x.T;return s(!(1&x.ka)),0>=D||0>=I?0:(D=T.Ib(x,T),T.Jb!=null&&T.Jb(x,T,D),T.Dc+=D,1)}function Lr(x){x.ma.memory=null}function me(x,T,D,I){return Y(x,8)!=47?0:(T[0]=Y(x,14)+1,D[0]=Y(x,14)+1,I[0]=Y(x,1),Y(x,3)!=0?0:!x.h)}function ci(x,T){if(4>x)return x+1;var D=x-2>>1;return(2+(1&x)<<D)+Y(T,D)+1}function wi(x,T){return 120<T?T-120:1<=(D=((D=sa[T-1])>>4)*x+(8-(15&D)))?D:1;var D}function Gi(x,T,D){var I=U(D),tt=x[T+=255&I].g-8;return 0<tt&&(P(D,D.u+8),I=U(D),T+=x[T].value,T+=I&(1<<tt)-1),P(D,D.u+x[T].g),x[T].value}function ki(x,T,D){return D.g+=x.g,D.value+=x.value<<T>>>0,s(8>=D.g),x.g}function Fi(x,T,D){var I=x.xc;return s((T=I==0?0:x.vc[x.md*(D>>I)+(T>>I)])<x.Wb),x.Ya[T]}function Yn(x,T,D,I){var tt=x.ab,nt=x.c*T,at=x.C;T=at+T;var lt=D,pt=I;for(I=x.Ta,D=x.Ua;0<tt--;){var yt=x.gc[tt],Ot=at,It=T,Ft=lt,Mt=pt,Jt=(pt=I,lt=D,yt.Ea);switch(s(Ot<It),s(It<=yt.nc),yt.hc){case 2:Fl(Ft,Mt,(It-Ot)*Jt,pt,lt);break;case 0:var Gt=Ot,Et=It,Dt=pt,Wt=lt,te=(le=yt).Ea;Gt==0&&(Nu(Ft,Mt,null,null,1,Dt,Wt),$t(Ft,Mt+1,0,0,te-1,Dt,Wt+1),Mt+=te,Wt+=te,++Gt);for(var Kt=1<<le.b,ce=Kt-1,oe=K(te,le.b),ve=le.K,le=le.w+(Gt>>le.b)*oe;Gt<Et;){var Xe=ve,Ke=le,Pe=1;for(el(Ft,Mt,Dt,Wt-te,1,Dt,Wt);Pe<te;){var je=(Pe&~ce)+Kt;je>te&&(je=te),(0,ta[Xe[Ke++]>>8&15])(Ft,Mt+ +Pe,Dt,Wt+Pe-te,je-Pe,Dt,Wt+Pe),Pe=je}Mt+=te,Wt+=te,++Gt&ce||(le+=oe)}It!=yt.nc&&y(pt,lt-Jt,pt,lt+(It-Ot-1)*Jt,Jt);break;case 1:for(Jt=Ft,Et=Mt,te=(Ft=yt.Ea)-(Wt=Ft&~(Dt=(Mt=1<<yt.b)-1)),Gt=K(Ft,yt.b),Kt=yt.K,yt=yt.w+(Ot>>yt.b)*Gt;Ot<It;){for(ce=Kt,oe=yt,ve=new St,le=Et+Wt,Xe=Et+Ft;Et<le;)se(ce[oe++],ve),ja(ve,Jt,Et,Mt,pt,lt),Et+=Mt,lt+=Mt;Et<Xe&&(se(ce[oe++],ve),ja(ve,Jt,Et,te,pt,lt),Et+=te,lt+=te),++Ot&Dt||(yt+=Gt)}break;case 3:if(Ft==pt&&Mt==lt&&0<yt.b){for(Et=pt,Ft=Jt=lt+(It-Ot)*Jt-(Wt=(It-Ot)*K(yt.Ea,yt.b)),Mt=pt,Dt=lt,Gt=[],Wt=(te=Wt)-1;0<=Wt;--Wt)Gt[Wt]=Mt[Dt+Wt];for(Wt=te-1;0<=Wt;--Wt)Et[Ft+Wt]=Gt[Wt];ir(yt,Ot,It,pt,Jt,pt,lt)}else ir(yt,Ot,It,Ft,Mt,pt,lt)}lt=I,pt=D}pt!=D&&y(I,D,lt,pt,nt)}function os(x,T){var D=x.V,I=x.Ba+x.c*x.C,tt=T-x.C;if(s(T<=x.l.o),s(16>=tt),0<tt){var nt=x.l,at=x.Ta,lt=x.Ua,pt=nt.width;if(Yn(x,tt,D,I),tt=lt=[lt],s((D=x.C)<(I=T)),s(nt.v<nt.va),I>nt.o&&(I=nt.o),D<nt.j){var yt=nt.j-D;D=nt.j,tt[0]+=yt*pt}if(D>=I?D=0:(tt[0]+=4*nt.v,nt.ka=D-nt.j,nt.U=nt.va-nt.v,nt.T=I-D,D=1),D){if(lt=lt[0],11>(D=x.ca).S){var Ot=D.f.RGBA,It=(I=D.S,tt=nt.U,nt=nt.T,yt=Ot.eb,Ot.A),Ft=nt;for(Ot=Ot.fb+x.Ma*Ot.A;0<Ft--;){var Mt=at,Jt=lt,Gt=tt,Et=yt,Dt=Ot;switch(I){case vn:Sn(Mt,Jt,Gt,Et,Dt);break;case oo:fn(Mt,Jt,Gt,Et,Dt);break;case rl:fn(Mt,Jt,Gt,Et,Dt),Kn(Et,Dt,0,Gt,1,0);break;case Rr:mr(Mt,Jt,Gt,Et,Dt);break;case nl:Me(Mt,Jt,Gt,Et,Dt,1);break;case qa:Me(Mt,Jt,Gt,Et,Dt,1),Kn(Et,Dt,0,Gt,1,0);break;case xs:Me(Mt,Jt,Gt,Et,Dt,0);break;case ra:Me(Mt,Jt,Gt,Et,Dt,0),Kn(Et,Dt,1,Gt,1,0);break;case na:Ra(Mt,Jt,Gt,Et,Dt);break;case lo:Ra(Mt,Jt,Gt,Et,Dt),Be(Et,Dt,Gt,1,0);break;case Il:jn(Mt,Jt,Gt,Et,Dt);break;default:s(0)}lt+=pt,Ot+=It}x.Ma+=nt}else alert("todo:EmitRescaledRowsYUVA");s(x.Ma<=D.height)}}x.C=T,s(x.C<=x.i)}function Xn(x){var T;if(0<x.ua)return 0;for(T=0;T<x.Wb;++T){var D=x.Ya[T].G,I=x.Ya[T].H;if(0<D[1][I[1]+0].g||0<D[2][I[2]+0].g||0<D[3][I[3]+0].g)return 0}return 1}function Gn(x,T,D,I,tt,nt){if(x.Z!=0){var at=x.qd,lt=x.rd;for(s(Br[x.Z]!=null);T<D;++T)Br[x.Z](at,lt,I,tt,I,tt,nt),at=I,lt=tt,tt+=nt;x.qd=at,x.rd=lt}}function pn(x,T){var D=x.l.ma,I=D.Z==0||D.Z==1?x.l.j:x.C;if(I=x.C<I?I:x.C,s(T<=x.l.o),T>I){var tt=x.l.width,nt=D.ca,at=D.tb+tt*I,lt=x.V,pt=x.Ba+x.c*I,yt=x.gc;s(x.ab==1),s(yt[0].hc==3),Ma(yt[0],I,T,lt,pt,nt,at),Gn(D,I,T,nt,at,tt)}x.C=x.Ma=T}function gn(x,T,D,I,tt,nt,at){var lt=x.$/I,pt=x.$%I,yt=x.m,Ot=x.s,It=D+x.$,Ft=It;tt=D+I*tt;var Mt=D+I*nt,Jt=280+Ot.ua,Gt=x.Pb?lt:16777216,Et=0<Ot.ua?Ot.Wa:null,Dt=Ot.wc,Wt=It<Mt?Fi(Ot,pt,lt):null;s(x.C<nt),s(Mt<=tt);var te=!1;t:for(;;){for(;te||It<Mt;){var Kt=0;if(lt>=Gt){var ce=It-D;s((Gt=x).Pb),Gt.wd=Gt.m,Gt.xd=ce,0<Gt.s.ua&&rt(Gt.s.Wa,Gt.s.vb),Gt=lt+Ec}if(pt&Dt||(Wt=Fi(Ot,pt,lt)),s(Wt!=null),Wt.Qb&&(T[It]=Wt.qb,te=!0),!te)if(V(yt),Wt.jc){Kt=yt,ce=T;var oe=It,ve=Wt.pd[U(Kt)&Vi-1];s(Wt.jc),256>ve.g?(P(Kt,Kt.u+ve.g),ce[oe]=ve.value,Kt=0):(P(Kt,Kt.u+ve.g-256),s(256<=ve.value),Kt=ve.value),Kt==0&&(te=!0)}else Kt=Gi(Wt.G[0],Wt.H[0],yt);if(yt.h)break;if(te||256>Kt){if(!te)if(Wt.nd)T[It]=(Wt.qb|Kt<<8)>>>0;else{if(V(yt),te=Gi(Wt.G[1],Wt.H[1],yt),V(yt),ce=Gi(Wt.G[2],Wt.H[2],yt),oe=Gi(Wt.G[3],Wt.H[3],yt),yt.h)break;T[It]=(oe<<24|te<<16|Kt<<8|ce)>>>0}if(te=!1,++It,++pt>=I&&(pt=0,++lt,at!=null&&lt<=nt&&!(lt%16)&&at(x,lt),Et!=null))for(;Ft<It;)Kt=T[Ft++],Et.X[(506832829*Kt&4294967295)>>>Et.Mb]=Kt}else if(280>Kt){if(Kt=ci(Kt-256,yt),ce=Gi(Wt.G[4],Wt.H[4],yt),V(yt),ce=wi(I,ce=ci(ce,yt)),yt.h)break;if(It-D<ce||tt-It<Kt)break t;for(oe=0;oe<Kt;++oe)T[It+oe]=T[It+oe-ce];for(It+=Kt,pt+=Kt;pt>=I;)pt-=I,++lt,at!=null&&lt<=nt&&!(lt%16)&&at(x,lt);if(s(It<=tt),pt&Dt&&(Wt=Fi(Ot,pt,lt)),Et!=null)for(;Ft<It;)Kt=T[Ft++],Et.X[(506832829*Kt&4294967295)>>>Et.Mb]=Kt}else{if(!(Kt<Jt))break t;for(te=Kt-280,s(Et!=null);Ft<It;)Kt=T[Ft++],Et.X[(506832829*Kt&4294967295)>>>Et.Mb]=Kt;Kt=It,s(!(te>>>(ce=Et).Xa)),T[Kt]=ce.X[te],te=!0}te||s(yt.h==R(yt))}if(x.Pb&&yt.h&&It<tt)s(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&rt(x.s.vb,x.s.Wa);else{if(yt.h)break t;at!=null&&at(x,lt>nt?nt:lt),x.a=0,x.$=It-D}return 1}return x.a=3,0}function kn(x){s(x!=null),x.vc=null,x.yc=null,x.Ya=null;var T=x.Wa;T!=null&&(T.X=null),x.vb=null,s(x!=null)}function cn(){var x=new ku;return x==null?null:(x.a=0,x.xb=uo,un("Predictor","VP8LPredictors"),un("Predictor","VP8LPredictors_C"),un("PredictorAdd","VP8LPredictorsAdd"),un("PredictorAdd","VP8LPredictorsAdd_C"),Fl=re,ja=ie,Sn=ae,fn=ti,Ra=fe,jn=ei,mr=De,q.VP8LMapColor32b=an,q.VP8LMapColor8b=il,x)}function ri(x,T,D,I,tt){var nt=1,at=[x],lt=[T],pt=I.m,yt=I.s,Ot=null,It=0;t:for(;;){if(D)for(;nt&&Y(pt,1);){var Ft=at,Mt=lt,Jt=I,Gt=1,Et=Jt.m,Dt=Jt.gc[Jt.ab],Wt=Y(Et,2);if(Jt.Oc&1<<Wt)nt=0;else{switch(Jt.Oc|=1<<Wt,Dt.hc=Wt,Dt.Ea=Ft[0],Dt.nc=Mt[0],Dt.K=[null],++Jt.ab,s(4>=Jt.ab),Wt){case 0:case 1:Dt.b=Y(Et,3)+2,Gt=ri(K(Dt.Ea,Dt.b),K(Dt.nc,Dt.b),0,Jt,Dt.K),Dt.K=Dt.K[0];break;case 3:var te,Kt=Y(Et,8)+1,ce=16<Kt?0:4<Kt?1:2<Kt?2:3;if(Ft[0]=K(Dt.Ea,ce),Dt.b=ce,te=Gt=ri(Kt,1,0,Jt,Dt.K)){var oe,ve=Kt,le=Dt,Xe=1<<(8>>le.b),Ke=b(Xe);if(Ke==null)te=0;else{var Pe=le.K[0],je=le.w;for(Ke[0]=le.K[0][0],oe=1;oe<1*ve;++oe)Ke[oe]=ot(Pe[je+oe],Ke[oe-1]);for(;oe<4*Xe;++oe)Ke[oe]=0;le.K[0]=null,le.K[0]=Ke,te=1}}Gt=te;break;case 2:break;default:s(0)}nt=Gt}}if(at=at[0],lt=lt[0],nt&&Y(pt,1)&&!(nt=1<=(It=Y(pt,4))&&11>=It)){I.a=3;break t}var ii;if(ii=nt)e:{var Qe,Ee,ai,be=I,Se=at,He=lt,Ge=It,ln=D,Qi=be.m,ji=be.s,Ri=[null],Ii=1,sr=0,Je=Cs[Ge];i:for(;;){if(ln&&Y(Qi,1)){var Ui=Y(Qi,3)+2,br=K(Se,Ui),Ga=K(He,Ui),Os=br*Ga;if(!ri(br,Ga,0,be,Ri))break i;for(Ri=Ri[0],ji.xc=Ui,Qe=0;Qe<Os;++Qe){var Va=Ri[Qe]>>8&65535;Ri[Qe]=Va,Va>=Ii&&(Ii=Va+1)}}if(Qi.h)break i;for(Ee=0;5>Ee;++Ee){var bi=Qn[Ee];!Ee&&0<Ge&&(bi+=1<<Ge),sr<bi&&(sr=bi)}var ul=S(Ii*Je,B),Gl=Ii,An=S(Gl,M);if(An==null)var Si=null;else s(65536>=Gl),Si=An;var Ls=b(sr);if(Si==null||Ls==null||ul==null){be.a=1;break i}var Wa=ul;for(Qe=ai=0;Qe<Ii;++Qe){var Pn=Si[Qe],Za=Pn.G,Bn=Pn.H,cl=0,fo=1,Vl=0;for(Ee=0;5>Ee;++Ee){bi=Qn[Ee],Za[Ee]=Wa,Bn[Ee]=ai,!Ee&&0<Ge&&(bi+=1<<Ge);r:{var fl,Wl=bi,hl=be,ho=Ls,Rc=Wa,Pc=ai,dl=0,ca=hl.m,Qf=Y(ca,1);if(w(ho,0,0,Wl),Qf){var Bc=Y(ca,1)+1,Fc=Y(ca,1),Ru=Y(ca,Fc==0?1:8);ho[Ru]=1,Bc==2&&(ho[Ru=Y(ca,8)]=1);var po=1}else{var Pu=b(19),Bu=Y(ca,4)+4;if(19<Bu){hl.a=3;var pl=0;break r}for(fl=0;fl<Bu;++fl)Pu[aa[fl]]=Y(ca,3);var Zl=void 0,go=void 0,zc=hl,Ic=Pu,fa=Wl,gl=ho,Kl=0,_r=zc.m,mo=8,Fu=S(128,B);n:for(;G(Fu,0,7,Ic,19);){if(Y(_r,1)){var Uc=2+2*Y(_r,3);if((Zl=2+Y(_r,Uc))>fa)break n}else Zl=fa;for(go=0;go<fa&&Zl--;){V(_r);var zu=Fu[0+(127&U(_r))];P(_r,_r.u+zu.g);var Es=zu.value;if(16>Es)gl[go++]=Es,Es!=0&&(mo=Es);else{var qc=Es==16,Iu=Es-16,Uu=ar[Iu],qu=Y(_r,Ul[Iu])+Uu;if(go+qu>fa)break n;for(var Hc=qc?mo:0;0<qu--;)gl[go++]=Hc}}Kl=1;break n}Kl||(zc.a=3),po=Kl}(po=po&&!ca.h)&&(dl=G(Rc,Pc,8,ho,Wl)),po&&dl!=0?pl=dl:(hl.a=3,pl=0)}if(pl==0)break i;if(fo&&Ss[Ee]==1&&(fo=Wa[ai].g==0),cl+=Wa[ai].g,ai+=pl,3>=Ee){var ks,Ql=Ls[0];for(ks=1;ks<bi;++ks)Ls[ks]>Ql&&(Ql=Ls[ks]);Vl+=Ql}}if(Pn.nd=fo,Pn.Qb=0,fo&&(Pn.qb=(Za[3][Bn[3]+0].value<<24|Za[1][Bn[1]+0].value<<16|Za[2][Bn[2]+0].value)>>>0,cl==0&&256>Za[0][Bn[0]+0].value&&(Pn.Qb=1,Pn.qb+=Za[0][Bn[0]+0].value<<8)),Pn.jc=!Pn.Qb&&6>Vl,Pn.jc){var ml,ha=Pn;for(ml=0;ml<Vi;++ml){var Ir=ml,da=ha.pd[Ir],vl=ha.G[0][ha.H[0]+Ir];256<=vl.value?(da.g=vl.g+256,da.value=vl.value):(da.g=0,da.value=0,Ir>>=ki(vl,8,da),Ir>>=ki(ha.G[1][ha.H[1]+Ir],16,da),Ir>>=ki(ha.G[2][ha.H[2]+Ir],0,da),ki(ha.G[3][ha.H[3]+Ir],24,da))}}}ji.vc=Ri,ji.Wb=Ii,ji.Ya=Si,ji.yc=ul,ii=1;break e}ii=0}if(!(nt=ii)){I.a=3;break t}if(0<It){if(yt.ua=1<<It,!j(yt.Wa,It)){I.a=1,nt=0;break t}}else yt.ua=0;var yl=I,Hu=at,Yc=lt,Yu=yl.s,Xu=Yu.xc;if(yl.c=Hu,yl.i=Yc,Yu.md=K(Hu,Xu),Yu.wc=Xu==0?-1:(1<<Xu)-1,D){I.xb=Nc;break t}if((Ot=b(at*lt))==null){I.a=1,nt=0;break t}nt=(nt=gn(I,Ot,0,at,lt,lt,null))&&!pt.h;break t}return nt?(tt!=null?tt[0]=Ot:(s(Ot==null),s(D)),I.$=0,D||kn(yt)):kn(yt),nt}function wa(x,T){var D=x.c*x.i,I=D+T+16*T;return s(x.c<=T),x.V=b(I),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+D+T,1)}function ls(x,T){var D=x.C,I=T-D,tt=x.V,nt=x.Ba+x.c*D;for(s(T<=x.l.o);0<I;){var at=16<I?16:I,lt=x.l.ma,pt=x.l.width,yt=pt*at,Ot=lt.ca,It=lt.tb+pt*D,Ft=x.Ta,Mt=x.Ua;Yn(x,at,tt,nt),fi(Ft,Mt,Ot,It,yt),Gn(lt,D,D+at,Ot,It,pt),I-=at,tt+=at*x.c,D+=at}s(D==T),x.C=x.Ma=T}function $n(){this.ub=this.yd=this.td=this.Rb=0}function fr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qs(){this.Fb=this.Bb=this.Cb=0,this.Zb=b(4),this.Lb=b(4)}function Io(){this.Yb=function(){var x=[];return function T(D,I,tt){for(var nt=tt[I],at=0;at<nt&&(D.push(tt.length>I+1?[]:0),!(tt.length<I+1));at++)T(D[at],I+1,tt)}(x,0,[3,11]),x}()}function Ol(){this.jb=b(3),this.Wc=u([4,8],Io),this.Xc=u([4,17],Io)}function Au(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new b(4),this.od=new b(4)}function Xr(){this.ld=this.La=this.dd=this.tc=0}function us(){this.Na=this.la=0}function hr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cs(){this.ad=b(384),this.Za=0,this.Ob=b(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ll(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xr),this.Y=0,this.ya=Array(new cs),this.aa=0,this.l=new xa}function Gr(){this.y=b(16),this.f=b(8),this.ea=b(8)}function Uo(){this.cb=this.a=0,this.sc="",this.m=new H,this.Od=new $n,this.Kc=new fr,this.ed=new Au,this.Qa=new qs,this.Ic=this.$c=this.Aa=0,this.D=new Ll,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=S(8,H),this.ia=0,this.pb=S(4,hr),this.Pa=new Ol,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gr),this.Hd=0,this.rb=Array(new us),this.sb=0,this.wa=Array(new Xr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cs),this.L=this.aa=0,this.gd=u([4,2],Xr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Tu(){var x=new Uo;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,Wi||(Wi=El)),x}function Ai(x,T,D){return x.a==0&&(x.a=T,x.sc=D,x.cb=0),0}function xn(x,T,D){return 3<=D&&x[T+0]==157&&x[T+1]==1&&x[T+2]==42}function qo(x,T){if(x==null)return 0;if(x.a=0,x.sc="OK",T==null)return Ai(x,2,"null VP8Io passed to VP8GetHeaders()");var D=T.data,I=T.w,tt=T.ha;if(4>tt)return Ai(x,7,"Truncated header.");var nt=D[I+0]|D[I+1]<<8|D[I+2]<<16,at=x.Od;if(at.Rb=!(1&nt),at.td=nt>>1&7,at.yd=nt>>4&1,at.ub=nt>>5,3<at.td)return Ai(x,3,"Incorrect keyframe parameters.");if(!at.yd)return Ai(x,4,"Frame not displayable.");I+=3,tt-=3;var lt=x.Kc;if(at.Rb){if(7>tt)return Ai(x,7,"cannot parse picture header");if(!xn(D,I,tt))return Ai(x,3,"Bad code word");lt.c=16383&(D[I+4]<<8|D[I+3]),lt.Td=D[I+4]>>6,lt.i=16383&(D[I+6]<<8|D[I+5]),lt.Ud=D[I+6]>>6,I+=7,tt-=7,x.za=lt.c+15>>4,x.Ub=lt.i+15>>4,T.width=lt.c,T.height=lt.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,w((nt=x.Pa).jb,0,255,nt.jb.length),s((nt=x.Qa)!=null),nt.Cb=0,nt.Bb=0,nt.Fb=1,w(nt.Zb,0,0,nt.Zb.length),w(nt.Lb,0,0,nt.Lb)}if(at.ub>tt)return Ai(x,7,"bad partition length");mt(nt=x.m,D,I,at.ub),I+=at.ub,tt-=at.ub,at.Rb&&(lt.Ld=ht(nt),lt.Kd=ht(nt)),lt=x.Qa;var pt,yt=x.Pa;if(s(nt!=null),s(lt!=null),lt.Cb=ht(nt),lt.Cb){if(lt.Bb=ht(nt),ht(nt)){for(lt.Fb=ht(nt),pt=0;4>pt;++pt)lt.Zb[pt]=ht(nt)?ut(nt,7):0;for(pt=0;4>pt;++pt)lt.Lb[pt]=ht(nt)?ut(nt,6):0}if(lt.Bb)for(pt=0;3>pt;++pt)yt.jb[pt]=ht(nt)?st(nt,8):255}else lt.Bb=0;if(nt.Ka)return Ai(x,3,"cannot parse segment header");if((lt=x.ed).zd=ht(nt),lt.Tb=st(nt,6),lt.wb=st(nt,3),lt.Pc=ht(nt),lt.Pc&&ht(nt)){for(yt=0;4>yt;++yt)ht(nt)&&(lt.vd[yt]=ut(nt,6));for(yt=0;4>yt;++yt)ht(nt)&&(lt.od[yt]=ut(nt,6))}if(x.L=lt.Tb==0?0:lt.zd?1:2,nt.Ka)return Ai(x,3,"cannot parse filter header");var Ot=tt;if(tt=pt=I,I=pt+Ot,lt=Ot,x.Xb=(1<<st(x.m,2))-1,Ot<3*(yt=x.Xb))D=7;else{for(pt+=3*yt,lt-=3*yt,Ot=0;Ot<yt;++Ot){var It=D[tt+0]|D[tt+1]<<8|D[tt+2]<<16;It>lt&&(It=lt),mt(x.Jc[+Ot],D,pt,It),pt+=It,lt-=It,tt+=3}mt(x.Jc[+yt],D,pt,lt),D=pt<I?0:5}if(D!=0)return Ai(x,D,"cannot parse partitions");for(D=st(pt=x.m,7),tt=ht(pt)?ut(pt,4):0,I=ht(pt)?ut(pt,4):0,lt=ht(pt)?ut(pt,4):0,yt=ht(pt)?ut(pt,4):0,pt=ht(pt)?ut(pt,4):0,Ot=x.Qa,It=0;4>It;++It){if(Ot.Cb){var Ft=Ot.Zb[It];Ot.Fb||(Ft+=D)}else{if(0<It){x.pb[It]=x.pb[0];continue}Ft=D}var Mt=x.pb[It];Mt.Sc[0]=al[Zn(Ft+tt,127)],Mt.Sc[1]=sl[Zn(Ft+0,127)],Mt.Eb[0]=2*al[Zn(Ft+I,127)],Mt.Eb[1]=101581*sl[Zn(Ft+lt,127)]>>16,8>Mt.Eb[1]&&(Mt.Eb[1]=8),Mt.Qc[0]=al[Zn(Ft+yt,117)],Mt.Qc[1]=sl[Zn(Ft+pt,127)],Mt.lc=Ft+pt}if(!at.Rb)return Ai(x,4,"Not a key frame.");for(ht(nt),at=x.Pa,D=0;4>D;++D){for(tt=0;8>tt;++tt)for(I=0;3>I;++I)for(lt=0;11>lt;++lt)yt=dt(nt,As[D][tt][I][lt])?st(nt,8):Pr[D][tt][I][lt],at.Wc[D][tt].Yb[I][lt]=yt;for(tt=0;17>tt;++tt)at.Xc[D][tt]=at.Wc[D][kc[tt]]}return x.kc=ht(nt),x.kc&&(x.Bd=st(nt,8)),x.cb=1}function El(x,T,D,I,tt,nt,at){var lt=T[tt].Yb[D];for(D=0;16>tt;++tt){if(!dt(x,lt[D+0]))return tt;for(;!dt(x,lt[D+1]);)if(lt=T[++tt].Yb[0],D=0,tt==16)return 16;var pt=T[tt+1].Yb;if(dt(x,lt[D+2])){var yt=x,Ot=0;if(dt(yt,(Ft=lt)[(It=D)+3]))if(dt(yt,Ft[It+6])){for(lt=0,It=2*(Ot=dt(yt,Ft[It+8]))+(Ft=dt(yt,Ft[It+9+Ot])),Ot=0,Ft=Li[It];Ft[lt];++lt)Ot+=Ot+dt(yt,Ft[lt]);Ot+=3+(8<<It)}else dt(yt,Ft[It+7])?(Ot=7+2*dt(yt,165),Ot+=dt(yt,145)):Ot=5+dt(yt,159);else Ot=dt(yt,Ft[It+4])?3+dt(yt,Ft[It+5]):2;lt=pt[2]}else Ot=1,lt=pt[1];pt=at+Ze[tt],0>(yt=x).b&&J(yt);var It,Ft=yt.b,Mt=(It=yt.Ca>>1)-(yt.I>>Ft)>>31;--yt.b,yt.Ca+=Mt,yt.Ca|=1,yt.I-=(It+1&Mt)<<Ft,nt[pt]=((Ot^Mt)-Mt)*I[(0<tt)+0]}return 16}function Sa(x){var T=x.rb[x.sb-1];T.la=0,T.Na=0,w(x.zc,0,0,x.zc.length),x.ja=0}function kl(x,T){if(x==null)return 0;if(T==null)return Ai(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!qo(x,T))return 0;if(s(x.cb),T.ac==null||T.ac(T)){T.ob&&(x.L=0);var D=ua[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=T.v-D>>4,x.zb=T.j-D>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=T.o+15+D>>4,x.Hb=T.va+15+D>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var I=x.ed;for(D=0;4>D;++D){var tt;if(x.Qa.Cb){var nt=x.Qa.Lb[D];x.Qa.Fb||(nt+=I.Tb)}else nt=I.Tb;for(tt=0;1>=tt;++tt){var at=x.gd[D][tt],lt=nt;if(I.Pc&&(lt+=I.vd[0],tt&&(lt+=I.od[0])),0<(lt=0>lt?0:63<lt?63:lt)){var pt=lt;0<I.wb&&(pt=4<I.wb?pt>>2:pt>>1)>9-I.wb&&(pt=9-I.wb),1>pt&&(pt=1),at.dd=pt,at.tc=2*lt+pt,at.ld=40<=lt?2:15<=lt?1:0}else at.tc=0;at.La=tt}}}D=0}else Ai(x,6,"Frame setup failed"),D=x.a;if(D=D==0){if(D){x.$c=0,0<x.Aa||(x.Ic=Mc);t:{D=x.Ic,I=4*(pt=x.za);var yt=32*pt,Ot=pt+1,It=0<x.L?pt*(0<x.Aa?2:1):0,Ft=(x.Aa==2?2:1)*pt;if((at=I+832+(tt=3*(16*D+ua[x.L])/2*yt)+(nt=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=at)D=0;else{if(at>x.Vb){if(x.Vb=0,x.Ec=b(at),x.Fc=0,x.Ec==null){D=Ai(x,1,"no memory during frame initialization.");break t}x.Vb=at}at=x.Ec,lt=x.Fc,x.Ac=at,x.Bc=lt,lt+=I,x.Gd=S(yt,Gr),x.Hd=0,x.rb=S(Ot+1,us),x.sb=1,x.wa=It?S(It,Xr):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=pt),s(!0),x.oc=at,x.pc=lt,lt+=832,x.ya=S(Ft,cs),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=pt),x.R=16*pt,x.B=8*pt,pt=(yt=ua[x.L])*x.R,yt=yt/2*x.B,x.sa=at,x.ta=lt+pt,x.qa=x.sa,x.ra=x.ta+16*D*x.R+yt,x.Ha=x.qa,x.Ia=x.ra+8*D*x.B+yt,x.$c=0,lt+=tt,x.mb=nt?at:null,x.nb=nt?lt:null,s(lt+nt<=x.Fc+x.Vb),Sa(x),w(x.Ac,x.Bc,0,I),D=1}}if(D){if(T.ka=0,T.y=x.sa,T.O=x.ta,T.f=x.qa,T.N=x.ra,T.ea=x.Ha,T.Vd=x.Ia,T.fa=x.R,T.Rc=x.B,T.F=null,T.J=0,!ia){for(D=-255;255>=D;++D)Mi[255+D]=0>D?-D:D;for(D=-1020;1020>=D;++D)nr[1020+D]=-128>D?-128:127<D?127:D;for(D=-112;112>=D;++D)Ia[112+D]=-16>D?-16:15<D?15:D;for(D=-255;510>=D;++D)Ua[255+D]=0>D?0:255<D?255:D;ia=1}Mr=Ca,vr=Yo,yr=Vr,zi=Nl,Rn=Xo,Ti=Ho,ys=hs,jr=ds,ao=Eu,Pa=Ko,Ba=Lu,Fa=Ks,bs=Qs,so=Bl,za=La,ea=Wn,_s=Dr,Oi=Ou,Cn[0]=Dn,Cn[1]=Dl,Cn[2]=Wo,Cn[3]=jl,Cn[4]=tr,Cn[5]=Er,Cn[6]=Gs,Cn[7]=er,Cn[8]=Vs,Cn[9]=Zo,oa[0]=Xs,oa[1]=Vo,oa[2]=Wr,oa[3]=Ys,oa[4]=nn,oa[5]=Aa,oa[6]=Kr,Jn[0]=Qr,Jn[1]=Ml,Jn[2]=Rl,Jn[3]=Ta,Jn[4]=Vn,Jn[5]=mn,Jn[6]=Oa,D=1}else D=0}D&&(D=function(Mt,Jt){for(Mt.M=0;Mt.M<Mt.Va;++Mt.M){var Gt,Et=Mt.Jc[Mt.M&Mt.Xb],Dt=Mt.m,Wt=Mt;for(Gt=0;Gt<Wt.za;++Gt){var te=Dt,Kt=Wt,ce=Kt.Ac,oe=Kt.Bc+4*Gt,ve=Kt.zc,le=Kt.ya[Kt.aa+Gt];if(Kt.Qa.Bb?le.$b=dt(te,Kt.Pa.jb[0])?2+dt(te,Kt.Pa.jb[2]):dt(te,Kt.Pa.jb[1]):le.$b=0,Kt.kc&&(le.Ad=dt(te,Kt.Bd)),le.Za=!dt(te,145)+0,le.Za){var Xe=le.Ob,Ke=0;for(Kt=0;4>Kt;++Kt){var Pe,je=ve[0+Kt];for(Pe=0;4>Pe;++Pe){je=Du[ce[oe+Pe]][je];for(var ii=Ha[dt(te,je[0])];0<ii;)ii=Ha[2*ii+dt(te,je[ii])];je=-ii,ce[oe+Pe]=je}y(Xe,Ke,ce,oe,4),Ke+=4,ve[0+Kt]=je}}else je=dt(te,156)?dt(te,128)?1:3:dt(te,163)?2:0,le.Ob[0]=je,w(ce,oe,je,4),w(ve,0,je,4);le.Dd=dt(te,142)?dt(te,114)?dt(te,183)?1:3:2:0}if(Wt.m.Ka)return Ai(Mt,7,"Premature end-of-partition0 encountered.");for(;Mt.ja<Mt.za;++Mt.ja){if(Wt=Et,te=(Dt=Mt).rb[Dt.sb-1],ce=Dt.rb[Dt.sb+Dt.ja],Gt=Dt.ya[Dt.aa+Dt.ja],oe=Dt.kc?Gt.Ad:0)te.la=ce.la=0,Gt.Za||(te.Na=ce.Na=0),Gt.Hc=0,Gt.Gc=0,Gt.ia=0;else{var Qe,Ee;if(te=ce,ce=Wt,oe=Dt.Pa.Xc,ve=Dt.ya[Dt.aa+Dt.ja],le=Dt.pb[ve.$b],Kt=ve.ad,Xe=0,Ke=Dt.rb[Dt.sb-1],je=Pe=0,w(Kt,Xe,0,384),ve.Za)var ai=0,be=oe[3];else{ii=b(16);var Se=te.Na+Ke.Na;if(Se=Wi(ce,oe[1],Se,le.Eb,0,ii,0),te.Na=Ke.Na=(0<Se)+0,1<Se)Mr(ii,0,Kt,Xe);else{var He=ii[0]+3>>3;for(ii=0;256>ii;ii+=16)Kt[Xe+ii]=He}ai=1,be=oe[0]}var Ge=15&te.la,ln=15&Ke.la;for(ii=0;4>ii;++ii){var Qi=1&ln;for(He=Ee=0;4>He;++He)Ge=Ge>>1|(Qi=(Se=Wi(ce,be,Se=Qi+(1&Ge),le.Sc,ai,Kt,Xe))>ai)<<7,Ee=Ee<<2|(3<Se?3:1<Se?2:Kt[Xe+0]!=0),Xe+=16;Ge>>=4,ln=ln>>1|Qi<<7,Pe=(Pe<<8|Ee)>>>0}for(be=Ge,ai=ln>>4,Qe=0;4>Qe;Qe+=2){for(Ee=0,Ge=te.la>>4+Qe,ln=Ke.la>>4+Qe,ii=0;2>ii;++ii){for(Qi=1&ln,He=0;2>He;++He)Se=Qi+(1&Ge),Ge=Ge>>1|(Qi=0<(Se=Wi(ce,oe[2],Se,le.Qc,0,Kt,Xe)))<<3,Ee=Ee<<2|(3<Se?3:1<Se?2:Kt[Xe+0]!=0),Xe+=16;Ge>>=2,ln=ln>>1|Qi<<5}je|=Ee<<4*Qe,be|=Ge<<4<<Qe,ai|=(240&ln)<<Qe}te.la=be,Ke.la=ai,ve.Hc=Pe,ve.Gc=je,ve.ia=43690&je?0:le.ia,oe=!(Pe|je)}if(0<Dt.L&&(Dt.wa[Dt.Y+Dt.ja]=Dt.gd[Gt.$b][Gt.Za],Dt.wa[Dt.Y+Dt.ja].La|=!oe),Wt.Ka)return Ai(Mt,7,"Premature end-of-file encountered.")}if(Sa(Mt),Dt=Jt,Wt=1,Gt=(Et=Mt).D,te=0<Et.L&&Et.M>=Et.zb&&Et.M<=Et.Va,Et.Aa==0)t:{if(Gt.M=Et.M,Gt.uc=te,$r(Et,Gt),Wt=1,Gt=(Ee=Et.D).Nb,te=(je=ua[Et.L])*Et.R,ce=je/2*Et.B,ii=16*Gt*Et.R,He=8*Gt*Et.B,oe=Et.sa,ve=Et.ta-te+ii,le=Et.qa,Kt=Et.ra-ce+He,Xe=Et.Ha,Ke=Et.Ia-ce+He,ln=(Ge=Ee.M)==0,Pe=Ge>=Et.Va-1,Et.Aa==2&&$r(Et,Ee),Ee.uc)for(Qi=(Se=Et).D.M,s(Se.D.uc),Ee=Se.yb;Ee<Se.Hb;++Ee){ai=Ee,be=Qi;var ji=(Ri=(bi=Se).D).Nb;Qe=bi.R;var Ri=Ri.wa[Ri.Y+ai],Ii=bi.sa,sr=bi.ta+16*ji*Qe+16*ai,Je=Ri.dd,Ui=Ri.tc;if(Ui!=0)if(s(3<=Ui),bi.L==1)0<ai&&ea(Ii,sr,Qe,Ui+4),Ri.La&&Oi(Ii,sr,Qe,Ui),0<be&&za(Ii,sr,Qe,Ui+4),Ri.La&&_s(Ii,sr,Qe,Ui);else{var br=bi.B,Ga=bi.qa,Os=bi.ra+8*ji*br+8*ai,Va=bi.Ha,bi=bi.Ia+8*ji*br+8*ai;ji=Ri.ld,0<ai&&(jr(Ii,sr,Qe,Ui+4,Je,ji),Pa(Ga,Os,Va,bi,br,Ui+4,Je,ji)),Ri.La&&(Fa(Ii,sr,Qe,Ui,Je,ji),so(Ga,Os,Va,bi,br,Ui,Je,ji)),0<be&&(ys(Ii,sr,Qe,Ui+4,Je,ji),ao(Ga,Os,Va,bi,br,Ui+4,Je,ji)),Ri.La&&(Ba(Ii,sr,Qe,Ui,Je,ji),bs(Ga,Os,Va,bi,br,Ui,Je,ji))}}if(Et.ia&&alert("todo:DitherRow"),Dt.put!=null){if(Ee=16*Ge,Ge=16*(Ge+1),ln?(Dt.y=Et.sa,Dt.O=Et.ta+ii,Dt.f=Et.qa,Dt.N=Et.ra+He,Dt.ea=Et.Ha,Dt.W=Et.Ia+He):(Ee-=je,Dt.y=oe,Dt.O=ve,Dt.f=le,Dt.N=Kt,Dt.ea=Xe,Dt.W=Ke),Pe||(Ge-=je),Ge>Dt.o&&(Ge=Dt.o),Dt.F=null,Dt.J=null,Et.Fa!=null&&0<Et.Fa.length&&Ee<Ge&&(Dt.J=$o(Et,Dt,Ee,Ge-Ee),Dt.F=Et.mb,Dt.F==null&&Dt.F.length==0)){Wt=Ai(Et,3,"Could not decode alpha data.");break t}Ee<Dt.j&&(je=Dt.j-Ee,Ee=Dt.j,s(!(1&je)),Dt.O+=Et.R*je,Dt.N+=Et.B*(je>>1),Dt.W+=Et.B*(je>>1),Dt.F!=null&&(Dt.J+=Dt.width*je)),Ee<Ge&&(Dt.O+=Dt.v,Dt.N+=Dt.v>>1,Dt.W+=Dt.v>>1,Dt.F!=null&&(Dt.J+=Dt.v),Dt.ka=Ee-Dt.j,Dt.U=Dt.va-Dt.v,Dt.T=Ge-Ee,Wt=Dt.put(Dt))}Gt+1!=Et.Ic||Pe||(y(Et.sa,Et.ta-te,oe,ve+16*Et.R,te),y(Et.qa,Et.ra-ce,le,Kt+8*Et.B,ce),y(Et.Ha,Et.Ia-ce,Xe,Ke+8*Et.B,ce))}if(!Wt)return Ai(Mt,6,"Output aborted.")}return 1}(x,T)),T.bc!=null&&T.bc(T),D&=1}return D?(x.cb=0,D):0}function Nn(x,T,D,I,tt){tt=x[T+D+32*I]+(tt>>3),x[T+D+32*I]=-256&tt?0>tt?0:255:tt}function Hs(x,T,D,I,tt,nt){Nn(x,T,0,D,I+tt),Nn(x,T,1,D,I+nt),Nn(x,T,2,D,I-nt),Nn(x,T,3,D,I-tt)}function gi(x){return(20091*x>>16)+x}function fs(x,T,D,I){var tt,nt=0,at=b(16);for(tt=0;4>tt;++tt){var lt=x[T+0]+x[T+8],pt=x[T+0]-x[T+8],yt=(35468*x[T+4]>>16)-gi(x[T+12]),Ot=gi(x[T+4])+(35468*x[T+12]>>16);at[nt+0]=lt+Ot,at[nt+1]=pt+yt,at[nt+2]=pt-yt,at[nt+3]=lt-Ot,nt+=4,T++}for(tt=nt=0;4>tt;++tt)lt=(x=at[nt+0]+4)+at[nt+8],pt=x-at[nt+8],yt=(35468*at[nt+4]>>16)-gi(at[nt+12]),Nn(D,I,0,0,lt+(Ot=gi(at[nt+4])+(35468*at[nt+12]>>16))),Nn(D,I,1,0,pt+yt),Nn(D,I,2,0,pt-yt),Nn(D,I,3,0,lt-Ot),nt++,I+=32}function Ho(x,T,D,I){var tt=x[T+0]+4,nt=35468*x[T+4]>>16,at=gi(x[T+4]),lt=35468*x[T+1]>>16;Hs(D,I,0,tt+at,x=gi(x[T+1]),lt),Hs(D,I,1,tt+nt,x,lt),Hs(D,I,2,tt-nt,x,lt),Hs(D,I,3,tt-at,x,lt)}function Yo(x,T,D,I,tt){fs(x,T,D,I),tt&&fs(x,T+16,D,I+4)}function Vr(x,T,D,I){vr(x,T+0,D,I,1),vr(x,T+32,D,I+128,1)}function Nl(x,T,D,I){var tt;for(x=x[T+0]+4,tt=0;4>tt;++tt)for(T=0;4>T;++T)Nn(D,I,T,tt,x)}function Xo(x,T,D,I){x[T+0]&&zi(x,T+0,D,I),x[T+16]&&zi(x,T+16,D,I+4),x[T+32]&&zi(x,T+32,D,I+128),x[T+48]&&zi(x,T+48,D,I+128+4)}function Ca(x,T,D,I){var tt,nt=b(16);for(tt=0;4>tt;++tt){var at=x[T+0+tt]+x[T+12+tt],lt=x[T+4+tt]+x[T+8+tt],pt=x[T+4+tt]-x[T+8+tt],yt=x[T+0+tt]-x[T+12+tt];nt[0+tt]=at+lt,nt[8+tt]=at-lt,nt[4+tt]=yt+pt,nt[12+tt]=yt-pt}for(tt=0;4>tt;++tt)at=(x=nt[0+4*tt]+3)+nt[3+4*tt],lt=nt[1+4*tt]+nt[2+4*tt],pt=nt[1+4*tt]-nt[2+4*tt],yt=x-nt[3+4*tt],D[I+0]=at+lt>>3,D[I+16]=yt+pt>>3,D[I+32]=at-lt>>3,D[I+48]=yt-pt>>3,I+=64}function Go(x,T,D){var I,tt=T-32,nt=sn,at=255-x[tt-1];for(I=0;I<D;++I){var lt,pt=nt,yt=at+x[T-1];for(lt=0;lt<D;++lt)x[T+lt]=pt[yt+x[tt+lt]];T+=32}}function Dl(x,T){Go(x,T,4)}function Ml(x,T){Go(x,T,8)}function Vo(x,T){Go(x,T,16)}function Wr(x,T){var D;for(D=0;16>D;++D)y(x,T+32*D,x,T-32,16)}function Ys(x,T){var D;for(D=16;0<D;--D)w(x,T,x[T-1],16),T+=32}function Zr(x,T,D){var I;for(I=0;16>I;++I)w(T,D+32*I,x,16)}function Xs(x,T){var D,I=16;for(D=0;16>D;++D)I+=x[T-1+32*D]+x[T+D-32];Zr(I>>5,x,T)}function nn(x,T){var D,I=8;for(D=0;16>D;++D)I+=x[T-1+32*D];Zr(I>>4,x,T)}function Aa(x,T){var D,I=8;for(D=0;16>D;++D)I+=x[T+D-32];Zr(I>>4,x,T)}function Kr(x,T){Zr(128,x,T)}function Ae(x,T,D){return x+2*T+D+2>>2}function Wo(x,T){var D,I=T-32;for(I=new Uint8Array([Ae(x[I-1],x[I+0],x[I+1]),Ae(x[I+0],x[I+1],x[I+2]),Ae(x[I+1],x[I+2],x[I+3]),Ae(x[I+2],x[I+3],x[I+4])]),D=0;4>D;++D)y(x,T+32*D,I,0,I.length)}function jl(x,T){var D=x[T-1],I=x[T-1+32],tt=x[T-1+64],nt=x[T-1+96];At(x,T+0,16843009*Ae(x[T-1-32],D,I)),At(x,T+32,16843009*Ae(D,I,tt)),At(x,T+64,16843009*Ae(I,tt,nt)),At(x,T+96,16843009*Ae(tt,nt,nt))}function Dn(x,T){var D,I=4;for(D=0;4>D;++D)I+=x[T+D-32]+x[T-1+32*D];for(I>>=3,D=0;4>D;++D)w(x,T+32*D,I,4)}function tr(x,T){var D=x[T-1+0],I=x[T-1+32],tt=x[T-1+64],nt=x[T-1-32],at=x[T+0-32],lt=x[T+1-32],pt=x[T+2-32],yt=x[T+3-32];x[T+0+96]=Ae(I,tt,x[T-1+96]),x[T+1+96]=x[T+0+64]=Ae(D,I,tt),x[T+2+96]=x[T+1+64]=x[T+0+32]=Ae(nt,D,I),x[T+3+96]=x[T+2+64]=x[T+1+32]=x[T+0+0]=Ae(at,nt,D),x[T+3+64]=x[T+2+32]=x[T+1+0]=Ae(lt,at,nt),x[T+3+32]=x[T+2+0]=Ae(pt,lt,at),x[T+3+0]=Ae(yt,pt,lt)}function Gs(x,T){var D=x[T+1-32],I=x[T+2-32],tt=x[T+3-32],nt=x[T+4-32],at=x[T+5-32],lt=x[T+6-32],pt=x[T+7-32];x[T+0+0]=Ae(x[T+0-32],D,I),x[T+1+0]=x[T+0+32]=Ae(D,I,tt),x[T+2+0]=x[T+1+32]=x[T+0+64]=Ae(I,tt,nt),x[T+3+0]=x[T+2+32]=x[T+1+64]=x[T+0+96]=Ae(tt,nt,at),x[T+3+32]=x[T+2+64]=x[T+1+96]=Ae(nt,at,lt),x[T+3+64]=x[T+2+96]=Ae(at,lt,pt),x[T+3+96]=Ae(lt,pt,pt)}function Er(x,T){var D=x[T-1+0],I=x[T-1+32],tt=x[T-1+64],nt=x[T-1-32],at=x[T+0-32],lt=x[T+1-32],pt=x[T+2-32],yt=x[T+3-32];x[T+0+0]=x[T+1+64]=nt+at+1>>1,x[T+1+0]=x[T+2+64]=at+lt+1>>1,x[T+2+0]=x[T+3+64]=lt+pt+1>>1,x[T+3+0]=pt+yt+1>>1,x[T+0+96]=Ae(tt,I,D),x[T+0+64]=Ae(I,D,nt),x[T+0+32]=x[T+1+96]=Ae(D,nt,at),x[T+1+32]=x[T+2+96]=Ae(nt,at,lt),x[T+2+32]=x[T+3+96]=Ae(at,lt,pt),x[T+3+32]=Ae(lt,pt,yt)}function er(x,T){var D=x[T+0-32],I=x[T+1-32],tt=x[T+2-32],nt=x[T+3-32],at=x[T+4-32],lt=x[T+5-32],pt=x[T+6-32],yt=x[T+7-32];x[T+0+0]=D+I+1>>1,x[T+1+0]=x[T+0+64]=I+tt+1>>1,x[T+2+0]=x[T+1+64]=tt+nt+1>>1,x[T+3+0]=x[T+2+64]=nt+at+1>>1,x[T+0+32]=Ae(D,I,tt),x[T+1+32]=x[T+0+96]=Ae(I,tt,nt),x[T+2+32]=x[T+1+96]=Ae(tt,nt,at),x[T+3+32]=x[T+2+96]=Ae(nt,at,lt),x[T+3+64]=Ae(at,lt,pt),x[T+3+96]=Ae(lt,pt,yt)}function Zo(x,T){var D=x[T-1+0],I=x[T-1+32],tt=x[T-1+64],nt=x[T-1+96];x[T+0+0]=D+I+1>>1,x[T+2+0]=x[T+0+32]=I+tt+1>>1,x[T+2+32]=x[T+0+64]=tt+nt+1>>1,x[T+1+0]=Ae(D,I,tt),x[T+3+0]=x[T+1+32]=Ae(I,tt,nt),x[T+3+32]=x[T+1+64]=Ae(tt,nt,nt),x[T+3+64]=x[T+2+64]=x[T+0+96]=x[T+1+96]=x[T+2+96]=x[T+3+96]=nt}function Vs(x,T){var D=x[T-1+0],I=x[T-1+32],tt=x[T-1+64],nt=x[T-1+96],at=x[T-1-32],lt=x[T+0-32],pt=x[T+1-32],yt=x[T+2-32];x[T+0+0]=x[T+2+32]=D+at+1>>1,x[T+0+32]=x[T+2+64]=I+D+1>>1,x[T+0+64]=x[T+2+96]=tt+I+1>>1,x[T+0+96]=nt+tt+1>>1,x[T+3+0]=Ae(lt,pt,yt),x[T+2+0]=Ae(at,lt,pt),x[T+1+0]=x[T+3+32]=Ae(D,at,lt),x[T+1+32]=x[T+3+64]=Ae(I,D,at),x[T+1+64]=x[T+3+96]=Ae(tt,I,D),x[T+1+96]=Ae(nt,tt,I)}function Rl(x,T){var D;for(D=0;8>D;++D)y(x,T+32*D,x,T-32,8)}function Ta(x,T){var D;for(D=0;8>D;++D)w(x,T,x[T-1],8),T+=32}function kr(x,T,D){var I;for(I=0;8>I;++I)w(T,D+32*I,x,8)}function Qr(x,T){var D,I=8;for(D=0;8>D;++D)I+=x[T+D-32]+x[T-1+32*D];kr(I>>4,x,T)}function mn(x,T){var D,I=4;for(D=0;8>D;++D)I+=x[T+D-32];kr(I>>3,x,T)}function Vn(x,T){var D,I=4;for(D=0;8>D;++D)I+=x[T-1+32*D];kr(I>>3,x,T)}function Oa(x,T){kr(128,x,T)}function Nr(x,T,D){var I=x[T-D],tt=x[T+0],nt=3*(tt-I)+zl[1020+x[T-2*D]-x[T+D]],at=ws[112+(nt+4>>3)];x[T-D]=sn[255+I+ws[112+(nt+3>>3)]],x[T+0]=sn[255+tt-at]}function Pl(x,T,D,I){var tt=x[T+0],nt=x[T+D];return rr[255+x[T-2*D]-x[T-D]]>I||rr[255+nt-tt]>I}function Ws(x,T,D,I){return 4*rr[255+x[T-D]-x[T+0]]+rr[255+x[T-2*D]-x[T+D]]<=I}function Zs(x,T,D,I,tt){var nt=x[T-3*D],at=x[T-2*D],lt=x[T-D],pt=x[T+0],yt=x[T+D],Ot=x[T+2*D],It=x[T+3*D];return 4*rr[255+lt-pt]+rr[255+at-yt]>I?0:rr[255+x[T-4*D]-nt]<=tt&&rr[255+nt-at]<=tt&&rr[255+at-lt]<=tt&&rr[255+It-Ot]<=tt&&rr[255+Ot-yt]<=tt&&rr[255+yt-pt]<=tt}function La(x,T,D,I){var tt=2*I+1;for(I=0;16>I;++I)Ws(x,T+I,D,tt)&&Nr(x,T+I,D)}function Wn(x,T,D,I){var tt=2*I+1;for(I=0;16>I;++I)Ws(x,T+I*D,1,tt)&&Nr(x,T+I*D,1)}function Dr(x,T,D,I){var tt;for(tt=3;0<tt;--tt)La(x,T+=4*D,D,I)}function Ou(x,T,D,I){var tt;for(tt=3;0<tt;--tt)Wn(x,T+=4,D,I)}function Ea(x,T,D,I,tt,nt,at,lt){for(nt=2*nt+1;0<tt--;){if(Zs(x,T,D,nt,at))if(Pl(x,T,D,lt))Nr(x,T,D);else{var pt=x,yt=T,Ot=D,It=pt[yt-2*Ot],Ft=pt[yt-Ot],Mt=pt[yt+0],Jt=pt[yt+Ot],Gt=pt[yt+2*Ot],Et=27*(Wt=zl[1020+3*(Mt-Ft)+zl[1020+It-Jt]])+63>>7,Dt=18*Wt+63>>7,Wt=9*Wt+63>>7;pt[yt-3*Ot]=sn[255+pt[yt-3*Ot]+Wt],pt[yt-2*Ot]=sn[255+It+Dt],pt[yt-Ot]=sn[255+Ft+Et],pt[yt+0]=sn[255+Mt-Et],pt[yt+Ot]=sn[255+Jt-Dt],pt[yt+2*Ot]=sn[255+Gt-Wt]}T+=I}}function dr(x,T,D,I,tt,nt,at,lt){for(nt=2*nt+1;0<tt--;){if(Zs(x,T,D,nt,at))if(Pl(x,T,D,lt))Nr(x,T,D);else{var pt=x,yt=T,Ot=D,It=pt[yt-Ot],Ft=pt[yt+0],Mt=pt[yt+Ot],Jt=ws[112+((Gt=3*(Ft-It))+4>>3)],Gt=ws[112+(Gt+3>>3)],Et=Jt+1>>1;pt[yt-2*Ot]=sn[255+pt[yt-2*Ot]+Et],pt[yt-Ot]=sn[255+It+Gt],pt[yt+0]=sn[255+Ft-Jt],pt[yt+Ot]=sn[255+Mt-Et]}T+=I}}function hs(x,T,D,I,tt,nt){Ea(x,T,D,1,16,I,tt,nt)}function ds(x,T,D,I,tt,nt){Ea(x,T,1,D,16,I,tt,nt)}function Lu(x,T,D,I,tt,nt){var at;for(at=3;0<at;--at)dr(x,T+=4*D,D,1,16,I,tt,nt)}function Ks(x,T,D,I,tt,nt){var at;for(at=3;0<at;--at)dr(x,T+=4,1,D,16,I,tt,nt)}function Eu(x,T,D,I,tt,nt,at,lt){Ea(x,T,tt,1,8,nt,at,lt),Ea(D,I,tt,1,8,nt,at,lt)}function Ko(x,T,D,I,tt,nt,at,lt){Ea(x,T,1,tt,8,nt,at,lt),Ea(D,I,1,tt,8,nt,at,lt)}function Qs(x,T,D,I,tt,nt,at,lt){dr(x,T+4*tt,tt,1,8,nt,at,lt),dr(D,I+4*tt,tt,1,8,nt,at,lt)}function Bl(x,T,D,I,tt,nt,at,lt){dr(x,T+4,1,tt,8,nt,at,lt),dr(D,I+4,1,tt,8,nt,at,lt)}function Js(){this.ba=new dn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ni,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Jo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $s(){this.ua=0,this.Wa=new X,this.vb=new X,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new B}function ku(){this.xb=this.a=0,this.l=new xa,this.ca=new dn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $s,this.ab=0,this.gc=S(4,Jo),this.Oc=0}function to(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ps(x,T,D,I,tt,nt,at){for(x=x==null?0:x[T+0],T=0;T<at;++T)tt[nt+T]=x+D[I+T]&255,x=tt[nt+T]}function eo(x,T,D,I,tt,nt,at){var lt;if(x==null)ps(null,null,D,I,tt,nt,at);else for(lt=0;lt<at;++lt)tt[nt+lt]=x[T+lt]+D[I+lt]&255}function ka(x,T,D,I,tt,nt,at){if(x==null)ps(null,null,D,I,tt,nt,at);else{var lt,pt=x[T+0],yt=pt,Ot=pt;for(lt=0;lt<at;++lt)yt=Ot+(pt=x[T+lt])-yt,Ot=D[I+lt]+(-256&yt?0>yt?0:255:yt)&255,yt=pt,tt[nt+lt]=Ot}}function $o(x,T,D,I){var tt=T.width,nt=T.o;if(s(x!=null&&T!=null),0>D||0>=I||D+I>nt)return null;if(!x.Cc){if(x.ga==null){var at;if(x.ga=new to,(at=x.ga==null)||(at=T.width*T.o,s(x.Gb.length==0),x.Gb=b(at),x.Uc=0,x.Gb==null?at=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,at=1),at=!at),!at){at=x.ga;var lt=x.Fa,pt=x.P,yt=x.qc,Ot=x.mb,It=x.nb,Ft=pt+1,Mt=yt-1,Jt=at.l;if(s(lt!=null&&Ot!=null&&T!=null),Br[0]=null,Br[1]=ps,Br[2]=eo,Br[3]=ka,at.ca=Ot,at.tb=It,at.c=T.width,at.i=T.height,s(0<at.c&&0<at.i),1>=yt)T=0;else if(at.$a=lt[pt+0]>>0&3,at.Z=lt[pt+0]>>2&3,at.Lc=lt[pt+0]>>4&3,pt=lt[pt+0]>>6&3,0>at.$a||1<at.$a||4<=at.Z||1<at.Lc||pt)T=0;else if(Jt.put=cr,Jt.ac=Xi,Jt.bc=Lr,Jt.ma=at,Jt.width=T.width,Jt.height=T.height,Jt.Da=T.Da,Jt.v=T.v,Jt.va=T.va,Jt.j=T.j,Jt.o=T.o,at.$a)t:{s(at.$a==1),T=cn();e:for(;;){if(T==null){T=0;break t}if(s(at!=null),at.mc=T,T.c=at.c,T.i=at.i,T.l=at.l,T.l.ma=at,T.l.width=at.c,T.l.height=at.i,T.a=0,vt(T.m,lt,Ft,Mt),!ri(at.c,at.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&Xn(T.s)?(at.ic=1,lt=T.c*T.i,T.Ta=null,T.Ua=0,T.V=b(lt),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(at.ic=0,T=wa(T,at.c)),!T))break e;T=1;break t}at.mc=null,T=0}else T=Mt>=at.c*at.i;at=!T}if(at)return null;x.ga.Lc!=1?x.Ga=0:I=nt-D}s(x.ga!=null),s(D+I<=nt);t:{if(T=(lt=x.ga).c,nt=lt.l.o,lt.$a==0){if(Ft=x.rc,Mt=x.Vc,Jt=x.Fa,pt=x.P+1+D*T,yt=x.mb,Ot=x.nb+D*T,s(pt<=x.P+x.qc),lt.Z!=0)for(s(Br[lt.Z]!=null),at=0;at<I;++at)Br[lt.Z](Ft,Mt,Jt,pt,yt,Ot,T),Ft=yt,Mt=Ot,Ot+=T,pt+=T;else for(at=0;at<I;++at)y(yt,Ot,Jt,pt,T),Ft=yt,Mt=Ot,Ot+=T,pt+=T;x.rc=Ft,x.Vc=Mt}else{if(s(lt.mc!=null),T=D+I,s((at=lt.mc)!=null),s(T<=at.i),at.C>=T)T=1;else if(lt.ic||Pt(),lt.ic){lt=at.V,Ft=at.Ba,Mt=at.c;var Gt=at.i,Et=(Jt=1,pt=at.$/Mt,yt=at.$%Mt,Ot=at.m,It=at.s,at.$),Dt=Mt*Gt,Wt=Mt*T,te=It.wc,Kt=Et<Wt?Fi(It,yt,pt):null;s(Et<=Dt),s(T<=Gt),s(Xn(It));e:for(;;){for(;!Ot.h&&Et<Wt;){if(yt&te||(Kt=Fi(It,yt,pt)),s(Kt!=null),V(Ot),256>(Gt=Gi(Kt.G[0],Kt.H[0],Ot)))lt[Ft+Et]=Gt,++Et,++yt>=Mt&&(yt=0,++pt<=T&&!(pt%16)&&pn(at,pt));else{if(!(280>Gt)){Jt=0;break e}Gt=ci(Gt-256,Ot);var ce,oe=Gi(Kt.G[4],Kt.H[4],Ot);if(V(Ot),!(Et>=(oe=wi(Mt,oe=ci(oe,Ot)))&&Dt-Et>=Gt)){Jt=0;break e}for(ce=0;ce<Gt;++ce)lt[Ft+Et+ce]=lt[Ft+Et+ce-oe];for(Et+=Gt,yt+=Gt;yt>=Mt;)yt-=Mt,++pt<=T&&!(pt%16)&&pn(at,pt);Et<Wt&&yt&te&&(Kt=Fi(It,yt,pt))}s(Ot.h==R(Ot))}pn(at,pt>T?T:pt);break e}!Jt||Ot.h&&Et<Dt?(Jt=0,at.a=Ot.h?5:3):at.$=Et,T=Jt}else T=gn(at,at.V,at.Ba,at.c,at.i,T,ls);if(!T){I=0;break t}}D+I>=nt&&(x.Cc=1),I=1}if(!I)return null;if(x.Cc&&((I=x.ga)!=null&&(I.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+D*tt}function E(x,T,D,I,tt,nt){for(;0<tt--;){var at,lt=x,pt=T+(D?1:0),yt=x,Ot=T+(D?0:3);for(at=0;at<I;++at){var It=yt[Ot+4*at];It!=255&&(It*=32897,lt[pt+4*at+0]=lt[pt+4*at+0]*It>>23,lt[pt+4*at+1]=lt[pt+4*at+1]*It>>23,lt[pt+4*at+2]=lt[pt+4*at+2]*It>>23)}T+=nt}}function et(x,T,D,I,tt){for(;0<I--;){var nt;for(nt=0;nt<D;++nt){var at=x[T+2*nt+0],lt=15&(yt=x[T+2*nt+1]),pt=4369*lt,yt=(240&yt|yt>>4)*pt>>16;x[T+2*nt+0]=(240&at|at>>4)*pt>>16&240|(15&at|at<<4)*pt>>16>>4&15,x[T+2*nt+1]=240&yt|lt}T+=tt}}function bt(x,T,D,I,tt,nt,at,lt){var pt,yt,Ot=255;for(yt=0;yt<tt;++yt){for(pt=0;pt<I;++pt){var It=x[T+pt];nt[at+4*pt]=It,Ot&=It}T+=D,at+=lt}return Ot!=255}function Tt(x,T,D,I,tt){var nt;for(nt=0;nt<tt;++nt)D[I+nt]=x[T+nt]>>8}function Pt(){Kn=E,Be=et,Fe=bt,fi=Tt}function Vt(x,T,D){q[x]=function(I,tt,nt,at,lt,pt,yt,Ot,It,Ft,Mt,Jt,Gt,Et,Dt,Wt,te){var Kt,ce=te-1>>1,oe=lt[pt+0]|yt[Ot+0]<<16,ve=It[Ft+0]|Mt[Jt+0]<<16;s(I!=null);var le=3*oe+ve+131074>>2;for(T(I[tt+0],255&le,le>>16,Gt,Et),nt!=null&&(le=3*ve+oe+131074>>2,T(nt[at+0],255&le,le>>16,Dt,Wt)),Kt=1;Kt<=ce;++Kt){var Xe=lt[pt+Kt]|yt[Ot+Kt]<<16,Ke=It[Ft+Kt]|Mt[Jt+Kt]<<16,Pe=oe+Xe+ve+Ke+524296,je=Pe+2*(Xe+ve)>>3;le=je+oe>>1,oe=(Pe=Pe+2*(oe+Ke)>>3)+Xe>>1,T(I[tt+2*Kt-1],255&le,le>>16,Gt,Et+(2*Kt-1)*D),T(I[tt+2*Kt-0],255&oe,oe>>16,Gt,Et+(2*Kt-0)*D),nt!=null&&(le=Pe+ve>>1,oe=je+Ke>>1,T(nt[at+2*Kt-1],255&le,le>>16,Dt,Wt+(2*Kt-1)*D),T(nt[at+2*Kt+0],255&oe,oe>>16,Dt,Wt+(2*Kt+0)*D)),oe=Xe,ve=Ke}1&te||(le=3*oe+ve+131074>>2,T(I[tt+te-1],255&le,le>>16,Gt,Et+(te-1)*D),nt!=null&&(le=3*ve+oe+131074>>2,T(nt[at+te-1],255&le,le>>16,Dt,Wt+(te-1)*D)))}}function ne(){on[vn]=la,on[oo]=Fr,on[Rr]=Ya,on[nl]=ql,on[xs]=Hl,on[na]=co,on[Il]=Yl,on[rl]=Fr,on[qa]=ql,on[ra]=Hl,on[lo]=co}function ue(x){return x&-16384?0>x?0:255:x>>Wf}function pe(x,T){return ue((19077*x>>8)+(26149*T>>8)-14234)}function ke(x,T,D){return ue((19077*x>>8)-(6419*T>>8)-(13320*D>>8)+8708)}function Le(x,T){return ue((19077*x>>8)+(33050*T>>8)-17685)}function Ie(x,T,D,I,tt){I[tt+0]=pe(x,D),I[tt+1]=ke(x,T,D),I[tt+2]=Le(x,T)}function yi(x,T,D,I,tt){I[tt+0]=Le(x,T),I[tt+1]=ke(x,T,D),I[tt+2]=pe(x,D)}function xi(x,T,D,I,tt){var nt=ke(x,T,D);T=nt<<3&224|Le(x,T)>>3,I[tt+0]=248&pe(x,D)|nt>>5,I[tt+1]=T}function Ni(x,T,D,I,tt){var nt=240&Le(x,T)|15;I[tt+0]=240&pe(x,D)|ke(x,T,D)>>4,I[tt+1]=nt}function Di(x,T,D,I,tt){I[tt+0]=255,Ie(x,T,D,I,tt+1)}function rn(x,T,D,I,tt){yi(x,T,D,I,tt),I[tt+3]=255}function pr(x,T,D,I,tt){Ie(x,T,D,I,tt),I[tt+3]=255}function Zn(x,T){return 0>x?0:x>T?T:x}function gr(x,T,D){q[x]=function(I,tt,nt,at,lt,pt,yt,Ot,It){for(var Ft=Ot+(-2&It)*D;Ot!=Ft;)T(I[tt+0],nt[at+0],lt[pt+0],yt,Ot),T(I[tt+1],nt[at+0],lt[pt+0],yt,Ot+D),tt+=2,++at,++pt,Ot+=2*D;1&It&&T(I[tt+0],nt[at+0],lt[pt+0],yt,Ot)}}function tl(x,T,D){return D==0?x==0?T==0?6:5:T==0?4:0:D}function Jr(x,T,D,I,tt){switch(x>>>30){case 3:vr(T,D,I,tt,0);break;case 2:Ti(T,D,I,tt);break;case 1:zi(T,D,I,tt)}}function $r(x,T){var D,I,tt=T.M,nt=T.Nb,at=x.oc,lt=x.pc+40,pt=x.oc,yt=x.pc+584,Ot=x.oc,It=x.pc+600;for(D=0;16>D;++D)at[lt+32*D-1]=129;for(D=0;8>D;++D)pt[yt+32*D-1]=129,Ot[It+32*D-1]=129;for(0<tt?at[lt-1-32]=pt[yt-1-32]=Ot[It-1-32]=129:(w(at,lt-32-1,127,21),w(pt,yt-32-1,127,9),w(Ot,It-32-1,127,9)),I=0;I<x.za;++I){var Ft=T.ya[T.aa+I];if(0<I){for(D=-1;16>D;++D)y(at,lt+32*D-4,at,lt+32*D+12,4);for(D=-1;8>D;++D)y(pt,yt+32*D-4,pt,yt+32*D+4,4),y(Ot,It+32*D-4,Ot,It+32*D+4,4)}var Mt=x.Gd,Jt=x.Hd+I,Gt=Ft.ad,Et=Ft.Hc;if(0<tt&&(y(at,lt-32,Mt[Jt].y,0,16),y(pt,yt-32,Mt[Jt].f,0,8),y(Ot,It-32,Mt[Jt].ea,0,8)),Ft.Za){var Dt=at,Wt=lt-32+16;for(0<tt&&(I>=x.za-1?w(Dt,Wt,Mt[Jt].y[15],4):y(Dt,Wt,Mt[Jt+1].y,0,4)),D=0;4>D;D++)Dt[Wt+128+D]=Dt[Wt+256+D]=Dt[Wt+384+D]=Dt[Wt+0+D];for(D=0;16>D;++D,Et<<=2)Dt=at,Wt=lt+Ts[D],Cn[Ft.Ob[D]](Dt,Wt),Jr(Et,Gt,16*+D,Dt,Wt)}else if(Dt=tl(I,tt,Ft.Ob[0]),oa[Dt](at,lt),Et!=0)for(D=0;16>D;++D,Et<<=2)Jr(Et,Gt,16*+D,at,lt+Ts[D]);for(D=Ft.Gc,Dt=tl(I,tt,Ft.Dd),Jn[Dt](pt,yt),Jn[Dt](Ot,It),Et=Gt,Dt=pt,Wt=yt,255&(Ft=D>>0)&&(170&Ft?yr(Et,256,Dt,Wt):Rn(Et,256,Dt,Wt)),Ft=Ot,Et=It,255&(D>>=8)&&(170&D?yr(Gt,320,Ft,Et):Rn(Gt,320,Ft,Et)),tt<x.Ub-1&&(y(Mt[Jt].y,0,at,lt+480,16),y(Mt[Jt].f,0,pt,yt+224,8),y(Mt[Jt].ea,0,Ot,It+224,8)),D=8*nt*x.B,Mt=x.sa,Jt=x.ta+16*I+16*nt*x.R,Gt=x.qa,Ft=x.ra+8*I+D,Et=x.Ha,Dt=x.Ia+8*I+D,D=0;16>D;++D)y(Mt,Jt+D*x.R,at,lt+32*D,16);for(D=0;8>D;++D)y(Gt,Ft+D*x.B,pt,yt+32*D,8),y(Et,Dt+D*x.B,Ot,It+32*D,8)}}function io(x,T,D,I,tt,nt,at,lt,pt){var yt=[0],Ot=[0],It=0,Ft=pt!=null?pt.kd:0,Mt=pt??new Qo;if(x==null||12>D)return 7;Mt.data=x,Mt.w=T,Mt.ha=D,T=[T],D=[D],Mt.gb=[Mt.gb];t:{var Jt=T,Gt=D,Et=Mt.gb;if(s(x!=null),s(Gt!=null),s(Et!=null),Et[0]=0,12<=Gt[0]&&!p(x,Jt[0],"RIFF")){if(p(x,Jt[0]+8,"WEBP")){Et=3;break t}var Dt=xt(x,Jt[0]+4);if(12>Dt||4294967286<Dt){Et=3;break t}if(Ft&&Dt>Gt[0]-8){Et=7;break t}Et[0]=Dt,Jt[0]+=12,Gt[0]-=12}Et=0}if(Et!=0)return Et;for(Dt=0<Mt.gb[0],D=D[0];;){t:{var Wt=x;Gt=T,Et=D;var te=yt,Kt=Ot,ce=Jt=[0];if((le=It=[It])[0]=0,8>Et[0])Et=7;else{if(!p(Wt,Gt[0],"VP8X")){if(xt(Wt,Gt[0]+4)!=10){Et=3;break t}if(18>Et[0]){Et=7;break t}var oe=xt(Wt,Gt[0]+8),ve=1+Nt(Wt,Gt[0]+12);if(2147483648<=ve*(Wt=1+Nt(Wt,Gt[0]+15))){Et=3;break t}ce!=null&&(ce[0]=oe),te!=null&&(te[0]=ve),Kt!=null&&(Kt[0]=Wt),Gt[0]+=18,Et[0]-=18,le[0]=1}Et=0}}if(It=It[0],Jt=Jt[0],Et!=0)return Et;if(Gt=!!(2&Jt),!Dt&&It)return 3;if(nt!=null&&(nt[0]=!!(16&Jt)),at!=null&&(at[0]=Gt),lt!=null&&(lt[0]=0),at=yt[0],Jt=Ot[0],It&&Gt&&pt==null){Et=0;break}if(4>D){Et=7;break}if(Dt&&It||!Dt&&!It&&!p(x,T[0],"ALPH")){D=[D],Mt.na=[Mt.na],Mt.P=[Mt.P],Mt.Sa=[Mt.Sa];t:{oe=x,Et=T,Dt=D;var le=Mt.gb;te=Mt.na,Kt=Mt.P,ce=Mt.Sa,ve=22,s(oe!=null),s(Dt!=null),Wt=Et[0];var Xe=Dt[0];for(s(te!=null),s(ce!=null),te[0]=null,Kt[0]=null,ce[0]=0;;){if(Et[0]=Wt,Dt[0]=Xe,8>Xe){Et=7;break t}var Ke=xt(oe,Wt+4);if(4294967286<Ke){Et=3;break t}var Pe=8+Ke+1&-2;if(ve+=Pe,0<le&&ve>le){Et=3;break t}if(!p(oe,Wt,"VP8 ")||!p(oe,Wt,"VP8L")){Et=0;break t}if(Xe[0]<Pe){Et=7;break t}p(oe,Wt,"ALPH")||(te[0]=oe,Kt[0]=Wt+8,ce[0]=Ke),Wt+=Pe,Xe-=Pe}}if(D=D[0],Mt.na=Mt.na[0],Mt.P=Mt.P[0],Mt.Sa=Mt.Sa[0],Et!=0)break}D=[D],Mt.Ja=[Mt.Ja],Mt.xa=[Mt.xa];t:if(le=x,Et=T,Dt=D,te=Mt.gb[0],Kt=Mt.Ja,ce=Mt.xa,oe=Et[0],Wt=!p(le,oe,"VP8 "),ve=!p(le,oe,"VP8L"),s(le!=null),s(Dt!=null),s(Kt!=null),s(ce!=null),8>Dt[0])Et=7;else{if(Wt||ve){if(le=xt(le,oe+4),12<=te&&le>te-12){Et=3;break t}if(Ft&&le>Dt[0]-8){Et=7;break t}Kt[0]=le,Et[0]+=8,Dt[0]-=8,ce[0]=ve}else ce[0]=5<=Dt[0]&&le[oe+0]==47&&!(le[oe+4]>>5),Kt[0]=Dt[0];Et=0}if(D=D[0],Mt.Ja=Mt.Ja[0],Mt.xa=Mt.xa[0],T=T[0],Et!=0)break;if(4294967286<Mt.Ja)return 3;if(lt==null||Gt||(lt[0]=Mt.xa?2:1),at=[at],Jt=[Jt],Mt.xa){if(5>D){Et=7;break}lt=at,Ft=Jt,Gt=nt,x==null||5>D?x=0:5<=D&&x[T+0]==47&&!(x[T+4]>>5)?(Dt=[0],le=[0],te=[0],vt(Kt=new N,x,T,D),me(Kt,Dt,le,te)?(lt!=null&&(lt[0]=Dt[0]),Ft!=null&&(Ft[0]=le[0]),Gt!=null&&(Gt[0]=te[0]),x=1):x=0):x=0}else{if(10>D){Et=7;break}lt=Jt,x==null||10>D||!xn(x,T+3,D-3)?x=0:(Ft=x[T+0]|x[T+1]<<8|x[T+2]<<16,Gt=16383&(x[T+7]<<8|x[T+6]),x=16383&(x[T+9]<<8|x[T+8]),1&Ft||3<(Ft>>1&7)||!(Ft>>4&1)||Ft>>5>=Mt.Ja||!Gt||!x?x=0:(at&&(at[0]=Gt),lt&&(lt[0]=x),x=1))}if(!x||(at=at[0],Jt=Jt[0],It&&(yt[0]!=at||Ot[0]!=Jt)))return 3;pt!=null&&(pt[0]=Mt,pt.offset=T-pt.w,s(4294967286>T-pt.w),s(pt.offset==pt.ha-D));break}return Et==0||Et==7&&It&&pt==null?(nt!=null&&(nt[0]|=Mt.na!=null&&0<Mt.na.length),I!=null&&(I[0]=at),tt!=null&&(tt[0]=Jt),0):Et}function Na(x,T,D){var I=T.width,tt=T.height,nt=0,at=0,lt=I,pt=tt;if(T.Da=x!=null&&0<x.Da,T.Da&&(lt=x.cd,pt=x.bd,nt=x.v,at=x.j,11>D||(nt&=-2,at&=-2),0>nt||0>at||0>=lt||0>=pt||nt+lt>I||at+pt>tt))return 0;if(T.v=nt,T.j=at,T.va=nt+lt,T.o=at+pt,T.U=lt,T.T=pt,T.da=x!=null&&0<x.da,T.da){if(!$(lt,pt,D=[x.ib],nt=[x.hb]))return 0;T.ib=D[0],T.hb=nt[0]}return T.ob=x!=null&&x.ob,T.Kb=x==null||!x.Sd,T.da&&(T.ob=T.ib<3*I/4&&T.hb<3*tt/4,T.Kb=0),1}function no(x){if(x==null)return 2;if(11>x.S){var T=x.f.RGBA;T.fb+=(x.height-1)*T.A,T.A=-T.A}else T=x.f.kb,x=x.height,T.O+=(x-1)*T.fa,T.fa=-T.fa,T.N+=(x-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(x-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(x-1)*T.lb,T.lb=-T.lb);return 0}function gs(x,T,D,I){if(I==null||0>=x||0>=T)return 2;if(D!=null){if(D.Da){var tt=D.cd,nt=D.bd,at=-2&D.v,lt=-2&D.j;if(0>at||0>lt||0>=tt||0>=nt||at+tt>x||lt+nt>T)return 2;x=tt,T=nt}if(D.da){if(!$(x,T,tt=[D.ib],nt=[D.hb]))return 2;x=tt[0],T=nt[0]}}I.width=x,I.height=T;t:{var pt=I.width,yt=I.height;if(x=I.S,0>=pt||0>=yt||!(x>=vn&&13>x))x=2;else{if(0>=I.Rd&&I.sd==null){at=nt=tt=T=0;var Ot=(lt=pt*jc[x])*yt;if(11>x||(nt=(yt+1)/2*(T=(pt+1)/2),x==12&&(at=(tt=pt)*yt)),(yt=b(Ot+2*nt+at))==null){x=1;break t}I.sd=yt,11>x?((pt=I.f.RGBA).eb=yt,pt.fb=0,pt.A=lt,pt.size=Ot):((pt=I.f.kb).y=yt,pt.O=0,pt.fa=lt,pt.Fd=Ot,pt.f=yt,pt.N=0+Ot,pt.Ab=T,pt.Cd=nt,pt.ea=yt,pt.W=0+Ot+nt,pt.Db=T,pt.Ed=nt,x==12&&(pt.F=yt,pt.J=0+Ot+2*nt),pt.Tc=at,pt.lb=tt)}if(T=1,tt=I.S,nt=I.width,at=I.height,tt>=vn&&13>tt)if(11>tt)x=I.f.RGBA,T&=(lt=Math.abs(x.A))*(at-1)+nt<=x.size,T&=lt>=nt*jc[tt],T&=x.eb!=null;else{x=I.f.kb,lt=(nt+1)/2,Ot=(at+1)/2,pt=Math.abs(x.fa),yt=Math.abs(x.Ab);var It=Math.abs(x.Db),Ft=Math.abs(x.lb),Mt=Ft*(at-1)+nt;T&=pt*(at-1)+nt<=x.Fd,T&=yt*(Ot-1)+lt<=x.Cd,T=(T&=It*(Ot-1)+lt<=x.Ed)&pt>=nt&yt>=lt&It>=lt,T&=x.y!=null,T&=x.f!=null,T&=x.ea!=null,tt==12&&(T&=Ft>=nt,T&=Mt<=x.Tc,T&=x.F!=null)}else T=0;x=T?0:2}}return x!=0||D!=null&&D.fd&&(x=no(I)),x}var Vi=64,Da=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ms=24,vs=32,ro=8,Mn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_t("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(x){return x},q.Predictor2=function(x,T,D){return T[D+0]},q.Predictor3=function(x,T,D){return T[D+1]},q.Predictor4=function(x,T,D){return T[D-1]},q.Predictor5=function(x,T,D){return ft(ft(x,T[D+1]),T[D+0])},q.Predictor6=function(x,T,D){return ft(x,T[D-1])},q.Predictor7=function(x,T,D){return ft(x,T[D+0])},q.Predictor8=function(x,T,D){return ft(T[D-1],T[D+0])},q.Predictor9=function(x,T,D){return ft(T[D+0],T[D+1])},q.Predictor10=function(x,T,D){return ft(ft(x,T[D-1]),ft(T[D+0],T[D+1]))},q.Predictor11=function(x,T,D){var I=T[D+0];return 0>=qt(I>>24&255,x>>24&255,(T=T[D-1])>>24&255)+qt(I>>16&255,x>>16&255,T>>16&255)+qt(I>>8&255,x>>8&255,T>>8&255)+qt(255&I,255&x,255&T)?I:x},q.Predictor12=function(x,T,D){var I=T[D+0];return(Lt((x>>24&255)+(I>>24&255)-((T=T[D-1])>>24&255))<<24|Lt((x>>16&255)+(I>>16&255)-(T>>16&255))<<16|Lt((x>>8&255)+(I>>8&255)-(T>>8&255))<<8|Lt((255&x)+(255&I)-(255&T)))>>>0},q.Predictor13=function(x,T,D){var I=T[D-1];return(Bt((x=ft(x,T[D+0]))>>24&255,I>>24&255)<<24|Bt(x>>16&255,I>>16&255)<<16|Bt(x>>8&255,I>>8&255)<<8|Bt(x>>0&255,I>>0&255))>>>0};var Nu=q.PredictorAdd0;q.PredictorAdd1=$t,_t("Predictor2","PredictorAdd2"),_t("Predictor3","PredictorAdd3"),_t("Predictor4","PredictorAdd4"),_t("Predictor5","PredictorAdd5"),_t("Predictor6","PredictorAdd6"),_t("Predictor7","PredictorAdd7"),_t("Predictor8","PredictorAdd8"),_t("Predictor9","PredictorAdd9"),_t("Predictor10","PredictorAdd10"),_t("Predictor11","PredictorAdd11"),_t("Predictor12","PredictorAdd12"),_t("Predictor13","PredictorAdd13");var el=q.PredictorAdd2;ge("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Fl,ir=q.ColorIndexInverseTransform,an=q.MapARGB,Ma=q.VP8LColorIndexInverseTransformAlpha,il=q.MapAlpha,ta=q.VP8LPredictorsAdd=[];ta.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var ja,Sn,fn,Ra,jn,mr,Mr,vr,Ti,yr,zi,Rn,ys,jr,ao,Pa,Ba,Fa,bs,so,za,ea,_s,Oi,Kn,Be,Fe,fi,Mi=b(511),nr=b(2041),Ia=b(225),Ua=b(767),ia=0,zl=nr,ws=Ia,sn=Ua,rr=Mi,vn=0,oo=1,Rr=2,nl=3,xs=4,na=5,Il=6,rl=7,qa=8,ra=9,lo=10,Ul=[2,3,7],ar=[3,3,11],Qn=[280,256,256,256,40],Ss=[0,1,1,1,0],aa=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sa=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Cs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ec=8,al=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],sl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wi=null,Li=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ze=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ha=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Pr=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Du=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],As=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oa=[],Cn=[],Jn=[],Nc=1,uo=2,Br=[],on=[];Vt("UpsampleRgbLinePair",Ie,3),Vt("UpsampleBgrLinePair",yi,3),Vt("UpsampleRgbaLinePair",pr,4),Vt("UpsampleBgraLinePair",rn,4),Vt("UpsampleArgbLinePair",Di,4),Vt("UpsampleRgba4444LinePair",Ni,2),Vt("UpsampleRgb565LinePair",xi,2);var la=q.UpsampleRgbLinePair,Ya=q.UpsampleBgrLinePair,Fr=q.UpsampleRgbaLinePair,ql=q.UpsampleBgraLinePair,Hl=q.UpsampleArgbLinePair,co=q.UpsampleRgba4444LinePair,Yl=q.UpsampleRgb565LinePair,zr=16,Zi=1<<zr-1,Xa=-227,Xl=482,Wf=6,Dc=0,Zf=b(256),Ki=b(256),Mu=b(256),ol=b(256),ll=b(Xl-Xa),ju=b(Xl-Xa);gr("YuvToRgbRow",Ie,3),gr("YuvToBgrRow",yi,3),gr("YuvToRgbaRow",pr,4),gr("YuvToBgraRow",rn,4),gr("YuvToArgbRow",Di,4),gr("YuvToRgba4444Row",Ni,2),gr("YuvToRgb565Row",xi,2);var Ts=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ua=[0,2,8],Kf=[8,7,6,4,4,2,2,2,1,1,1,1],Mc=1;this.WebPDecodeRGBA=function(x,T,D,I,tt){var nt=oo,at=new Js,lt=new dn;at.ba=lt,lt.S=nt,lt.width=[lt.width],lt.height=[lt.height];var pt=lt.width,yt=lt.height,Ot=new Yi;if(Ot==null||x==null)var It=2;else s(Ot!=null),It=io(x,T,D,Ot.width,Ot.height,Ot.Pd,Ot.Qd,Ot.format,null);if(It!=0?pt=0:(pt!=null&&(pt[0]=Ot.width[0]),yt!=null&&(yt[0]=Ot.height[0]),pt=1),pt){lt.width=lt.width[0],lt.height=lt.height[0],I!=null&&(I[0]=lt.width),tt!=null&&(tt[0]=lt.height);t:{if(I=new xa,(tt=new Qo).data=x,tt.w=T,tt.ha=D,tt.kd=1,T=[0],s(tt!=null),((x=io(tt.data,tt.w,tt.ha,null,null,null,T,null,tt))==0||x==7)&&T[0]&&(x=4),(T=x)==0){if(s(at!=null),I.data=tt.data,I.w=tt.w+tt.offset,I.ha=tt.ha-tt.offset,I.put=cr,I.ac=Xi,I.bc=Lr,I.ma=at,tt.xa){if((x=cn())==null){at=1;break t}if(function(Ft,Mt){var Jt=[0],Gt=[0],Et=[0];e:for(;;){if(Ft==null)return 0;if(Mt==null)return Ft.a=2,0;if(Ft.l=Mt,Ft.a=0,vt(Ft.m,Mt.data,Mt.w,Mt.ha),!me(Ft.m,Jt,Gt,Et)){Ft.a=3;break e}if(Ft.xb=uo,Mt.width=Jt[0],Mt.height=Gt[0],!ri(Jt[0],Gt[0],1,Ft,null))break e;return 1}return s(Ft.a!=0),0}(x,I)){if(I=(T=gs(I.width,I.height,at.Oa,at.ba))==0){e:{I=x;i:for(;;){if(I==null){I=0;break e}if(s(I.s.yc!=null),s(I.s.Ya!=null),s(0<I.s.Wb),s((D=I.l)!=null),s((tt=D.ma)!=null),I.xb!=0){if(I.ca=tt.ba,I.tb=tt.tb,s(I.ca!=null),!Na(tt.Oa,D,nl)){I.a=2;break i}if(!wa(I,D.width)||D.da)break i;if((D.da||Ye(I.ca.S))&&Pt(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Pt()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!j(I.s.vb,I.s.Wa.Xa)){I.a=1;break i}I.xb=0}if(!gn(I,I.V,I.Ba,I.c,I.i,D.o,os))break i;tt.Dc=I.Ma,I=1;break e}s(I.a!=0),I=0}I=!I}I&&(T=x.a)}else T=x.a}else{if((x=new Tu)==null){at=1;break t}if(x.Fa=tt.na,x.P=tt.P,x.qc=tt.Sa,qo(x,I)){if((T=gs(I.width,I.height,at.Oa,at.ba))==0){if(x.Aa=0,D=at.Oa,s((tt=x)!=null),D!=null){if(0<(pt=0>(pt=D.Md)?0:100<pt?255:255*pt/100)){for(yt=Ot=0;4>yt;++yt)12>(It=tt.pb[yt]).lc&&(It.ia=pt*Kf[0>It.lc?0:It.lc]>>3),Ot|=It.ia;Ot&&(alert("todo:VP8InitRandom"),tt.ia=1)}tt.Ga=D.Id,100<tt.Ga?tt.Ga=100:0>tt.Ga&&(tt.Ga=0)}kl(x,I)||(T=x.a)}}else T=x.a}T==0&&at.Oa!=null&&at.Oa.fd&&(T=no(at.ba))}at=T}nt=at!=0?null:11>nt?lt.f.RGBA.eb:lt.f.kb.y}else nt=null;return nt};var jc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function o(q,Q){for(var gt="",G=0;G<4;G++)gt+=String.fromCharCode(q[Q++]);return gt}function h(q,Q){return(q[Q+0]<<0|q[Q+1]<<8|q[Q+2]<<16)>>>0}function r(q,Q){return(q[Q+0]<<0|q[Q+1]<<8|q[Q+2]<<16|q[Q+3]<<24)>>>0}new i;var a=[0],n=[0],l=[],d=new i,c=m,g=function(q,Q){var gt={},G=0,B=!1,it=0,M=0;if(gt.frames=[],!function(U,R,P,V){for(var J=0;J<V;J++)if(U[R+J]!=P.charCodeAt(J))return!0;return!1}(q,Q,"RIFF",4)){for(r(q,Q+=4),Q+=8;Q<q.length;){var mt=o(q,Q),st=r(q,Q+=4);Q+=4;var ut=st+(1&st);switch(mt){case"VP8 ":case"VP8L":gt.frames[G]===void 0&&(gt.frames[G]={}),(Y=gt.frames[G]).src_off=B?M:Q-8,Y.src_size=it+st+8,G++,B&&(B=!1,it=0,M=0);break;case"VP8X":(Y=gt.header={}).feature_flags=q[Q];var vt=Q+4;Y.canvas_width=1+h(q,vt),vt+=3,Y.canvas_height=1+h(q,vt),vt+=3;break;case"ALPH":B=!0,it=ut+8,M=Q-8;break;case"ANIM":(Y=gt.header).bgcolor=r(q,Q),vt=Q+4,Y.loop_count=(H=q)[(N=vt)+0]<<0|H[N+1]<<8,vt+=2;break;case"ANMF":var W,Y;(Y=gt.frames[G]={}).offset_x=2*h(q,Q),Q+=3,Y.offset_y=2*h(q,Q),Q+=3,Y.width=1+h(q,Q),Q+=3,Y.height=1+h(q,Q),Q+=3,Y.duration=h(q,Q),Q+=3,W=q[Q++],Y.dispose=1&W,Y.blend=W>>1&1}mt!="ANMF"&&(Q+=ut)}var H,N;return gt}}(c,0);g.response=c,g.rgbaoutput=!0,g.dataurl=!1;var _=g.header?g.header:null,C=g.frames?g.frames:null;if(_){_.loop_counter=_.loop_count,a=[_.canvas_height],n=[_.canvas_width];for(var O=0;O<C.length&&C[O].blend!=0;O++);}var k=C[0],F=d.WebPDecodeRGBA(c,k.src_off,k.src_size,n,a);k.rgba=F,k.imgwidth=n[0],k.imgheight=a[0];for(var z=0;z<n[0]*a[0]*4;z++)l[z]=F[z];return this.width=n,this.height=a,this.data=l,this}(function(m){var s=function(){return typeof Ld=="function"},p=function(a,n,l,d){var c=4,g=S;switch(d){case m.image_compression.FAST:c=1,g=b;break;case m.image_compression.MEDIUM:c=6,g=u;break;case m.image_compression.SLOW:c=9,g=i}a=y(a,n,l,g);var _=Ld(a,{level:c});return m.__addimage__.arrayBufferToBinaryString(_)},y=function(a,n,l,d){for(var c,g,_,C=a.length/n,O=new Uint8Array(a.length+C),k=h(),F=0;F<C;F+=1){if(_=F*n,c=a.subarray(_,_+n),d)O.set(d(c,l,g),_+F);else{for(var z,q=k.length,Q=[];z<q;z+=1)Q[z]=k[z](c,l,g);var gt=r(Q.concat());O.set(Q[gt],_+F)}g=c}return O},w=function(a){var n=Array.apply([],a);return n.unshift(0),n},b=function(a,n){var l,d=[],c=a.length;d[0]=1;for(var g=0;g<c;g+=1)l=a[g-n]||0,d[g+1]=a[g]-l+256&255;return d},S=function(a,n,l){var d,c=[],g=a.length;c[0]=2;for(var _=0;_<g;_+=1)d=l&&l[_]||0,c[_+1]=a[_]-d+256&255;return c},u=function(a,n,l){var d,c,g=[],_=a.length;g[0]=3;for(var C=0;C<_;C+=1)d=a[C-n]||0,c=l&&l[C]||0,g[C+1]=a[C]+256-(d+c>>>1)&255;return g},i=function(a,n,l){var d,c,g,_,C=[],O=a.length;C[0]=4;for(var k=0;k<O;k+=1)d=a[k-n]||0,c=l&&l[k]||0,g=l&&l[k-n]||0,_=o(d,c,g),C[k+1]=a[k]-_+256&255;return C},o=function(a,n,l){if(a===n&&n===l)return a;var d=Math.abs(n-l),c=Math.abs(a-l),g=Math.abs(a+n-l-l);return d<=c&&d<=g?a:c<=g?n:l},h=function(){return[w,b,S,u,i]},r=function(a){var n=a.map(function(l){return l.reduce(function(d,c){return d+Math.abs(c)},0)});return n.indexOf(Math.min.apply(null,n))};m.processPNG=function(a,n,l,d){var c,g,_,C,O,k,F,z,q,Q,gt,G,B,it,M,mt=this.decode.FLATE_DECODE,st="";if(this.__addimage__.isArrayBuffer(a)&&(a=new Uint8Array(a)),this.__addimage__.isArrayBufferView(a)){if(a=(_=new u5(a)).imgData,g=_.bits,c=_.colorSpace,O=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){q=(z=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,gt=new Uint8Array(q*_.colors),Q=new Uint8Array(q);var ut,vt=_.pixelBitlength-_.bits;for(it=0,M=0;it<q;it++){for(B=z[it],ut=0;ut<vt;)gt[M++]=B>>>ut&255,ut+=_.bits;Q[it]=B>>>ut&255}}if(_.bits===16){q=(z=new Uint32Array(_.decodePixels().buffer)).length,gt=new Uint8Array(q*(32/_.pixelBitlength)*_.colors),Q=new Uint8Array(q*(32/_.pixelBitlength)),G=_.colors>1,it=0,M=0;for(var W=0;it<q;)B=z[it++],gt[M++]=B>>>0&255,G&&(gt[M++]=B>>>16&255,B=z[it++],gt[M++]=B>>>0&255),Q[W++]=B>>>16&255;g=8}d!==m.image_compression.NONE&&s()?(a=p(gt,_.width*_.colors,_.colors,d),F=p(Q,_.width,1,d)):(a=gt,F=Q,mt=void 0)}if(_.colorType===3&&(c=this.color_spaces.INDEXED,k=_.palette,_.transparency.indexed)){var Y=_.transparency.indexed,H=0;for(it=0,q=Y.length;it<q;++it)H+=Y[it];if((H/=255)===q-1&&Y.indexOf(0)!==-1)C=[Y.indexOf(0)];else if(H!==q){for(z=_.decodePixels(),Q=new Uint8Array(z.length),it=0,q=z.length;it<q;it++)Q[it]=Y[z[it]];F=p(Q,_.width,1)}}var N=function(U){var R;switch(U){case m.image_compression.FAST:R=11;break;case m.image_compression.MEDIUM:R=13;break;case m.image_compression.SLOW:R=14;break;default:R=12}return R}(d);return mt===this.decode.FLATE_DECODE&&(st="/Predictor "+N+" "),st+="/Colors "+O+" /BitsPerComponent "+g+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a))&&(a=this.__addimage__.arrayBufferToBinaryString(a)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:l,data:a,index:n,filter:mt,decodeParameters:st,transparency:C,palette:k,sMask:F,predictor:N,width:_.width,height:_.height,bitsPerComponent:g,colorSpace:c}}}})(xe.API),function(m){m.processGIF89A=function(s,p,y,w){var b=new c5(s),S=b.width,u=b.height,i=[];b.decodeAndBlitFrameRGBA(0,i);var o={data:i,width:S,height:u},h=new vd(100).encode(o,100);return m.processJPEG.call(this,h,p,y,w)},m.processGIF87A=m.processGIF89A}(xe.API),va.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var m=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(m);for(var s=0;s<m;s++){var p=this.datav.getUint8(this.pos++,!0),y=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0),b=this.datav.getUint8(this.pos++,!0);this.palette[s]={red:w,green:y,blue:p,quad:b}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},va.prototype.parseBGR=function(){this.pos=this.offset;try{var m="bit"+this.bitPP,s=this.width*this.height*4;this.data=new Uint8Array(s),this[m]()}catch(p){vi.log("bit decode error:"+p)}},va.prototype.bit1=function(){var m,s=Math.ceil(this.width/8),p=s%4;for(m=this.height-1;m>=0;m--){for(var y=this.bottom_up?m:this.height-1-m,w=0;w<s;w++)for(var b=this.datav.getUint8(this.pos++,!0),S=y*this.width*4+8*w*4,u=0;u<8&&8*w+u<this.width;u++){var i=this.palette[b>>7-u&1];this.data[S+4*u]=i.blue,this.data[S+4*u+1]=i.green,this.data[S+4*u+2]=i.red,this.data[S+4*u+3]=255}p!==0&&(this.pos+=4-p)}},va.prototype.bit4=function(){for(var m=Math.ceil(this.width/2),s=m%4,p=this.height-1;p>=0;p--){for(var y=this.bottom_up?p:this.height-1-p,w=0;w<m;w++){var b=this.datav.getUint8(this.pos++,!0),S=y*this.width*4+2*w*4,u=b>>4,i=15&b,o=this.palette[u];if(this.data[S]=o.blue,this.data[S+1]=o.green,this.data[S+2]=o.red,this.data[S+3]=255,2*w+1>=this.width)break;o=this.palette[i],this.data[S+4]=o.blue,this.data[S+4+1]=o.green,this.data[S+4+2]=o.red,this.data[S+4+3]=255}s!==0&&(this.pos+=4-s)}},va.prototype.bit8=function(){for(var m=this.width%4,s=this.height-1;s>=0;s--){for(var p=this.bottom_up?s:this.height-1-s,y=0;y<this.width;y++){var w=this.datav.getUint8(this.pos++,!0),b=p*this.width*4+4*y;if(w<this.palette.length){var S=this.palette[w];this.data[b]=S.red,this.data[b+1]=S.green,this.data[b+2]=S.blue,this.data[b+3]=255}else this.data[b]=255,this.data[b+1]=255,this.data[b+2]=255,this.data[b+3]=255}m!==0&&(this.pos+=4-m)}},va.prototype.bit15=function(){for(var m=this.width%3,s=parseInt("11111",2),p=this.height-1;p>=0;p--){for(var y=this.bottom_up?p:this.height-1-p,w=0;w<this.width;w++){var b=this.datav.getUint16(this.pos,!0);this.pos+=2;var S=(b&s)/s*255|0,u=(b>>5&s)/s*255|0,i=(b>>10&s)/s*255|0,o=b>>15?255:0,h=y*this.width*4+4*w;this.data[h]=i,this.data[h+1]=u,this.data[h+2]=S,this.data[h+3]=o}this.pos+=m}},va.prototype.bit16=function(){for(var m=this.width%3,s=parseInt("11111",2),p=parseInt("111111",2),y=this.height-1;y>=0;y--){for(var w=this.bottom_up?y:this.height-1-y,b=0;b<this.width;b++){var S=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(S&s)/s*255|0,i=(S>>5&p)/p*255|0,o=(S>>11)/s*255|0,h=w*this.width*4+4*b;this.data[h]=o,this.data[h+1]=i,this.data[h+2]=u,this.data[h+3]=255}this.pos+=m}},va.prototype.bit24=function(){for(var m=this.height-1;m>=0;m--){for(var s=this.bottom_up?m:this.height-1-m,p=0;p<this.width;p++){var y=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0),b=this.datav.getUint8(this.pos++,!0),S=s*this.width*4+4*p;this.data[S]=b,this.data[S+1]=w,this.data[S+2]=y,this.data[S+3]=255}this.pos+=this.width%4}},va.prototype.bit32=function(){for(var m=this.height-1;m>=0;m--)for(var s=this.bottom_up?m:this.height-1-m,p=0;p<this.width;p++){var y=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0),b=this.datav.getUint8(this.pos++,!0),S=this.datav.getUint8(this.pos++,!0),u=s*this.width*4+4*p;this.data[u]=b,this.data[u+1]=w,this.data[u+2]=y,this.data[u+3]=S}},va.prototype.getData=function(){return this.data},function(m){m.processBMP=function(s,p,y,w){var b=new va(s,!1),S=b.width,u=b.height,i={data:b.getData(),width:S,height:u},o=new vd(100).encode(i,100);return m.processJPEG.call(this,o,p,y,w)}}(xe.API),k0.prototype.getData=function(){return this.data},function(m){m.processWEBP=function(s,p,y,w){var b=new k0(s),S=b.width,u=b.height,i={data:b.getData(),width:S,height:u},o=new vd(100).encode(i,100);return m.processJPEG.call(this,o,p,y,w)}}(xe.API),xe.API.processRGBA=function(m,s,p){for(var y=m.data,w=y.length,b=new Uint8Array(w/4*3),S=new Uint8Array(w/4),u=0,i=0,o=0;o<w;o+=4){var h=y[o],r=y[o+1],a=y[o+2],n=y[o+3];b[u++]=h,b[u++]=r,b[u++]=a,S[i++]=n}var l=this.__addimage__.arrayBufferToBinaryString(b);return{alpha:this.__addimage__.arrayBufferToBinaryString(S),data:l,index:s,alias:p,colorSpace:"DeviceRGB",bitsPerComponent:8,width:m.width,height:m.height}},xe.API.setLanguage=function(m){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[m]!==void 0&&(this.internal.languageSettings.languageCode=m,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pu=xe.API,Df=pu.getCharWidthsArray=function(m,s){var p,y,w=(s=s||{}).font||this.internal.getFont(),b=s.fontSize||this.internal.getFontSize(),S=s.charSpace||this.internal.getCharSpace(),u=s.widths?s.widths:w.metadata.Unicode.widths,i=u.fof?u.fof:1,o=s.kerning?s.kerning:w.metadata.Unicode.kerning,h=o.fof?o.fof:1,r=s.doKerning!==!1,a=0,n=m.length,l=0,d=u[0]||i,c=[];for(p=0;p<n;p++)y=m.charCodeAt(p),typeof w.metadata.widthOfString=="function"?c.push((w.metadata.widthOfGlyph(w.metadata.characterToGlyph(y))+S*(1e3/b)||0)/1e3):(a=r&&ui(o[y])==="object"&&!isNaN(parseInt(o[y][l],10))?o[y][l]/h:0,c.push((u[y]||d)/i+a)),l=y;return c},T0=pu.getStringUnitWidth=function(m,s){var p=(s=s||{}).fontSize||this.internal.getFontSize(),y=s.font||this.internal.getFont(),w=s.charSpace||this.internal.getCharSpace();return pu.processArabic&&(m=pu.processArabic(m)),typeof y.metadata.widthOfString=="function"?y.metadata.widthOfString(m,p,w)/p:Df.apply(this,arguments).reduce(function(b,S){return b+S},0)},O0=function(m,s,p,y){for(var w=[],b=0,S=m.length,u=0;b!==S&&u+s[b]<p;)u+=s[b],b++;w.push(m.slice(0,b));var i=b;for(u=0;b!==S;)u+s[b]>y&&(w.push(m.slice(i,b)),u=0,i=b),u+=s[b],b++;return i!==b&&w.push(m.slice(i,b)),w},L0=function(m,s,p){p||(p={});var y,w,b,S,u,i,o,h=[],r=[h],a=p.textIndent||0,n=0,l=0,d=m.split(" "),c=Df.apply(this,[" ",p])[0];if(i=p.lineIndent===-1?d[0].length+2:p.lineIndent||0){var g=Array(i).join(" "),_=[];d.map(function(O){(O=O.split(/\s*\n/)).length>1?_=_.concat(O.map(function(k,F){return(F&&k.length?`
`:"")+k})):_.push(O[0])}),d=_,i=T0.apply(this,[g,p])}for(b=0,S=d.length;b<S;b++){var C=0;if(y=d[b],i&&y[0]==`
`&&(y=y.substr(1),C=1),a+n+(l=(w=Df.apply(this,[y,p])).reduce(function(O,k){return O+k},0))>s||C){if(l>s){for(u=O0.apply(this,[y,w,s-(a+n),s]),h.push(u.shift()),h=[u.pop()];u.length;)r.push([u.shift()]);l=w.slice(y.length-(h[0]?h[0].length:0)).reduce(function(O,k){return O+k},0)}else h=[y];r.push(h),a=l+i,n=c}else h.push(y),a+=n+l,n=c}return o=i?function(O,k){return(k?g:"")+O.join(" ")}:function(O){return O.join(" ")},r.map(o)},pu.splitTextToSize=function(m,s,p){var y,w=(p=p||{}).fontSize||this.internal.getFontSize(),b=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var r=this.internal.getFont(h.fontName,h.fontStyle);return r.metadata.Unicode?{widths:r.metadata.Unicode.widths||{0:1},kerning:r.metadata.Unicode.kerning||{}}:{font:r.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,p);y=Array.isArray(m)?m:String(m).split(/\r?\n/);var S=1*this.internal.scaleFactor*s/w;b.textIndent=p.textIndent?1*p.textIndent*this.internal.scaleFactor/w:0,b.lineIndent=p.lineIndent;var u,i,o=[];for(u=0,i=y.length;u<i;u++)o=o.concat(L0.apply(this,[y[u],S,b]));return o},function(m){m.__fontmetrics__=m.__fontmetrics__||{};for(var s="klmnopqrstuvwxyz",p={},y={},w=0;w<s.length;w++)p[s[w]]="0123456789abcdef"[w],y["0123456789abcdef"[w]]=s[w];var b=function(r){return"0x"+parseInt(r,10).toString(16)},S=m.__fontmetrics__.compress=function(r){var a,n,l,d,c=["{"];for(var g in r){if(a=r[g],isNaN(parseInt(g,10))?n="'"+g+"'":(g=parseInt(g,10),n=(n=b(g).slice(2)).slice(0,-1)+y[n.slice(-1)]),typeof a=="number")a<0?(l=b(a).slice(3),d="-"):(l=b(a).slice(2),d=""),l=d+l.slice(0,-1)+y[l.slice(-1)];else{if(ui(a)!=="object")throw new Error("Don't know what to do with value type "+ui(a)+".");l=S(a)}c.push(n+l)}return c.push("}"),c.join("")},u=m.__fontmetrics__.uncompress=function(r){if(typeof r!="string")throw new Error("Invalid argument passed to uncompress.");for(var a,n,l,d,c={},g=1,_=c,C=[],O="",k="",F=r.length-1,z=1;z<F;z+=1)(d=r[z])=="'"?a?(l=a.join(""),a=void 0):a=[]:a?a.push(d):d=="{"?(C.push([_,l]),_={},l=void 0):d=="}"?((n=C.pop())[0][n[1]]=_,l=void 0,_=n[0]):d=="-"?g=-1:l===void 0?p.hasOwnProperty(d)?(O+=p[d],l=parseInt(O,16)*g,g=1,O=""):O+=d:p.hasOwnProperty(d)?(k+=p[d],_[l]=parseInt(k,16)*g,g=1,l=void 0,k=""):k+=d;return c},i={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},o={Unicode:{Courier:i,"Courier-Bold":i,"Courier-BoldOblique":i,"Courier-Oblique":i,Helvetica:i,"Helvetica-Bold":i,"Helvetica-BoldOblique":i,"Helvetica-Oblique":i,"Times-Roman":i,"Times-Bold":i,"Times-BoldItalic":i,"Times-Italic":i}},h={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};m.events.push(["addFont",function(r){var a=r.font,n=h.Unicode[a.postScriptName];n&&(a.metadata.Unicode={},a.metadata.Unicode.widths=n.widths,a.metadata.Unicode.kerning=n.kerning);var l=o.Unicode[a.postScriptName];l&&(a.metadata.Unicode.encoding=l,a.encoding=l.codePages[0])}])}(xe.API),function(m){var s=function(p){for(var y=p.length,w=new Uint8Array(y),b=0;b<y;b++)w[b]=p.charCodeAt(b);return w};m.API.events.push(["addFont",function(p){var y=void 0,w=p.font,b=p.instance;if(!w.isStandardFont){if(b===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+w.postScriptName+"').");if(typeof(y=b.existsFileInVFS(w.postScriptName)===!1?b.loadFile(w.postScriptName):b.getFileFromVFS(w.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+w.postScriptName+"').");(function(S,u){u=/^\x00\x01\x00\x00/.test(u)?s(u):s(xc(u)),S.metadata=m.API.TTFFont.open(u),S.metadata.Unicode=S.metadata.Unicode||{encoding:{},kerning:{},widths:[]},S.metadata.glyIdsUsed=[0]})(w,y)}}])}(xe),function(m){function s(){return(Ce.canvg?Promise.resolve(Ce.canvg):Sd(()=>import("./index.es-CNZB3Kkv.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p})}xe.API.addSvgAsImage=function(p,y,w,b,S,u,i,o){if(isNaN(y)||isNaN(w))throw vi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(b)||isNaN(S))throw vi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=b,h.height=S;var r=h.getContext("2d");r.fillStyle="#fff",r.fillRect(0,0,h.width,h.height);var a={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},n=this;return s().then(function(l){return l.fromString(r,p,a)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(l){return l.render(a)}).then(function(){n.addImage(h.toDataURL("image/jpeg",1),y,w,b,S,i,o)})}}(),xe.API.putTotalPages=function(m){var s,p=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(s=new RegExp(m,"g"),p=this.internal.getNumberOfPages()):(s=new RegExp(this.pdfEscape16(m,this.internal.getFont()),"g"),p=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var y=1;y<=this.internal.getNumberOfPages();y++)for(var w=0;w<this.internal.pages[y].length;w++)this.internal.pages[y][w]=this.internal.pages[y][w].replace(s,p);return this},xe.API.viewerPreferences=function(m,s){var p;m=m||{},s=s||!1;var y,w,b,S={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(S),i=[],o=0,h=0,r=0;function a(l,d){var c,g=!1;for(c=0;c<l.length;c+=1)l[c]===d&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(S)),this.internal.viewerpreferences.isSubscribed=!1),p=this.internal.viewerpreferences.configuration,m==="reset"||s===!0){var n=u.length;for(r=0;r<n;r+=1)p[u[r]].value=p[u[r]].defaultValue,p[u[r]].explicitSet=!1}if(ui(m)==="object"){for(w in m)if(b=m[w],a(u,w)&&b!==void 0){if(p[w].type==="boolean"&&typeof b=="boolean")p[w].value=b;else if(p[w].type==="name"&&a(p[w].valueSet,b))p[w].value=b;else if(p[w].type==="integer"&&Number.isInteger(b))p[w].value=b;else if(p[w].type==="array"){for(o=0;o<b.length;o+=1)if(y=!0,b[o].length===1&&typeof b[o][0]=="number")i.push(String(b[o]-1));else if(b[o].length>1){for(h=0;h<b[o].length;h+=1)typeof b[o][h]!="number"&&(y=!1);y===!0&&i.push([b[o][0]-1,b[o][1]-1].join(" "))}p[w].value="["+i.join(" ")+"]"}else p[w].value=p[w].defaultValue;p[w].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var l,d=[];for(l in p)p[l].explicitSet===!0&&(p[l].type==="name"?d.push("/"+l+" /"+p[l].value):d.push("/"+l+" "+p[l].value));d.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+d.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=p,this},function(m){var s=function(){var y='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',w=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),b=unescape(encodeURIComponent(y)),S=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),o=b.length+S.length+u.length+w.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(w+b+S+u+i),this.internal.write("endstream"),this.internal.write("endobj")},p=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};m.addMetadata=function(y,w){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:y,namespaceuri:w||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",p),this.internal.events.subscribe("postPutResources",s)),this}}(xe.API),function(m){var s=m.API,p=s.pdfEscape16=function(b,S){for(var u,i=S.metadata.Unicode.widths,o=["","0","00","000","0000"],h=[""],r=0,a=b.length;r<a;++r){if(u=S.metadata.characterToGlyph(b.charCodeAt(r)),S.metadata.glyIdsUsed.push(u),S.metadata.toUnicode[u]=b.charCodeAt(r),i.indexOf(u)==-1&&(i.push(u),i.push([parseInt(S.metadata.widthOfGlyph(u),10)])),u=="0")return h.join("");u=u.toString(16),h.push(o[4-u.length],u)}return h.join("")},y=function(b){var S,u,i,o,h,r,a;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,i=[],r=0,a=(u=Object.keys(b).sort(function(n,l){return n-l})).length;r<a;r++)S=u[r],i.length>=100&&(h+=`
`+i.length+` beginbfchar
`+i.join(`
`)+`
endbfchar`,i=[]),b[S]!==void 0&&b[S]!==null&&typeof b[S].toString=="function"&&(o=("0000"+b[S].toString(16)).slice(-4),S=("0000"+(+S).toString(16)).slice(-4),i.push("<"+S+"><"+o+">"));return i.length&&(h+=`
`+i.length+` beginbfchar
`+i.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};s.events.push(["putFont",function(b){(function(S){var u=S.font,i=S.out,o=S.newObject,h=S.putStream;if(u.metadata instanceof m.API.TTFFont&&u.encoding==="Identity-H"){for(var r=u.metadata.Unicode.widths,a=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),n="",l=0;l<a.length;l++)n+=String.fromCharCode(a[l]);var d=o();h({data:n,addLength1:!0,objectId:d}),i("endobj");var c=o();h({data:y(u.metadata.toUnicode),addLength1:!0,objectId:c}),i("endobj");var g=o();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+mu(u.fontName)),i("/FontFile2 "+d+" 0 R"),i("/FontBBox "+m.API.PDFObject.convert(u.metadata.bbox)),i("/Flags "+u.metadata.flags),i("/StemV "+u.metadata.stemV),i("/ItalicAngle "+u.metadata.italicAngle),i("/Ascent "+u.metadata.ascender),i("/Descent "+u.metadata.decender),i("/CapHeight "+u.metadata.capHeight),i(">>"),i("endobj");var _=o();i("<<"),i("/Type /Font"),i("/BaseFont /"+mu(u.fontName)),i("/FontDescriptor "+g+" 0 R"),i("/W "+m.API.PDFObject.convert(r)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+u.encoding+")"),i(">>"),i(">>"),i("endobj"),u.objectNumber=o(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+c+" 0 R"),i("/BaseFont /"+mu(u.fontName)),i("/Encoding /"+u.encoding),i("/DescendantFonts ["+_+" 0 R]"),i(">>"),i("endobj"),u.isAlreadyPutted=!0}})(b)}]),s.events.push(["putFont",function(b){(function(S){var u=S.font,i=S.out,o=S.newObject,h=S.putStream;if(u.metadata instanceof m.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var r=u.metadata.rawData,a="",n=0;n<r.length;n++)a+=String.fromCharCode(r[n]);var l=o();h({data:a,addLength1:!0,objectId:l}),i("endobj");var d=o();h({data:y(u.metadata.toUnicode),addLength1:!0,objectId:d}),i("endobj");var c=o();i("<<"),i("/Descent "+u.metadata.decender),i("/CapHeight "+u.metadata.capHeight),i("/StemV "+u.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+l+" 0 R"),i("/Flags 96"),i("/FontBBox "+m.API.PDFObject.convert(u.metadata.bbox)),i("/FontName /"+mu(u.fontName)),i("/ItalicAngle "+u.metadata.italicAngle),i("/Ascent "+u.metadata.ascender),i(">>"),i("endobj"),u.objectNumber=o();for(var g=0;g<u.metadata.hmtx.widths.length;g++)u.metadata.hmtx.widths[g]=parseInt(u.metadata.hmtx.widths[g]*(1e3/u.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+d+" 0 R/BaseFont/"+mu(u.fontName)+"/FontDescriptor "+c+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+m.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),i("endobj"),u.isAlreadyPutted=!0}})(b)}]);var w=function(b){var S,u=b.text||"",i=b.x,o=b.y,h=b.options||{},r=b.mutex||{},a=r.pdfEscape,n=r.activeFontKey,l=r.fonts,d=n,c="",g=0,_="",C=l[d].encoding;if(l[d].encoding!=="Identity-H")return{text:u,x:i,y:o,options:h,mutex:r};for(_=u,d=n,Array.isArray(u)&&(_=u[0]),g=0;g<_.length;g+=1)l[d].metadata.hasOwnProperty("cmap")&&(S=l[d].metadata.cmap.unicode.codeMap[_[g].charCodeAt(0)]),S||_[g].charCodeAt(0)<256&&l[d].metadata.hasOwnProperty("Unicode")?c+=_[g]:c+="";var O="";return parseInt(d.slice(1))<14||C==="WinAnsiEncoding"?O=a(c,d).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(O=p(c,l[d])),r.isHex=!0,{text:O,x:i,y:o,options:h,mutex:r}};s.events.push(["postProcessText",function(b){var S=b.text||"",u=[],i={text:S,x:b.x,y:b.y,options:b.options,mutex:b.mutex};if(Array.isArray(S)){var o=0;for(o=0;o<S.length;o+=1)Array.isArray(S[o])&&S[o].length===3?u.push([w(Object.assign({},i,{text:S[o][0]})).text,S[o][1],S[o][2]]):u.push(w(Object.assign({},i,{text:S[o]})).text);b.text=u}else b.text=w(Object.assign({},i,{text:S})).text}])}(xe),function(m){var s=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};m.existsFileInVFS=function(p){return s.call(this),this.internal.vFS[p]!==void 0},m.addFileToVFS=function(p,y){return s.call(this),this.internal.vFS[p]=y,this},m.getFileFromVFS=function(p){return s.call(this),this.internal.vFS[p]!==void 0?this.internal.vFS[p]:null}}(xe.API),function(m){m.__bidiEngine__=m.prototype.__bidiEngine__=function(y){var w,b,S,u,i,o,h,r=s,a=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],n=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],l={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},d={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},c=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,C=0;this.__bidiEngine__={};var O=function(G){var B=G.charCodeAt(),it=B>>8,M=d[it];return M!==void 0?r[256*M+(255&B)]:it===252||it===253?"AL":g.test(it)?"L":it===8?"R":"N"},k=function(G){for(var B,it=0;it<G.length;it++){if((B=O(G.charAt(it)))==="L")return!1;if(B==="R")return!0}return!1},F=function(G,B,it,M){var mt,st,ut,vt,W=B[M];switch(W){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(W="AN");break;case"AL":_=!0,W="R";break;case"WS":W="N";break;case"CS":M<1||M+1>=B.length||(mt=it[M-1])!=="EN"&&mt!=="AN"||(st=B[M+1])!=="EN"&&st!=="AN"?W="N":_&&(st="AN"),W=st===mt?st:"N";break;case"ES":W=(mt=M>0?it[M-1]:"B")==="EN"&&M+1<B.length&&B[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&it[M-1]==="EN"){W="EN";break}if(_){W="N";break}for(ut=M+1,vt=B.length;ut<vt&&B[ut]==="ET";)ut++;W=ut<vt&&B[ut]==="EN"?"EN":"N";break;case"NSM":if(S&&!u){for(vt=B.length,ut=M+1;ut<vt&&B[ut]==="NSM";)ut++;if(ut<vt){var Y=G[M],H=Y>=1425&&Y<=2303||Y===64286;if(mt=B[ut],H&&(mt==="R"||mt==="AL")){W="R";break}}}W=M<1||(mt=B[M-1])==="B"?"N":it[M-1];break;case"B":_=!1,w=!0,W=C;break;case"S":b=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":W="N"}return W},z=function(G,B,it){var M=G.split("");return it&&q(M,it,{hiLevel:C}),M.reverse(),B&&B.reverse(),M.join("")},q=function(G,B,it){var M,mt,st,ut,vt,W=-1,Y=G.length,H=0,N=[],U=C?n:a,R=[];for(_=!1,w=!1,b=!1,mt=0;mt<Y;mt++)R[mt]=O(G[mt]);for(st=0;st<Y;st++){if(vt=H,N[st]=F(G,R,N,st),M=240&(H=U[vt][l[N[st]]]),H&=15,B[st]=ut=U[H][5],M>0)if(M===16){for(mt=W;mt<st;mt++)B[mt]=1;W=-1}else W=-1;if(U[H][6])W===-1&&(W=st);else if(W>-1){for(mt=W;mt<st;mt++)B[mt]=ut;W=-1}R[st]==="B"&&(B[st]=0),it.hiLevel|=ut}b&&function(P,V,J){for(var ht=0;ht<J;ht++)if(P[ht]==="S"){V[ht]=C;for(var dt=ht-1;dt>=0&&P[dt]==="WS";dt--)V[dt]=C}}(R,B,Y)},Q=function(G,B,it,M,mt){if(!(mt.hiLevel<G)){if(G===1&&C===1&&!w)return B.reverse(),void(it&&it.reverse());for(var st,ut,vt,W,Y=B.length,H=0;H<Y;){if(M[H]>=G){for(vt=H+1;vt<Y&&M[vt]>=G;)vt++;for(W=H,ut=vt-1;W<ut;W++,ut--)st=B[W],B[W]=B[ut],B[ut]=st,it&&(st=it[W],it[W]=it[ut],it[ut]=st);H=vt}H++}}},gt=function(G,B,it){var M=G.split(""),mt={hiLevel:C};return it||(it=[]),q(M,it,mt),function(st,ut,vt){if(vt.hiLevel!==0&&h)for(var W,Y=0;Y<st.length;Y++)ut[Y]===1&&(W=c.indexOf(st[Y]))>=0&&(st[Y]=c[W+1])}(M,it,mt),Q(2,M,B,it,mt),Q(1,M,B,it,mt),M.join("")};return this.__bidiEngine__.doBidiReorder=function(G,B,it){if(function(mt,st){if(st)for(var ut=0;ut<mt.length;ut++)st[ut]=ut;u===void 0&&(u=k(mt)),o===void 0&&(o=k(mt))}(G,B),S||!i||o)if(S&&i&&u^o)C=u?1:0,G=z(G,B,it);else if(!S&&i&&o)C=u?1:0,G=gt(G,B,it),G=z(G,B);else if(!S||u||i||o){if(S&&!i&&u^o)G=z(G,B),u?(C=0,G=gt(G,B,it)):(C=1,G=gt(G,B,it),G=z(G,B));else if(S&&u&&!i&&o)C=1,G=gt(G,B,it),G=z(G,B);else if(!S&&!i&&u^o){var M=h;u?(C=1,G=gt(G,B,it),C=0,h=!1,G=gt(G,B,it),h=M):(C=0,G=gt(G,B,it),G=z(G,B),C=1,h=!1,G=gt(G,B,it),h=M,G=z(G,B))}}else C=0,G=gt(G,B,it);else C=u?1:0,G=gt(G,B,it);return G},this.__bidiEngine__.setOptions=function(G){G&&(S=G.isInputVisual,i=G.isOutputVisual,u=G.isInputRtl,o=G.isOutputRtl,h=G.isSymmetricSwapping)},this.__bidiEngine__.setOptions(y),this.__bidiEngine__};var s=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],p=new m.__bidiEngine__({isInputVisual:!0});m.API.events.push(["postProcessText",function(y){var w=y.text;y.x,y.y;var b=y.options||{};y.mutex,b.lang;var S=[];if(b.isInputVisual=typeof b.isInputVisual!="boolean"||b.isInputVisual,p.setOptions(b),Object.prototype.toString.call(w)==="[object Array]"){var u=0;for(S=[],u=0;u<w.length;u+=1)Object.prototype.toString.call(w[u])==="[object Array]"?S.push([p.doBidiReorder(w[u][0]),w[u][1],w[u][2]]):S.push([p.doBidiReorder(w[u])]);y.text=S}else y.text=p.doBidiReorder(w);p.setOptions({isInputVisual:!0})}])}(xe),xe.API.TTFFont=function(){function m(s){var p;if(this.rawData=s,p=this.contents=new Fo(s),this.contents.pos=4,p.readString(4)==="ttcf")throw new Error("TTCF not supported.");p.pos=0,this.parse(),this.subset=new A5(this),this.registerTTF()}return m.open=function(s){return new m(s)},m.prototype.parse=function(){return this.directory=new f5(this.contents),this.head=new d5(this),this.name=new y5(this),this.cmap=new v1(this),this.toUnicode={},this.hhea=new p5(this),this.maxp=new b5(this),this.hmtx=new _5(this),this.post=new m5(this),this.os2=new g5(this),this.loca=new C5(this),this.glyf=new w5(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},m.prototype.registerTTF=function(){var s,p,y,w,b;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var S,u,i,o;for(o=[],S=0,u=(i=this.bbox).length;S<u;S++)s=i[S],o.push(Math.round(s*this.scaleFactor));return o}).call(this),this.stemV=0,this.post.exists?(y=255&(w=this.post.italic_angle),(32768&(p=w>>16))!=0&&(p=-(1+(65535^p))),this.italicAngle=+(p+"."+y)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(b=this.familyClass)===1||b===2||b===3||b===4||b===5||b===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},m.prototype.characterToGlyph=function(s){var p;return((p=this.cmap.unicode)!=null?p.codeMap[s]:void 0)||0},m.prototype.widthOfGlyph=function(s){var p;return p=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(s).advance*p},m.prototype.widthOfString=function(s,p,y){var w,b,S,u;for(S=0,b=0,u=(s=""+s).length;0<=u?b<u:b>u;b=0<=u?++b:--b)w=s.charCodeAt(b),S+=this.widthOfGlyph(this.characterToGlyph(w))+y*(1e3/p)||0;return S*(p/1e3)},m.prototype.lineHeight=function(s,p){var y;return p==null&&(p=!1),y=p?this.lineGap:0,(this.ascender+y-this.decender)/1e3*s},m}();var _a,Fo=function(){function m(s){this.data=s??[],this.pos=0,this.length=this.data.length}return m.prototype.readByte=function(){return this.data[this.pos++]},m.prototype.writeByte=function(s){return this.data[this.pos++]=s},m.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},m.prototype.writeUInt32=function(s){return this.writeByte(s>>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},m.prototype.readInt32=function(){var s;return(s=this.readUInt32())>=2147483648?s-4294967296:s},m.prototype.writeInt32=function(s){return s<0&&(s+=4294967296),this.writeUInt32(s)},m.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},m.prototype.writeUInt16=function(s){return this.writeByte(s>>8&255),this.writeByte(255&s)},m.prototype.readInt16=function(){var s;return(s=this.readUInt16())>=32768?s-65536:s},m.prototype.writeInt16=function(s){return s<0&&(s+=65536),this.writeUInt16(s)},m.prototype.readString=function(s){var p,y;for(y=[],p=0;0<=s?p<s:p>s;p=0<=s?++p:--p)y[p]=String.fromCharCode(this.readByte());return y.join("")},m.prototype.writeString=function(s){var p,y,w;for(w=[],p=0,y=s.length;0<=y?p<y:p>y;p=0<=y?++p:--p)w.push(this.writeByte(s.charCodeAt(p)));return w},m.prototype.readShort=function(){return this.readInt16()},m.prototype.writeShort=function(s){return this.writeInt16(s)},m.prototype.readLongLong=function(){var s,p,y,w,b,S,u,i;return s=this.readByte(),p=this.readByte(),y=this.readByte(),w=this.readByte(),b=this.readByte(),S=this.readByte(),u=this.readByte(),i=this.readByte(),128&s?-1*(72057594037927940*(255^s)+281474976710656*(255^p)+1099511627776*(255^y)+4294967296*(255^w)+16777216*(255^b)+65536*(255^S)+256*(255^u)+(255^i)+1):72057594037927940*s+281474976710656*p+1099511627776*y+4294967296*w+16777216*b+65536*S+256*u+i},m.prototype.writeLongLong=function(s){var p,y;return p=Math.floor(s/4294967296),y=4294967295&s,this.writeByte(p>>24&255),this.writeByte(p>>16&255),this.writeByte(p>>8&255),this.writeByte(255&p),this.writeByte(y>>24&255),this.writeByte(y>>16&255),this.writeByte(y>>8&255),this.writeByte(255&y)},m.prototype.readInt=function(){return this.readInt32()},m.prototype.writeInt=function(s){return this.writeInt32(s)},m.prototype.read=function(s){var p,y;for(p=[],y=0;0<=s?y<s:y>s;y=0<=s?++y:--y)p.push(this.readByte());return p},m.prototype.write=function(s){var p,y,w,b;for(b=[],y=0,w=s.length;y<w;y++)p=s[y],b.push(this.writeByte(p));return b},m}(),f5=function(){var m;function s(p){var y,w,b;for(this.scalarType=p.readInt(),this.tableCount=p.readShort(),this.searchRange=p.readShort(),this.entrySelector=p.readShort(),this.rangeShift=p.readShort(),this.tables={},w=0,b=this.tableCount;0<=b?w<b:w>b;w=0<=b?++w:--w)y={tag:p.readString(4),checksum:p.readInt(),offset:p.readInt(),length:p.readInt()},this.tables[y.tag]=y}return s.prototype.encode=function(p){var y,w,b,S,u,i,o,h,r,a,n,l,d;for(d in n=Object.keys(p).length,i=Math.log(2),r=16*Math.floor(Math.log(n)/i),S=Math.floor(r/i),h=16*n-r,(w=new Fo).writeInt(this.scalarType),w.writeShort(n),w.writeShort(r),w.writeShort(S),w.writeShort(h),b=16*n,o=w.pos+b,u=null,l=[],p)for(a=p[d],w.writeString(d),w.writeInt(m(a)),w.writeInt(o),w.writeInt(a.length),l=l.concat(a),d==="head"&&(u=o),o+=a.length;o%4;)l.push(0),o++;return w.write(l),y=2981146554-m(w.data),w.pos=u+8,w.writeUInt32(y),w.data},m=function(p){var y,w,b,S;for(p=y1.call(p);p.length%4;)p.push(0);for(b=new Fo(p),w=0,y=0,S=p.length;y<S;y=y+=4)w+=b.readUInt32();return 4294967295&w},s}(),h5={}.hasOwnProperty,ss=function(m,s){for(var p in s)h5.call(s,p)&&(m[p]=s[p]);function y(){this.constructor=m}return y.prototype=s.prototype,m.prototype=new y,m.__super__=s.prototype,m};_a=function(){function m(s){var p;this.file=s,p=this.file.directory.tables[this.tag],this.exists=!!p,p&&(this.offset=p.offset,this.length=p.length,this.parse(this.file.contents))}return m.prototype.parse=function(){},m.prototype.encode=function(){},m.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},m}();var d5=function(m){function s(){return s.__super__.constructor.apply(this,arguments)}return ss(s,_a),s.prototype.tag="head",s.prototype.parse=function(p){return p.pos=this.offset,this.version=p.readInt(),this.revision=p.readInt(),this.checkSumAdjustment=p.readInt(),this.magicNumber=p.readInt(),this.flags=p.readShort(),this.unitsPerEm=p.readShort(),this.created=p.readLongLong(),this.modified=p.readLongLong(),this.xMin=p.readShort(),this.yMin=p.readShort(),this.xMax=p.readShort(),this.yMax=p.readShort(),this.macStyle=p.readShort(),this.lowestRecPPEM=p.readShort(),this.fontDirectionHint=p.readShort(),this.indexToLocFormat=p.readShort(),this.glyphDataFormat=p.readShort()},s.prototype.encode=function(p){var y;return(y=new Fo).writeInt(this.version),y.writeInt(this.revision),y.writeInt(this.checkSumAdjustment),y.writeInt(this.magicNumber),y.writeShort(this.flags),y.writeShort(this.unitsPerEm),y.writeLongLong(this.created),y.writeLongLong(this.modified),y.writeShort(this.xMin),y.writeShort(this.yMin),y.writeShort(this.xMax),y.writeShort(this.yMax),y.writeShort(this.macStyle),y.writeShort(this.lowestRecPPEM),y.writeShort(this.fontDirectionHint),y.writeShort(p),y.writeShort(this.glyphDataFormat),y.data},s}(),N0=function(){function m(s,p){var y,w,b,S,u,i,o,h,r,a,n,l,d,c,g,_,C;switch(this.platformID=s.readUInt16(),this.encodingID=s.readShort(),this.offset=p+s.readInt(),r=s.pos,s.pos=this.offset,this.format=s.readUInt16(),this.length=s.readUInt16(),this.language=s.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(i=0;i<256;++i)this.codeMap[i]=s.readByte();break;case 4:for(n=s.readUInt16(),a=n/2,s.pos+=6,b=function(){var O,k;for(k=[],i=O=0;0<=a?O<a:O>a;i=0<=a?++O:--O)k.push(s.readUInt16());return k}(),s.pos+=2,d=function(){var O,k;for(k=[],i=O=0;0<=a?O<a:O>a;i=0<=a?++O:--O)k.push(s.readUInt16());return k}(),o=function(){var O,k;for(k=[],i=O=0;0<=a?O<a:O>a;i=0<=a?++O:--O)k.push(s.readUInt16());return k}(),h=function(){var O,k;for(k=[],i=O=0;0<=a?O<a:O>a;i=0<=a?++O:--O)k.push(s.readUInt16());return k}(),w=(this.length-s.pos+this.offset)/2,u=function(){var O,k;for(k=[],i=O=0;0<=w?O<w:O>w;i=0<=w?++O:--O)k.push(s.readUInt16());return k}(),i=g=0,C=b.length;g<C;i=++g)for(c=b[i],y=_=l=d[i];l<=c?_<=c:_>=c;y=l<=c?++_:--_)h[i]===0?S=y+o[i]:(S=u[h[i]/2+(y-l)-(a-i)]||0)!==0&&(S+=o[i]),this.codeMap[y]=65535&S}s.pos=r}return m.encode=function(s,p){var y,w,b,S,u,i,o,h,r,a,n,l,d,c,g,_,C,O,k,F,z,q,Q,gt,G,B,it,M,mt,st,ut,vt,W,Y,H,N,U,R,P,V,J,ht,dt,At,wt,Nt;switch(M=new Fo,S=Object.keys(s).sort(function(xt,j){return xt-j}),p){case"macroman":for(d=0,c=function(){var xt=[];for(l=0;l<256;++l)xt.push(0);return xt}(),_={0:0},b={},mt=0,W=S.length;mt<W;mt++)_[dt=s[w=S[mt]]]==null&&(_[dt]=++d),b[w]={old:s[w],new:_[s[w]]},c[w]=_[s[w]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(c),{charMap:b,subtable:M.data,maxGlyphID:d+1};case"unicode":for(B=[],r=[],C=0,_={},y={},g=o=null,st=0,Y=S.length;st<Y;st++)_[k=s[w=S[st]]]==null&&(_[k]=++C),y[w]={old:k,new:_[k]},u=_[k]-w,g!=null&&u===o||(g&&r.push(g),B.push(w),o=u),g=w;for(g&&r.push(g),r.push(65535),B.push(65535),gt=2*(Q=B.length),q=2*Math.pow(Math.log(Q)/Math.LN2,2),a=Math.log(q/2)/Math.LN2,z=2*Q-q,i=[],F=[],n=[],l=ut=0,H=B.length;ut<H;l=++ut){if(G=B[l],h=r[l],G===65535){i.push(0),F.push(0);break}if(G-(it=y[G].new)>=32768)for(i.push(0),F.push(2*(n.length+Q-l)),w=vt=G;G<=h?vt<=h:vt>=h;w=G<=h?++vt:--vt)n.push(y[w].new);else i.push(it-G),F.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*Q+2*n.length),M.writeUInt16(0),M.writeUInt16(gt),M.writeUInt16(q),M.writeUInt16(a),M.writeUInt16(z),J=0,N=r.length;J<N;J++)w=r[J],M.writeUInt16(w);for(M.writeUInt16(0),ht=0,U=B.length;ht<U;ht++)w=B[ht],M.writeUInt16(w);for(At=0,R=i.length;At<R;At++)u=i[At],M.writeUInt16(u);for(wt=0,P=F.length;wt<P;wt++)O=F[wt],M.writeUInt16(O);for(Nt=0,V=n.length;Nt<V;Nt++)d=n[Nt],M.writeUInt16(d);return{charMap:y,subtable:M.data,maxGlyphID:C+1}}},m}(),v1=function(m){function s(){return s.__super__.constructor.apply(this,arguments)}return ss(s,_a),s.prototype.tag="cmap",s.prototype.parse=function(p){var y,w,b;for(p.pos=this.offset,this.version=p.readUInt16(),b=p.readUInt16(),this.tables=[],this.unicode=null,w=0;0<=b?w<b:w>b;w=0<=b?++w:--w)y=new N0(p,this.offset),this.tables.push(y),y.isUnicode&&this.unicode==null&&(this.unicode=y);return!0},s.encode=function(p,y){var w,b;return y==null&&(y="macroman"),w=N0.encode(p,y),(b=new Fo).writeUInt16(0),b.writeUInt16(1),w.table=b.data.concat(w.subtable),w},s}(),p5=function(m){function s(){return s.__super__.constructor.apply(this,arguments)}return ss(s,_a),s.prototype.tag="hhea",s.prototype.parse=function(p){return p.pos=this.offset,this.version=p.readInt(),this.ascender=p.readShort(),this.decender=p.readShort(),this.lineGap=p.readShort(),this.advanceWidthMax=p.readShort(),this.minLeftSideBearing=p.readShort(),this.minRightSideBearing=p.readShort(),this.xMaxExtent=p.readShort(),this.caretSlopeRise=p.readShort(),this.caretSlopeRun=p.readShort(),this.caretOffset=p.readShort(),p.pos+=8,this.metricDataFormat=p.readShort(),this.numberOfMetrics=p.readUInt16()},s}(),g5=function(m){function s(){return s.__super__.constructor.apply(this,arguments)}return ss(s,_a),s.prototype.tag="OS/2",s.prototype.parse=function(p){if(p.pos=this.offset,this.version=p.readUInt16(),this.averageCharWidth=p.readShort(),this.weightClass=p.readUInt16(),this.widthClass=p.readUInt16(),this.type=p.readShort(),this.ySubscriptXSize=p.readShort(),this.ySubscriptYSize=p.readShort(),this.ySubscriptXOffset=p.readShort(),this.ySubscriptYOffset=p.readShort(),this.ySuperscriptXSize=p.readShort(),this.ySuperscriptYSize=p.readShort(),this.ySuperscriptXOffset=p.readShort(),this.ySuperscriptYOffset=p.readShort(),this.yStrikeoutSize=p.readShort(),this.yStrikeoutPosition=p.readShort(),this.familyClass=p.readShort(),this.panose=function(){var y,w;for(w=[],y=0;y<10;++y)w.push(p.readByte());return w}(),this.charRange=function(){var y,w;for(w=[],y=0;y<4;++y)w.push(p.readInt());return w}(),this.vendorID=p.readString(4),this.selection=p.readShort(),this.firstCharIndex=p.readShort(),this.lastCharIndex=p.readShort(),this.version>0&&(this.ascent=p.readShort(),this.descent=p.readShort(),this.lineGap=p.readShort(),this.winAscent=p.readShort(),this.winDescent=p.readShort(),this.codePageRange=function(){var y,w;for(w=[],y=0;y<2;y=++y)w.push(p.readInt());return w}(),this.version>1))return this.xHeight=p.readShort(),this.capHeight=p.readShort(),this.defaultChar=p.readShort(),this.breakChar=p.readShort(),this.maxContext=p.readShort()},s}(),m5=function(m){function s(){return s.__super__.constructor.apply(this,arguments)}return ss(s,_a),s.prototype.tag="post",s.prototype.parse=function(p){var y,w,b;switch(p.pos=this.offset,this.format=p.readInt(),this.italicAngle=p.readInt(),this.underlinePosition=p.readShort(),this.underlineThickness=p.readShort(),this.isFixedPitch=p.readInt(),this.minMemType42=p.readInt(),this.maxMemType42=p.readInt(),this.minMemType1=p.readInt(),this.maxMemType1=p.readInt(),this.format){case 65536:break;case 131072:var S;for(w=p.readUInt16(),this.glyphNameIndex=[],S=0;0<=w?S<w:S>w;S=0<=w?++S:--S)this.glyphNameIndex.push(p.readUInt16());for(this.names=[],b=[];p.pos<this.offset+this.length;)y=p.readByte(),b.push(this.names.push(p.readString(y)));return b;case 151552:return w=p.readUInt16(),this.offsets=p.read(w);case 196608:break;case 262144:return this.map=(function(){var u,i,o;for(o=[],S=u=0,i=this.file.maxp.numGlyphs;0<=i?u<i:u>i;S=0<=i?++u:--u)o.push(p.readUInt32());return o}).call(this)}},s}(),v5=function(m,s){this.raw=m,this.length=m.length,this.platformID=s.platformID,this.encodingID=s.encodingID,this.languageID=s.languageID},y5=function(m){function s(){return s.__super__.constructor.apply(this,arguments)}return ss(s,_a),s.prototype.tag="name",s.prototype.parse=function(p){var y,w,b,S,u,i,o,h,r,a,n;for(p.pos=this.offset,p.readShort(),y=p.readShort(),i=p.readShort(),w=[],S=0;0<=y?S<y:S>y;S=0<=y?++S:--S)w.push({platformID:p.readShort(),encodingID:p.readShort(),languageID:p.readShort(),nameID:p.readShort(),length:p.readShort(),offset:this.offset+i+p.readShort()});for(o={},S=r=0,a=w.length;r<a;S=++r)b=w[S],p.pos=b.offset,h=p.readString(b.length),u=new v5(h,b),o[n=b.nameID]==null&&(o[n]=[]),o[b.nameID].push(u);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},s}(),b5=function(m){function s(){return s.__super__.constructor.apply(this,arguments)}return ss(s,_a),s.prototype.tag="maxp",s.prototype.parse=function(p){return p.pos=this.offset,this.version=p.readInt(),this.numGlyphs=p.readUInt16(),this.maxPoints=p.readUInt16(),this.maxContours=p.readUInt16(),this.maxCompositePoints=p.readUInt16(),this.maxComponentContours=p.readUInt16(),this.maxZones=p.readUInt16(),this.maxTwilightPoints=p.readUInt16(),this.maxStorage=p.readUInt16(),this.maxFunctionDefs=p.readUInt16(),this.maxInstructionDefs=p.readUInt16(),this.maxStackElements=p.readUInt16(),this.maxSizeOfInstructions=p.readUInt16(),this.maxComponentElements=p.readUInt16(),this.maxComponentDepth=p.readUInt16()},s}(),_5=function(m){function s(){return s.__super__.constructor.apply(this,arguments)}return ss(s,_a),s.prototype.tag="hmtx",s.prototype.parse=function(p){var y,w,b,S,u,i,o;for(p.pos=this.offset,this.metrics=[],y=0,i=this.file.hhea.numberOfMetrics;0<=i?y<i:y>i;y=0<=i?++y:--y)this.metrics.push({advance:p.readUInt16(),lsb:p.readInt16()});for(b=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,r;for(r=[],y=h=0;0<=b?h<b:h>b;y=0<=b?++h:--h)r.push(p.readInt16());return r}(),this.widths=(function(){var h,r,a,n;for(n=[],h=0,r=(a=this.metrics).length;h<r;h++)S=a[h],n.push(S.advance);return n}).call(this),w=this.widths[this.widths.length-1],o=[],y=u=0;0<=b?u<b:u>b;y=0<=b?++u:--u)o.push(this.widths.push(w));return o},s.prototype.forGlyph=function(p){return p in this.metrics?this.metrics[p]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[p-this.metrics.length]}},s}(),y1=[].slice,w5=function(m){function s(){return s.__super__.constructor.apply(this,arguments)}return ss(s,_a),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(p){var y,w,b,S,u,i,o,h,r,a;return p in this.cache?this.cache[p]:(S=this.file.loca,y=this.file.contents,w=S.indexOf(p),(b=S.lengthOf(p))===0?this.cache[p]=null:(y.pos=this.offset+w,u=(i=new Fo(y.read(b))).readShort(),h=i.readShort(),a=i.readShort(),o=i.readShort(),r=i.readShort(),this.cache[p]=u===-1?new S5(i,h,a,o,r):new x5(i,u,h,a,o,r),this.cache[p]))},s.prototype.encode=function(p,y,w){var b,S,u,i,o;for(u=[],S=[],i=0,o=y.length;i<o;i++)b=p[y[i]],S.push(u.length),b&&(u=u.concat(b.encode(w)));return S.push(u.length),{table:u,offsets:S}},s}(),x5=function(){function m(s,p,y,w,b,S){this.raw=s,this.numberOfContours=p,this.xMin=y,this.yMin=w,this.xMax=b,this.yMax=S,this.compound=!1}return m.prototype.encode=function(){return this.raw.data},m}(),S5=function(){function m(s,p,y,w,b){var S,u;for(this.raw=s,this.xMin=p,this.yMin=y,this.xMax=w,this.yMax=b,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],S=this.raw;u=S.readShort(),this.glyphOffsets.push(S.pos),this.glyphIDs.push(S.readUInt16()),32&u;)S.pos+=1&u?4:2,128&u?S.pos+=8:64&u?S.pos+=4:8&u&&(S.pos+=2)}return m.prototype.encode=function(){var s,p,y;for(p=new Fo(y1.call(this.raw.data)),s=0,y=this.glyphIDs.length;s<y;++s)p.pos=this.glyphOffsets[s];return p.data},m}(),C5=function(m){function s(){return s.__super__.constructor.apply(this,arguments)}return ss(s,_a),s.prototype.tag="loca",s.prototype.parse=function(p){var y,w;return p.pos=this.offset,y=this.file.head.indexToLocFormat,this.offsets=y===0?(function(){var b,S;for(S=[],w=0,b=this.length;w<b;w+=2)S.push(2*p.readUInt16());return S}).call(this):(function(){var b,S;for(S=[],w=0,b=this.length;w<b;w+=4)S.push(p.readUInt32());return S}).call(this)},s.prototype.indexOf=function(p){return this.offsets[p]},s.prototype.lengthOf=function(p){return this.offsets[p+1]-this.offsets[p]},s.prototype.encode=function(p,y){for(var w=new Uint32Array(this.offsets.length),b=0,S=0,u=0;u<w.length;++u)if(w[u]=b,S<y.length&&y[S]==u){++S,w[u]=b;var i=this.offsets[u],o=this.offsets[u+1]-i;o>0&&(b+=o)}for(var h=new Array(4*w.length),r=0;r<w.length;++r)h[4*r+3]=255&w[r],h[4*r+2]=(65280&w[r])>>8,h[4*r+1]=(16711680&w[r])>>16,h[4*r]=(4278190080&w[r])>>24;return h},s}(),A5=function(){function m(s){this.font=s,this.subset={},this.unicodes={},this.next=33}return m.prototype.generateCmap=function(){var s,p,y,w,b;for(p in w=this.font.cmap.tables[0].codeMap,s={},b=this.subset)y=b[p],s[p]=w[y];return s},m.prototype.glyphsFor=function(s){var p,y,w,b,S,u,i;for(w={},S=0,u=s.length;S<u;S++)w[b=s[S]]=this.font.glyf.glyphFor(b);for(b in p=[],w)(y=w[b])!=null&&y.compound&&p.push.apply(p,y.glyphIDs);if(p.length>0)for(b in i=this.glyphsFor(p))y=i[b],w[b]=y;return w},m.prototype.encode=function(s,p){var y,w,b,S,u,i,o,h,r,a,n,l,d,c,g;for(w in y=v1.encode(this.generateCmap(),"unicode"),S=this.glyphsFor(s),n={0:0},g=y.charMap)n[(i=g[w]).old]=i.new;for(l in a=y.maxGlyphID,S)l in n||(n[l]=a++);return h=function(_){var C,O;for(C in O={},_)O[_[C]]=C;return O}(n),r=Object.keys(h).sort(function(_,C){return _-C}),d=function(){var _,C,O;for(O=[],_=0,C=r.length;_<C;_++)u=r[_],O.push(h[u]);return O}(),b=this.font.glyf.encode(S,d,n),o=this.font.loca.encode(b.offsets,d),c={cmap:this.font.cmap.raw(),glyf:b.table,loca:o,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(p)},this.font.os2.exists&&(c["OS/2"]=this.font.os2.raw()),this.font.directory.encode(c)},m}();xe.API.PDFObject=function(){var m;function s(){}return m=function(p,y){return(Array(y+1).join("0")+p).slice(-y)},s.convert=function(p){var y,w,b,S;if(Array.isArray(p))return"["+function(){var u,i,o;for(o=[],u=0,i=p.length;u<i;u++)y=p[u],o.push(s.convert(y));return o}().join(" ")+"]";if(typeof p=="string")return"/"+p;if(p!=null&&p.isString)return"("+p+")";if(p instanceof Date)return"(D:"+m(p.getUTCFullYear(),4)+m(p.getUTCMonth(),2)+m(p.getUTCDate(),2)+m(p.getUTCHours(),2)+m(p.getUTCMinutes(),2)+m(p.getUTCSeconds(),2)+"Z)";if({}.toString.call(p)==="[object Object]"){for(w in b=["<<"],p)S=p[w],b.push("/"+w+" "+s.convert(S));return b.push(">>"),b.join(`
`)}return""+p},s}();const ns={A1:{width:594,height:841},A2:{width:420,height:594},A3:{width:297,height:420},A4:{width:210,height:297},A5:{width:148,height:210},B1:{width:707,height:1e3},B2:{width:500,height:707},B3:{width:353,height:500},B4:{width:250,height:353},B5:{width:176,height:250}},T5=({getSplitCanvases:m,paperSize:s,orientation:p})=>{const y=li(h=>h.images),[w,b]=Ht.useState(!1),[S,u]=Ht.useState(!1),i=async()=>{if(!(!m||!y.length)){b(!0);try{const h=await m();if(!(h!=null&&h.length))return;const r=new Hd;for(let n=0;n<h.length;n++){const l=await new Promise(d=>h[n].toBlob(d,"image/png"));r.file(`image_${n+1}.png`,l)}const a=await r.generateAsync({type:"blob"});Cc.saveAs(a,"split_images.zip")}finally{b(!1)}}},o=async()=>{if(!(!m||!y.length)){u(!0);try{const h=await m();if(!(h!=null&&h.length))return;const r=ns[s]||ns.A4,a=p==="portrait"?r.width:r.height,n=p==="portrait"?r.height:r.width,l=new xe({orientation:p,unit:"mm",format:[a,n]});h.forEach((d,c)=>{const g=d.toDataURL("image/png");l.addImage(g,"PNG",0,0,a,n),c<h.length-1&&l.addPage()}),l.save("split_output.pdf")}finally{u(!1)}}};return Rt.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[Rt.jsx("button",{onClick:i,className:`px-4 py-2 rounded text-white text-sm ${w?"bg-gray-600":"bg-[#10B981] hover:bg-[#0ea672]"}`,disabled:w||!y.length,children:w?"   ...":" ZIP "}),Rt.jsx("button",{onClick:o,className:`px-4 py-2 rounded text-white text-sm ${S?"bg-gray-600":"bg-purple-600 hover:bg-purple-700"}`,disabled:S||!y.length,children:S?" PDF  ...":" PDF "})]})},O5=({getCanvas:m})=>{const s=li(o=>o.images),p=li(o=>o.currentImageId),[y,w]=Ht.useState(!1),[b,S]=Ht.useState(!1),u=async()=>{if(!m||!p)return alert("  .");w(!0);try{const o=await m(p);if(!o)return;o.toBlob(h=>{if(h){const a=`${s.find(n=>n.id===p).name.replace(/\.[^/.]+$/,"")}_merged.png`;Cc.saveAs(h,a)}},"image/png")}finally{w(!1)}},i=async()=>{if(!m||!s.length)return alert("  .");S(!0);try{const o=new Hd;for(const r of s){const a=await m(r.id);if(!a)return;const n=await new Promise(d=>a.toBlob(d,"image/png")),l=`${r.name.replace(/\.[^/.]+$/,"")}_merged.png`;o.file(l,n)}const h=await o.generateAsync({type:"blob"});Cc.saveAs(h,"merged_images.zip")}finally{S(!1)}};return Rt.jsxs("div",{className:"mt-8 flex justify-center gap-4 items-center",children:[Rt.jsx("button",{onClick:u,className:`px-4 py-2 rounded text-white text-sm ${y?"bg-gray-600":"bg-[#10B981] hover:bg-[#0ea672]"}`,children:"  "}),Rt.jsx("button",{onClick:i,className:`px-4 py-2 rounded text-white text-sm ${b?"bg-gray-600":"bg-purple-600 hover:bg-purple-700"}`,disabled:b||!s.length,children:b?"  ...":"  "})]})},Vd=({onImagesSelected:m,onClearAllImages:s,paperSize:p,orientation:y,shape:w,getCanvas:b,getSplitCanvases:S,onSelectImageId:u,onDeleteImageId:i,allowMultiple:o=!0})=>{const h=zo(),r=Fd();return Rt.jsxs("aside",{className:"w-full md:w-[340px] shrink-0 border-l border-gray-700 p-4 bg-[#1a1a1a] flex flex-col h-screen",children:[Rt.jsx("button",{className:"mb-10 text-sm text-gray-300 hover:text-white px-3 py-1 border border-gray-600 rounded",onClick:()=>r(-1),children:" "}),Rt.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"  "}),Rt.jsx(_v,{onImagesSelected:m,onClearImages:s,allowMultiple:o}),Rt.jsx("div",{className:"flex-1 mt-6 overflow-y-auto",children:Rt.jsx(wv,{onSelect:u,onDelete:i})}),Rt.jsxs("div",{className:"mt-6",children:[h.pathname==="/split"&&Rt.jsx(T5,{getSplitCanvases:S,paperSize:p,orientation:y}),h.pathname==="/crop"&&Rt.jsx(Tv,{shape:w,getCanvas:b}),h.pathname==="/merge"&&Rt.jsx(O5,{getCanvas:b})]})]})},L5=async({image:m,shape:s="",offset:p={x:0,y:0},scale:y=1,shapeOptions:w={},size:b=500})=>{if(!m)return null;const S=new Image;return S.src=m.url,new Promise(u=>{S.onload=()=>{const i=S.width,o=S.height,h=b/y,r=b/y,a=-p.x/y,n=-p.y/y,l=Math.min(i-a,h),d=Math.min(o-n,r),c=Math.min(l,d),g=document.createElement("canvas");g.width=c,g.height=c;const _=g.getContext("2d");_.save();const C=xd(s,c,w);_.clip(C),_.drawImage(S,a,n,c,c,0,0,c,c),_.restore(),u(g)}})},E5=()=>{const m=li(l=>l.images),s=li(l=>l.setImages),p=li(l=>l.currentImageId),y=li(l=>l.setCurrentImageId),w=li(l=>l.getCurrentIndex),[b,S]=Ht.useState({}),u=l=>{var c;const d={};l.forEach(g=>{d[g.id]={offset:{x:0,y:0},scale:1,shape:"",shapeOptions:{}}}),s(l),S(d),y(((c=l[0])==null?void 0:c.id)||null)},i=l=>{p&&S(d=>({...d,[p]:{...d[p],...l}}))},o=l=>{var g;const d=m.filter(_=>_.id!==l),c={...b};delete c[l],s(d),S(c),l===p&&y(((g=d[0])==null?void 0:g.id)||null)},h=async(l=p)=>{const d=m.find(g=>g.id===l),c=b[l];return!d||!c?null:L5({image:d,shape:c.shape||"",offset:c.offset,scale:c.scale,shapeOptions:c.shapeOptions||{},size:500})},r=w(),a=m[r]||null,n=b[p]||{offset:{x:0,y:0},scale:1,shape:"",shapeOptions:{}};return Ht.useEffect(()=>()=>li.getState().resetCommonStates(),[]),Rt.jsxs("div",{className:"flex h-screen bg-[#111] text-white overflow-hidden",children:[Rt.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[Rt.jsx("header",{className:"w-full border-b border-gray-800",children:Rt.jsx(yv,{crop:n,onChange:i})}),Rt.jsx("main",{className:"flex-1 flex flex-col items-center justify-center overflow-auto px-4 py-8",children:a?Rt.jsx(hv,{image:a,shape:n.shape,offset:n.offset,scale:n.scale,onOffsetChange:l=>i({offset:l}),onScaleChange:l=>i({scale:l}),shapeOptions:n.shapeOptions||{}}):Rt.jsx("p",{className:"text-gray-500",children:"      ."})}),Rt.jsx("footer",{className:"w-full border-t border-gray-800 py-4",children:Rt.jsx("div",{className:"max-w-screen-lg mx-auto px-4",children:Rt.jsx(Q0,{})})})]}),Rt.jsx(Vd,{onImagesSelected:u,onClearAllImages:()=>{s([]),y(null),S({})},shape:n.shape,getCanvas:h,onDeleteImageId:o})]})},k5=({rows:m,cols:s,onRowsChange:p,onColsChange:y})=>{const w=m*s;return Rt.jsxs("div",{className:"flex gap-4 items-center",children:[Rt.jsx("p",{className:"pr-2 border-r border-gray-500",children:""}),Rt.jsxs("div",{className:"flex gap-2 items-center",children:[Rt.jsx("label",{children:" : "}),Rt.jsx("input",{type:"number",min:"1",value:s,onChange:b=>y(parseInt(b.target.value)),className:"bg-gray-800 border border-gray-600 px-2 py-1 w-20 rounded appearance-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}),Rt.jsxs("div",{className:"flex gap-2 items-center",children:[Rt.jsx("label",{children:" : "}),Rt.jsx("input",{type:"number",min:"1",value:m,onChange:b=>p(parseInt(b.target.value)),className:"bg-gray-800 border border-gray-600 px-2 py-1 w-20 rounded appearance-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}),Rt.jsxs("p",{className:"text-xs text-gray-400 mt-3 ml-auto mr-4",children:["  : ",w,""]})]})},N5=(m,s="portrait")=>{const p=ns[m];if(!p)return m;const y=s==="landscape",w=y?p.height:p.width,b=y?p.width:p.height,S=w/b,[u,i]=S>=1?[S.toFixed(3),"1"]:["1",(1/S).toFixed(3)];return`${m} (${u} : ${i})`},D5=({paperSize:m,orientation:s,onPaperSizeChange:p,onOrientationChange:y,rows:w,cols:b})=>{const S=ns[m]||ns.A4,u=s==="portrait"?S.width:S.height,i=s==="portrait"?S.height:S.width,o=(u*b/10).toFixed(1),h=(i*w/10).toFixed(1);return Rt.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[Rt.jsx("p",{className:"pr-2 border-r border-gray-500",children:""}),Rt.jsxs("div",{className:"flex gap-2 items-center",children:[Rt.jsx("label",{children:" : "}),Rt.jsx("select",{value:m,onChange:r=>p(r.target.value),className:"bg-gray-800 border border-gray-600 px-2 py-1 rounded",children:Object.keys(ns).map(r=>Rt.jsx("option",{value:r,children:N5(r,s)},r))})]}),Rt.jsxs("div",{className:"flex gap-2 items-center",children:[Rt.jsx("label",{children:" : "}),Rt.jsxs("select",{value:s,onChange:r=>y(r.target.value),className:"bg-gray-800 border border-gray-600 px-2 py-1 rounded",children:[Rt.jsx("option",{value:"portrait",children:" ()"}),Rt.jsx("option",{value:"landscape",children:""})]})]}),Rt.jsxs("p",{className:"text-xs text-gray-400 ml-auto mr-4 whitespace-nowrap",children:["  : ",o,"cm  ",h,"cm"]})]})},M5=({padding:m,onPaddingChange:s,useBleed:p,onToggleBleed:y})=>Rt.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[Rt.jsx("p",{className:"pr-2 border-r border-gray-500",children:""}),Rt.jsxs("div",{className:"flex gap-2 items-center",children:[Rt.jsx("label",{children:" : "}),Rt.jsx("input",{type:"number",value:m,onChange:w=>s(w.target.value),onBlur:()=>{m||s(0)},min:0,max:50,size:5,className:`bg-gray-800 border border-gray-600 px-2 py-1 rounded w-20
          appearance-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none`}),"mm"]}),Rt.jsxs("div",{className:"flex items-center gap-2",children:[Rt.jsx("input",{type:"checkbox",id:"useBleed",checked:p,onChange:w=>y(w.target.checked)}),Rt.jsx("label",{htmlFor:"useBleed",className:"text-gray-300 select-none",children:"5mm   "})]}),Rt.jsx("span",{className:"ml-auto text-gray-400 text-xs select-none mr-4 whitespace-nowrap",children:"   ,   5mm    ."})]}),j5=({onApply:m})=>{const[s,p]=Ht.useState(3),[y,w]=Ht.useState(3),[b,S]=Ht.useState("A4"),[u,i]=Ht.useState("portrait"),[o,h]=Ht.useState(10),[r,a]=Ht.useState(!0);return Ht.useEffect(()=>{m({rows:s,cols:y,paperSize:b,orientation:u,padding:o,bleed:r?5:0})},[s,y,b,u,o,r,m]),Rt.jsxs("div",{className:"space-y-4 px-2 py-6 text-white text-sm",children:[Rt.jsx(k5,{rows:s,cols:y,onRowsChange:p,onColsChange:w}),Rt.jsx(D5,{rows:s,cols:y,paperSize:b,orientation:u,onPaperSizeChange:S,onOrientationChange:i}),Rt.jsx(M5,{padding:o,useBleed:r,onPaddingChange:h,onToggleBleed:a})]})},R5=({image:m,rows:s=3,cols:p=3,paperSize:y="A4",orientation:w="portrait"})=>{const b=Ht.useRef(null),S=600;return Ht.useEffect(()=>{if(!m||!b.current)return;const u=b.current,i=u.getContext("2d"),o=new Image;o.src=m.url,o.onload=()=>{const h=ns[y]||ns.A4,r=w==="landscape"?h.height:h.width,a=w==="landscape"?h.width:h.height,n=r*p,l=a*s,d=n/l;let c,g;d>=1?(c=S,g=S/d):(g=S,c=S*d),u.width=c,u.height=g,i.clearRect(0,0,c,g),i.drawImage(o,0,0,c,g),i.strokeStyle="#111",i.lineWidth=1;const _=c/p,C=g/s;for(let O=1;O<p;O++){const k=_*O;i.beginPath(),i.moveTo(k,0),i.lineTo(k,g),i.stroke()}for(let O=1;O<s;O++){const k=C*O;i.beginPath(),i.moveTo(0,k),i.lineTo(c,k),i.stroke()}}},[m,s,p,y,w]),Rt.jsxs("div",{className:"relative",children:[Rt.jsx("canvas",{ref:b,className:"border border-gray-700 rounded shadow"}),Rt.jsx("p",{className:"mt-2 text-xs text-gray-400 text-center",children:"  ,      ."})]})},P5=async(m,s,p,y="A4",w="portrait",b=10,S=0)=>{const u=ns[y]||ns.A4,i=w==="landscape"?u.height:u.width,h=(w==="landscape"?u.width:u.height)/i,r=await B5(m),a=r.width,n=r.height,l=p/(s*h),d=a,c=d/l,g=d/p,_=c/s,C=a/d,O=[];for(let k=0;k<s;k++)for(let F=0;F<p;F++){const z=Math.max(k===0?b:b-S,0),q=Math.max(k===s-1?b:b-S,0),Q=Math.max(F===0?b:b-S,0),gt=Math.max(F===p-1?b:b-S,0),G=k===0?0:S,B=k===s-1?0:S,it=F===0?0:S,M=F===p-1?0:S,mt=(F*g-it)*(a/d),st=(k*_-G)*(n/c),ut=(g+it+M)*(a/d),vt=(_+G+B)*(n/c),W=g+Q+gt,Y=_+z+q,H=W*C,N=Y*C,U=g*C,R=_*C,P=Q*C,V=z*C,J=document.createElement("canvas");J.width=Math.round(H),J.height=Math.round(N);const ht=J.getContext("2d");ht.fillStyle="#fff",ht.fillRect(0,0,J.width,J.height),ht.drawImage(r,mt,st,ut,vt,P,V,U,R),O.push(J)}return O};function B5(m){return new Promise((s,p)=>{const y=new Image;y.onload=()=>s(y),y.onerror=p,y.src=m})}const F5=()=>{const m=li(O=>O.images),s=li(O=>O.setImages),p=li(O=>O.currentImageId),y=li(O=>O.setCurrentImageId),[w,b]=Ht.useState(3),[S,u]=Ht.useState(3),[i,o]=Ht.useState("A4"),[h,r]=Ht.useState("portrait"),[a,n]=Ht.useState(10),[l,d]=Ht.useState(5),[c,g]=Ht.useState(!1),_=({rows:O,cols:k,paperSize:F,orientation:z,padding:q,bleed:Q,useActualSize:gt})=>{b(O),u(k),o(F),r(z),n(q),d(Q),g(gt)},C=m.find(O=>O.id===p);return Ht.useEffect(()=>()=>li.getState().resetCommonStates(),[]),Rt.jsxs("div",{className:"flex h-screen bg-[#111] text-white overflow-hidden",children:[Rt.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[Rt.jsx("header",{className:"w-full border-b border-gray-800",children:Rt.jsx(j5,{onApply:_})}),Rt.jsx("main",{className:"flex-1 flex items-center justify-center overflow-auto px-4 py-8",children:C?Rt.jsx(R5,{image:C,rows:w,cols:S,paperSize:i,orientation:h}):Rt.jsx("p",{className:"text-gray-500",children:"     ."})})]}),Rt.jsx(Vd,{onImagesSelected:O=>{var k;s(O),y(((k=O[0])==null?void 0:k.id)||null)},paperSize:i,orientation:h,onClearAllImages:()=>{s([]),y(null)},shape:`${w}x${S}`,getSplitCanvases:()=>C?P5(C.url,w,S,i,h,a,l):Promise.resolve([]),onDeleteImageId:O=>{var F;const k=m.filter(z=>z.id!==O);s(k),O===p&&y(((F=k[0])==null?void 0:F.id)||null)},allowMultiple:!1})]})};var yd={};const z5={},I5=Object.freeze(Object.defineProperty({__proto__:null,default:z5},Symbol.toStringTag,{value:"Module"})),bd=xm(I5);var D0;function U5(){return D0||(D0=1,function(m){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var s=s||{version:"4.6.0"};if(m.fabric=s,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?s.document=document:s.document=document.implementation.createHTMLDocument(""),s.window=window;else{var p=bd,y=new p.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;s.document=y.document,s.jsdomImplForWrapper=bd.implForWrapper,s.nodeCanvas=bd.Canvas,s.window=y,DOMParser=s.window.DOMParser}s.isTouchSupported="ontouchstart"in s.window||"ontouchstart"in s.document||s.window&&s.window.navigator&&s.window.navigator.maxTouchPoints>0,s.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",s.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],s.DPI=96,s.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",s.commaWsp="(?:\\s+,?\\s*|,\\s*)",s.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,s.reNonWord=/[ \n\.,;!\?\-]/,s.fontPaths={},s.iMatrix=[1,0,0,1,0,0],s.svgNS="http://www.w3.org/2000/svg",s.perfLimitSizeTotal=2097152,s.maxCacheSideLimit=4096,s.minCacheSideLimit=256,s.charWidthsCache={},s.textureSize=2048,s.disableStyleCopyPaste=!1,s.enableGLFiltering=!0,s.devicePixelRatio=s.window.devicePixelRatio||s.window.webkitDevicePixelRatio||s.window.mozDevicePixelRatio||1,s.browserShadowBlurConstant=1,s.arcToSegmentsCache={},s.boundsOfCurveCache={},s.cachesBoundsOfCurve=!0,s.forceGLPutImageData=!1,s.initFilterBackend=function(){if(s.enableGLFiltering&&s.isWebglSupported&&s.isWebglSupported(s.textureSize))return console.log("max texture size: "+s.maxTextureSize),new s.WebglFilterBackend({tileSize:s.textureSize});if(s.Canvas2dFilterBackend)return new s.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=s),function(){function u(n,l){if(this.__eventListeners[n]){var d=this.__eventListeners[n];l?d[d.indexOf(l)]=!1:s.util.array.fill(d,!1)}}function i(n,l){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var d in n)this.on(d,n[d]);else this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(l);return this}function o(n,l){var d=(function(){l.apply(this,arguments),this.off(n,d)}).bind(this);this.on(n,d)}function h(n,l){if(arguments.length===1)for(var d in n)o.call(this,d,n[d]);else o.call(this,n,l);return this}function r(n,l){if(!this.__eventListeners)return this;if(arguments.length===0)for(n in this.__eventListeners)u.call(this,n);else if(arguments.length===1&&typeof arguments[0]=="object")for(var d in n)u.call(this,d,n[d]);else u.call(this,n,l);return this}function a(n,l){if(!this.__eventListeners)return this;var d=this.__eventListeners[n];if(!d)return this;for(var c=0,g=d.length;c<g;c++)d[c]&&d[c].call(this,l||{});return this.__eventListeners[n]=d.filter(function(_){return _!==!1}),this}s.Observable={fire:a,on:i,once:h,off:r}}(),s.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var u=0,i=arguments.length;u<i;u++)this._onObjectAdded(arguments[u]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(u,i,o){var h=this._objects;return o?h[i]=u:h.splice(i,0,u),this._onObjectAdded&&this._onObjectAdded(u),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var u=this._objects,i,o=!1,h=0,r=arguments.length;h<r;h++)i=u.indexOf(arguments[h]),i!==-1&&(o=!0,u.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[h]));return this.renderOnAddRemove&&o&&this.requestRenderAll(),this},forEachObject:function(u,i){for(var o=this.getObjects(),h=0,r=o.length;h<r;h++)u.call(i,o[h],h,o);return this},getObjects:function(u){return typeof u>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===u})},item:function(u){return this._objects[u]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(u,i){return this._objects.indexOf(u)>-1?!0:i?this._objects.some(function(o){return typeof o.contains=="function"&&o.contains(u,!0)}):!1},complexity:function(){return this._objects.reduce(function(u,i){return u+=i.complexity?i.complexity():0,u},0)}},s.CommonMethods={_setOptions:function(u){for(var i in u)this.set(i,u[i])},_initGradient:function(u,i){u&&u.colorStops&&!(u instanceof s.Gradient)&&this.set(i,new s.Gradient(u))},_initPattern:function(u,i,o){u&&u.source&&!(u instanceof s.Pattern)?this.set(i,new s.Pattern(u,o)):o&&o()},_setObject:function(u){for(var i in u)this._set(i,u[i])},set:function(u,i){return typeof u=="object"?this._setObject(u):this._set(u,i),this},_set:function(u,i){this[u]=i},toggle:function(u){var i=this.get(u);return typeof i=="boolean"&&this.set(u,!i),this},get:function(u){return this[u]}},function(u){var i=Math.sqrt,o=Math.atan2,h=Math.pow,r=Math.PI/180,a=Math.PI/2;s.util={cos:function(n){if(n===0)return 1;n<0&&(n=-n);var l=n/a;switch(l){case 1:case 3:return 0;case 2:return-1}return Math.cos(n)},sin:function(n){if(n===0)return 0;var l=n/a,d=1;switch(n<0&&(d=-1),l){case 1:return d;case 2:return 0;case 3:return-d}return Math.sin(n)},removeFromArray:function(n,l){var d=n.indexOf(l);return d!==-1&&n.splice(d,1),n},getRandomInt:function(n,l){return Math.floor(Math.random()*(l-n+1))+n},degreesToRadians:function(n){return n*r},radiansToDegrees:function(n){return n/r},rotatePoint:function(n,l,d){var c=new s.Point(n.x-l.x,n.y-l.y),g=s.util.rotateVector(c,d);return new s.Point(g.x,g.y).addEquals(l)},rotateVector:function(n,l){var d=s.util.sin(l),c=s.util.cos(l),g=n.x*c-n.y*d,_=n.x*d+n.y*c;return{x:g,y:_}},transformPoint:function(n,l,d){return d?new s.Point(l[0]*n.x+l[2]*n.y,l[1]*n.x+l[3]*n.y):new s.Point(l[0]*n.x+l[2]*n.y+l[4],l[1]*n.x+l[3]*n.y+l[5])},makeBoundingBoxFromPoints:function(n,l){if(l)for(var d=0;d<n.length;d++)n[d]=s.util.transformPoint(n[d],l);var c=[n[0].x,n[1].x,n[2].x,n[3].x],g=s.util.array.min(c),_=s.util.array.max(c),C=_-g,O=[n[0].y,n[1].y,n[2].y,n[3].y],k=s.util.array.min(O),F=s.util.array.max(O),z=F-k;return{left:g,top:k,width:C,height:z}},invertTransform:function(n){var l=1/(n[0]*n[3]-n[1]*n[2]),d=[l*n[3],-l*n[1],-l*n[2],l*n[0]],c=s.util.transformPoint({x:n[4],y:n[5]},d,!0);return d[4]=-c.x,d[5]=-c.y,d},toFixed:function(n,l){return parseFloat(Number(n).toFixed(l))},parseUnit:function(n,l){var d=/\D{0,2}$/.exec(n),c=parseFloat(n);switch(l||(l=s.Text.DEFAULT_SVG_FONT_SIZE),d[0]){case"mm":return c*s.DPI/25.4;case"cm":return c*s.DPI/2.54;case"in":return c*s.DPI;case"pt":return c*s.DPI/72;case"pc":return c*s.DPI/72*12;case"em":return c*l;default:return c}},falseFunction:function(){return!1},getKlass:function(n,l){return n=s.util.string.camelize(n.charAt(0).toUpperCase()+n.slice(1)),s.util.resolveNamespace(l)[n]},getSvgAttributes:function(n){var l=["instantiated_by_use","style","id","class"];switch(n){case"linearGradient":l=l.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":l=l.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":l=l.concat(["offset","stop-color","stop-opacity"]);break}return l},resolveNamespace:function(n){if(!n)return s;var l=n.split("."),d=l.length,c,g=u||s.window;for(c=0;c<d;++c)g=g[l[c]];return g},loadImage:function(n,l,d,c){if(!n){l&&l.call(d,n);return}var g=s.util.createImage(),_=function(){l&&l.call(d,g,!1),g=g.onload=g.onerror=null};g.onload=_,g.onerror=function(){s.log("Error loading "+g.src),l&&l.call(d,null,!0),g=g.onload=g.onerror=null},n.indexOf("data")!==0&&c!==void 0&&c!==null&&(g.crossOrigin=c),n.substring(0,14)==="data:image/svg"&&(g.onload=null,s.util.loadImageInDom(g,_)),g.src=n},loadImageInDom:function(n,l){var d=s.document.createElement("div");d.style.width=d.style.height="1px",d.style.left=d.style.top="-100%",d.style.position="absolute",d.appendChild(n),s.document.querySelector("body").appendChild(d),n.onload=function(){l(),d.parentNode.removeChild(d),d=null}},enlivenObjects:function(n,l,d,c){n=n||[];var g=[],_=0,C=n.length;function O(){++_===C&&l&&l(g.filter(function(k){return k}))}if(!C){l&&l(g);return}n.forEach(function(k,F){if(!k||!k.type){O();return}var z=s.util.getKlass(k.type,d);z.fromObject(k,function(q,Q){Q||(g[F]=q),c&&c(k,q,Q),O()})})},enlivenPatterns:function(n,l){n=n||[];function d(){++g===_&&l&&l(c)}var c=[],g=0,_=n.length;if(!_){l&&l(c);return}n.forEach(function(C,O){C&&C.source?new s.Pattern(C,function(k){c[O]=k,d()}):(c[O]=C,d())})},groupSVGElements:function(n,l,d){var c;return n&&n.length===1?n[0]:(l&&(l.width&&l.height?l.centerPoint={x:l.width/2,y:l.height/2}:(delete l.width,delete l.height)),c=new s.Group(n,l),typeof d<"u"&&(c.sourcePath=d),c)},populateWithProperties:function(n,l,d){if(d&&Object.prototype.toString.call(d)==="[object Array]")for(var c=0,g=d.length;c<g;c++)d[c]in n&&(l[d[c]]=n[d[c]])},drawDashedLine:function(n,l,d,c,g,_){var C=c-l,O=g-d,k=i(C*C+O*O),F=o(O,C),z=_.length,q=0,Q=!0;for(n.save(),n.translate(l,d),n.moveTo(0,0),n.rotate(F),l=0;k>l;)l+=_[q++%z],l>k&&(l=k),n[Q?"lineTo":"moveTo"](l,0),Q=!Q;n.restore()},createCanvasElement:function(){return s.document.createElement("canvas")},copyCanvasElement:function(n){var l=s.util.createCanvasElement();return l.width=n.width,l.height=n.height,l.getContext("2d").drawImage(n,0,0),l},toDataURL:function(n,l,d){return n.toDataURL("image/"+l,d)},createImage:function(){return s.document.createElement("img")},multiplyTransformMatrices:function(n,l,d){return[n[0]*l[0]+n[2]*l[1],n[1]*l[0]+n[3]*l[1],n[0]*l[2]+n[2]*l[3],n[1]*l[2]+n[3]*l[3],d?0:n[0]*l[4]+n[2]*l[5]+n[4],d?0:n[1]*l[4]+n[3]*l[5]+n[5]]},qrDecompose:function(n){var l=o(n[1],n[0]),d=h(n[0],2)+h(n[1],2),c=i(d),g=(n[0]*n[3]-n[2]*n[1])/c,_=o(n[0]*n[2]+n[1]*n[3],d);return{angle:l/r,scaleX:c,scaleY:g,skewX:_/r,skewY:0,translateX:n[4],translateY:n[5]}},calcRotateMatrix:function(n){if(!n.angle)return s.iMatrix.concat();var l=s.util.degreesToRadians(n.angle),d=s.util.cos(l),c=s.util.sin(l);return[d,c,-c,d,0,0]},calcDimensionsMatrix:function(n){var l=typeof n.scaleX>"u"?1:n.scaleX,d=typeof n.scaleY>"u"?1:n.scaleY,c=[n.flipX?-l:l,0,0,n.flipY?-d:d,0,0],g=s.util.multiplyTransformMatrices,_=s.util.degreesToRadians;return n.skewX&&(c=g(c,[1,0,Math.tan(_(n.skewX)),1],!0)),n.skewY&&(c=g(c,[1,Math.tan(_(n.skewY)),0,1],!0)),c},composeMatrix:function(n){var l=[1,0,0,1,n.translateX||0,n.translateY||0],d=s.util.multiplyTransformMatrices;return n.angle&&(l=d(l,s.util.calcRotateMatrix(n))),(n.scaleX!==1||n.scaleY!==1||n.skewX||n.skewY||n.flipX||n.flipY)&&(l=d(l,s.util.calcDimensionsMatrix(n))),l},resetObjectTransform:function(n){n.scaleX=1,n.scaleY=1,n.skewX=0,n.skewY=0,n.flipX=!1,n.flipY=!1,n.rotate(0)},saveObjectTransform:function(n){return{scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,angle:n.angle,left:n.left,flipX:n.flipX,flipY:n.flipY,top:n.top}},isTransparent:function(n,l,d,c){c>0&&(l>c?l-=c:l=0,d>c?d-=c:d=0);var g=!0,_,C,O=n.getImageData(l,d,c*2||1,c*2||1),k=O.data.length;for(_=3;_<k&&(C=O.data[_],g=C<=0,g!==!1);_+=4);return O=null,g},parsePreserveAspectRatioAttribute:function(n){var l="meet",d="Mid",c="Mid",g=n.split(" "),_;return g&&g.length&&(l=g.pop(),l!=="meet"&&l!=="slice"?(_=l,l="meet"):g.length&&(_=g.pop())),d=_!=="none"?_.slice(1,4):"none",c=_!=="none"?_.slice(5,8):"none",{meetOrSlice:l,alignX:d,alignY:c}},clearFabricFontCache:function(n){n=(n||"").toLowerCase(),n?s.charWidthsCache[n]&&delete s.charWidthsCache[n]:s.charWidthsCache={}},limitDimsByArea:function(n,l){var d=Math.sqrt(l*n),c=Math.floor(l/d);return{x:Math.floor(d),y:c}},capValue:function(n,l,d){return Math.max(n,Math.min(l,d))},findScaleToFit:function(n,l){return Math.min(l.width/n.width,l.height/n.height)},findScaleToCover:function(n,l){return Math.max(l.width/n.width,l.height/n.height)},matrixToSVG:function(n){return"matrix("+n.map(function(l){return s.util.toFixed(l,s.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(n,l){var d=s.util.invertTransform(l),c=s.util.multiplyTransformMatrices(d,n.calcOwnMatrix());s.util.applyTransformToObject(n,c)},addTransformToObject:function(n,l){s.util.applyTransformToObject(n,s.util.multiplyTransformMatrices(l,n.calcOwnMatrix()))},applyTransformToObject:function(n,l){var d=s.util.qrDecompose(l),c=new s.Point(d.translateX,d.translateY);n.flipX=!1,n.flipY=!1,n.set("scaleX",d.scaleX),n.set("scaleY",d.scaleY),n.skewX=d.skewX,n.skewY=d.skewY,n.angle=d.angle,n.setPositionByOrigin(c,"center","center")},sizeAfterTransform:function(n,l,d){var c=n/2,g=l/2,_=[{x:-c,y:-g},{x:c,y:-g},{x:-c,y:g},{x:c,y:g}],C=s.util.calcDimensionsMatrix(d),O=s.util.makeBoundingBoxFromPoints(_,C);return{x:O.width,y:O.height}}}}(m),function(){var u=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},o={m:"l",M:"L"};function h(H,N,U,R,P,V,J,ht,dt,At,wt){var Nt=s.util.cos(H),xt=s.util.sin(H),j=s.util.cos(N),rt=s.util.sin(N),X=U*P*j-R*V*rt+J,$=R*P*j+U*V*rt+ht,K=At+dt*(-U*P*xt-R*V*Nt),ot=wt+dt*(-R*P*xt+U*V*Nt),_t=X+dt*(U*P*rt+R*V*j),St=$+dt*(R*P*rt-U*V*j);return["C",K,ot,_t,St,X,$]}function r(H,N,U,R,P,V,J){var ht=Math.PI,dt=J*ht/180,At=s.util.sin(dt),wt=s.util.cos(dt),Nt=0,xt=0;U=Math.abs(U),R=Math.abs(R);var j=-wt*H*.5-At*N*.5,rt=-wt*N*.5+At*H*.5,X=U*U,$=R*R,K=rt*rt,ot=j*j,_t=X*$-X*K-$*ot,St=0;if(_t<0){var ft=Math.sqrt(1-_t/(X*$));U*=ft,R*=ft}else St=(P===V?-1:1)*Math.sqrt(_t/(X*K+$*ot));var Lt=St*U*rt/R,Bt=-St*R*j/U,qt=wt*Lt-At*Bt+H*.5,$t=At*Lt+wt*Bt+N*.5,re=a(1,0,(j-Lt)/U,(rt-Bt)/R),se=a((j-Lt)/U,(rt-Bt)/R,(-j-Lt)/U,(-rt-Bt)/R);V===0&&se>0?se-=2*ht:V===1&&se<0&&(se+=2*ht);for(var ie=Math.ceil(Math.abs(se/ht*2)),ge=[],ae=se/ie,ti=8/3*Math.sin(ae/4)*Math.sin(ae/4)/Math.sin(ae/2),fe=re+ae,ei=0;ei<ie;ei++)ge[ei]=h(re,fe,wt,At,U,R,qt,$t,ti,Nt,xt),Nt=ge[ei][5],xt=ge[ei][6],re=fe,fe+=ae;return ge}function a(H,N,U,R){var P=Math.atan2(N,H),V=Math.atan2(R,U);return V>=P?V-P:2*Math.PI-(P-V)}function n(H,N,U,R,P,V,J,ht){var dt;if(s.cachesBoundsOfCurve&&(dt=u.call(arguments),s.boundsOfCurveCache[dt]))return s.boundsOfCurveCache[dt];var At=Math.sqrt,wt=Math.min,Nt=Math.max,xt=Math.abs,j=[],rt=[[],[]],X,$,K,ot,_t,St,ft,Lt;$=6*H-12*U+6*P,X=-3*H+9*U-9*P+3*J,K=3*U-3*H;for(var Bt=0;Bt<2;++Bt){if(Bt>0&&($=6*N-12*R+6*V,X=-3*N+9*R-9*V+3*ht,K=3*R-3*N),xt(X)<1e-12){if(xt($)<1e-12)continue;ot=-K/$,0<ot&&ot<1&&j.push(ot);continue}ft=$*$-4*K*X,!(ft<0)&&(Lt=At(ft),_t=(-$+Lt)/(2*X),0<_t&&_t<1&&j.push(_t),St=(-$-Lt)/(2*X),0<St&&St<1&&j.push(St))}for(var qt,$t,re=j.length,se=re,ie;re--;)ot=j[re],ie=1-ot,qt=ie*ie*ie*H+3*ie*ie*ot*U+3*ie*ot*ot*P+ot*ot*ot*J,rt[0][re]=qt,$t=ie*ie*ie*N+3*ie*ie*ot*R+3*ie*ot*ot*V+ot*ot*ot*ht,rt[1][re]=$t;rt[0][se]=H,rt[1][se]=N,rt[0][se+1]=J,rt[1][se+1]=ht;var ge=[{x:wt.apply(null,rt[0]),y:wt.apply(null,rt[1])},{x:Nt.apply(null,rt[0]),y:Nt.apply(null,rt[1])}];return s.cachesBoundsOfCurve&&(s.boundsOfCurveCache[dt]=ge),ge}function l(H,N,U){for(var R=U[1],P=U[2],V=U[3],J=U[4],ht=U[5],dt=U[6],At=U[7],wt=r(dt-H,At-N,R,P,J,ht,V),Nt=0,xt=wt.length;Nt<xt;Nt++)wt[Nt][1]+=H,wt[Nt][2]+=N,wt[Nt][3]+=H,wt[Nt][4]+=N,wt[Nt][5]+=H,wt[Nt][6]+=N;return wt}function d(H){var N=0,U=0,R=H.length,P=0,V=0,J,ht,dt,At=[],wt,Nt,xt;for(ht=0;ht<R;++ht){switch(dt=!1,J=H[ht].slice(0),J[0]){case"l":J[0]="L",J[1]+=N,J[2]+=U;case"L":N=J[1],U=J[2];break;case"h":J[1]+=N;case"H":J[0]="L",J[2]=U,N=J[1];break;case"v":J[1]+=U;case"V":J[0]="L",U=J[1],J[1]=N,J[2]=U;break;case"m":J[0]="M",J[1]+=N,J[2]+=U;case"M":N=J[1],U=J[2],P=J[1],V=J[2];break;case"c":J[0]="C",J[1]+=N,J[2]+=U,J[3]+=N,J[4]+=U,J[5]+=N,J[6]+=U;case"C":Nt=J[3],xt=J[4],N=J[5],U=J[6];break;case"s":J[0]="S",J[1]+=N,J[2]+=U,J[3]+=N,J[4]+=U;case"S":wt==="C"?(Nt=2*N-Nt,xt=2*U-xt):(Nt=N,xt=U),N=J[3],U=J[4],J[0]="C",J[5]=J[3],J[6]=J[4],J[3]=J[1],J[4]=J[2],J[1]=Nt,J[2]=xt,Nt=J[3],xt=J[4];break;case"q":J[0]="Q",J[1]+=N,J[2]+=U,J[3]+=N,J[4]+=U;case"Q":Nt=J[1],xt=J[2],N=J[3],U=J[4];break;case"t":J[0]="T",J[1]+=N,J[2]+=U;case"T":wt==="Q"?(Nt=2*N-Nt,xt=2*U-xt):(Nt=N,xt=U),J[0]="Q",N=J[1],U=J[2],J[1]=Nt,J[2]=xt,J[3]=N,J[4]=U;break;case"a":J[0]="A",J[6]+=N,J[7]+=U;case"A":dt=!0,At=At.concat(l(N,U,J)),N=J[6],U=J[7];break;case"z":case"Z":N=P,U=V;break}dt||At.push(J),wt=J[0]}return At}function c(H,N,U,R){return Math.sqrt((U-H)*(U-H)+(R-N)*(R-N))}function g(H){return H*H*H}function _(H){return 3*H*H*(1-H)}function C(H){return 3*H*(1-H)*(1-H)}function O(H){return(1-H)*(1-H)*(1-H)}function k(H,N,U,R,P,V,J,ht){return function(dt){var At=g(dt),wt=_(dt),Nt=C(dt),xt=O(dt);return{x:J*At+P*wt+U*Nt+H*xt,y:ht*At+V*wt+R*Nt+N*xt}}}function F(H,N,U,R,P,V,J,ht){return function(dt){var At=1-dt,wt=3*At*At*(U-H)+6*At*dt*(P-U)+3*dt*dt*(J-P),Nt=3*At*At*(R-N)+6*At*dt*(V-R)+3*dt*dt*(ht-V);return Math.atan2(Nt,wt)}}function z(H){return H*H}function q(H){return 2*H*(1-H)}function Q(H){return(1-H)*(1-H)}function gt(H,N,U,R,P,V){return function(J){var ht=z(J),dt=q(J),At=Q(J);return{x:P*ht+U*dt+H*At,y:V*ht+R*dt+N*At}}}function G(H,N,U,R,P,V){return function(J){var ht=1-J,dt=2*ht*(U-H)+2*J*(P-U),At=2*ht*(R-N)+2*J*(V-R);return Math.atan2(At,dt)}}function B(H,N,U){var R={x:N,y:U},P,V=0,J;for(J=1;J<=100;J+=1)P=H(J/100),V+=c(R.x,R.y,P.x,P.y),R=P;return V}function it(H,N){for(var U=0,R=0,P=H.iterator,V={x:H.x,y:H.y},J,ht,dt=.01,At=H.angleFinder,wt;R<N&&U<=1&&dt>1e-4;)J=P(U),wt=U,ht=c(V.x,V.y,J.x,J.y),ht+R>N?(dt/=2,U-=dt):(V=J,U+=dt,R+=ht);return J.angle=At(wt),J}function M(H){for(var N=0,U=H.length,R,P=0,V=0,J=0,ht=0,dt=[],At,wt,Nt,xt=0;xt<U;xt++){switch(R=H[xt],wt={x:P,y:V,command:R[0]},R[0]){case"M":wt.length=0,J=P=R[1],ht=V=R[2];break;case"L":wt.length=c(P,V,R[1],R[2]),P=R[1],V=R[2];break;case"C":At=k(P,V,R[1],R[2],R[3],R[4],R[5],R[6]),Nt=F(P,V,R[1],R[2],R[3],R[4],R[5],R[6]),wt.iterator=At,wt.angleFinder=Nt,wt.length=B(At,P,V),P=R[5],V=R[6];break;case"Q":At=gt(P,V,R[1],R[2],R[3],R[4]),Nt=G(P,V,R[1],R[2],R[3],R[4]),wt.iterator=At,wt.angleFinder=Nt,wt.length=B(At,P,V),P=R[3],V=R[4];break;case"Z":case"z":wt.destX=J,wt.destY=ht,wt.length=c(P,V,J,ht),P=J,V=ht;break}N+=wt.length,dt.push(wt)}return dt.push({length:N,x:P,y:V}),dt}function mt(H,N,U){U||(U=M(H));for(var R=0;N-U[R].length>0&&R<U.length-2;)N-=U[R].length,R++;var P=U[R],V=N/P.length,J=P.command,ht=H[R],dt;switch(J){case"M":return{x:P.x,y:P.y,angle:0};case"Z":case"z":return dt=new s.Point(P.x,P.y).lerp(new s.Point(P.destX,P.destY),V),dt.angle=Math.atan2(P.destY-P.y,P.destX-P.x),dt;case"L":return dt=new s.Point(P.x,P.y).lerp(new s.Point(ht[1],ht[2]),V),dt.angle=Math.atan2(ht[2]-P.y,ht[1]-P.x),dt;case"C":return it(P,N);case"Q":return it(P,N)}}function st(H){var N=[],U=[],R,P,V=s.rePathCommand,J="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",ht="("+J+")"+s.commaWsp,dt="([01])"+s.commaWsp+"?",At=ht+"?"+ht+"?"+ht+dt+dt+ht+"?("+J+")",wt=new RegExp(At,"g"),Nt,xt,j;if(!H||!H.match)return N;j=H.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var rt=0,X,$=j.length;rt<$;rt++){R=j[rt],xt=R.slice(1).trim(),U.length=0;var K=R.charAt(0);if(X=[K],K.toLowerCase()==="a")for(var ot;ot=wt.exec(xt);)for(var _t=1;_t<ot.length;_t++)U.push(ot[_t]);else for(;Nt=V.exec(xt);)U.push(Nt[0]);for(var _t=0,St=U.length;_t<St;_t++)P=parseFloat(U[_t]),isNaN(P)||X.push(P);var ft=i[K.toLowerCase()],Lt=o[K]||K;if(X.length-1>ft)for(var Bt=1,qt=X.length;Bt<qt;Bt+=ft)N.push([K].concat(X.slice(Bt,Bt+ft))),K=Lt;else N.push(X)}return N}function ut(H,N){var U=[],R,P=new s.Point(H[0].x,H[0].y),V=new s.Point(H[1].x,H[1].y),J=H.length,ht=1,dt=0,At=J>2;for(N=N||0,At&&(ht=H[2].x<V.x?-1:H[2].x===V.x?0:1,dt=H[2].y<V.y?-1:H[2].y===V.y?0:1),U.push(["M",P.x-ht*N,P.y-dt*N]),R=1;R<J;R++){if(!P.eq(V)){var wt=P.midPointFrom(V);U.push(["Q",P.x,P.y,wt.x,wt.y])}P=H[R],R+1<H.length&&(V=H[R+1])}return At&&(ht=P.x>H[R-2].x?1:P.x===H[R-2].x?0:-1,dt=P.y>H[R-2].y?1:P.y===H[R-2].y?0:-1),U.push(["L",P.x+ht*N,P.y+dt*N]),U}function vt(H,N,U){return U&&(N=s.util.multiplyTransformMatrices(N,[1,0,0,1,-U.x,-U.y])),H.map(function(R){for(var P=R.slice(0),V={},J=1;J<R.length-1;J+=2)V.x=R[J],V.y=R[J+1],V=s.util.transformPoint(V,N),P[J]=V.x,P[J+1]=V.y;return P})}function W(H,N,U,R,P,V,J,ht,dt){for(var At=0,wt=0,Nt,xt=[],j=r(ht-H,dt-N,U,R,V,J,P),rt=0,X=j.length;rt<X;rt++)Nt=n(At,wt,j[rt][1],j[rt][2],j[rt][3],j[rt][4],j[rt][5],j[rt][6]),xt.push({x:Nt[0].x+H,y:Nt[0].y+N}),xt.push({x:Nt[1].x+H,y:Nt[1].y+N}),At=j[rt][5],wt=j[rt][6];return xt}function Y(H,N,U,R){R=R.slice(0).unshift("X");var P=l(N,U,R);P.forEach(function(V){H.bezierCurveTo.apply(H,V.slice(1))})}s.util.joinPath=function(H){return H.map(function(N){return N.join(" ")}).join(" ")},s.util.parsePath=st,s.util.makePathSimpler=d,s.util.getSmoothPathFromPoints=ut,s.util.getPathSegmentsInfo=M,s.util.getBoundsOfCurve=n,s.util.getPointOnPath=mt,s.util.transformPath=vt,s.util.fromArcToBeizers=l,s.util.getBoundsOfArc=W,s.util.drawArc=Y}(),function(){var u=Array.prototype.slice;function i(n,l){for(var d=u.call(arguments,2),c=[],g=0,_=n.length;g<_;g++)c[g]=d.length?n[g][l].apply(n[g],d):n[g][l].call(n[g]);return c}function o(n,l){return a(n,l,function(d,c){return d>=c})}function h(n,l){return a(n,l,function(d,c){return d<c})}function r(n,l){for(var d=n.length;d--;)n[d]=l;return n}function a(n,l,d){if(!(!n||n.length===0)){var c=n.length-1,g=l?n[c][l]:n[c];if(l)for(;c--;)d(n[c][l],g)&&(g=n[c][l]);else for(;c--;)d(n[c],g)&&(g=n[c]);return g}}s.util.array={fill:r,invoke:i,min:h,max:o}}(),function(){function u(o,h,r){if(r)if(!s.isLikelyNode&&h instanceof Element)o=h;else if(h instanceof Array){o=[];for(var a=0,n=h.length;a<n;a++)o[a]=u({},h[a],r)}else if(h&&typeof h=="object")for(var l in h)l==="canvas"||l==="group"?o[l]=null:h.hasOwnProperty(l)&&(o[l]=u({},h[l],r));else o=h;else for(var l in h)o[l]=h[l];return o}function i(o,h){return u({},o,h)}s.util.object={extend:u,clone:i},s.util.object.extend(s.util,s.Observable)}(),function(){function u(a){return a.replace(/-+(.)?/g,function(n,l){return l?l.toUpperCase():""})}function i(a,n){return a.charAt(0).toUpperCase()+(n?a.slice(1):a.slice(1).toLowerCase())}function o(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(a){var n=0,l,d=[];for(n=0,l;n<a.length;n++)(l=r(a,n))!==!1&&d.push(l);return d}function r(a,n){var l=a.charCodeAt(n);if(isNaN(l))return"";if(l<55296||l>57343)return a.charAt(n);if(55296<=l&&l<=56319){if(a.length<=n+1)throw"High surrogate without following low surrogate";var d=a.charCodeAt(n+1);if(56320>d||d>57343)throw"High surrogate without following low surrogate";return a.charAt(n)+a.charAt(n+1)}if(n===0)throw"Low surrogate without preceding high surrogate";var c=a.charCodeAt(n-1);if(55296>c||c>56319)throw"Low surrogate without preceding high surrogate";return!1}s.util.string={camelize:u,capitalize:i,escapeXml:o,graphemeSplit:h}}(),function(){var u=Array.prototype.slice,i=function(){},o=function(){for(var l in{toString:1})if(l==="toString")return!1;return!0}(),h=function(l,d,c){for(var g in d)g in l.prototype&&typeof l.prototype[g]=="function"&&(d[g]+"").indexOf("callSuper")>-1?l.prototype[g]=function(_){return function(){var C=this.constructor.superclass;this.constructor.superclass=c;var O=d[_].apply(this,arguments);if(this.constructor.superclass=C,_!=="initialize")return O}}(g):l.prototype[g]=d[g],o&&(d.toString!==Object.prototype.toString&&(l.prototype.toString=d.toString),d.valueOf!==Object.prototype.valueOf&&(l.prototype.valueOf=d.valueOf))};function r(){}function a(l){for(var d=null,c=this;c.constructor.superclass;){var g=c.constructor.superclass.prototype[l];if(c[l]!==g){d=g;break}c=c.constructor.superclass.prototype}return d?arguments.length>1?d.apply(this,u.call(arguments,1)):d.call(this):console.log("tried to callSuper "+l+", method not found in prototype chain",this)}function n(){var l=null,d=u.call(arguments,0);typeof d[0]=="function"&&(l=d.shift());function c(){this.initialize.apply(this,arguments)}c.superclass=l,c.subclasses=[],l&&(r.prototype=l.prototype,c.prototype=new r,l.subclasses.push(c));for(var g=0,_=d.length;g<_;g++)h(c,d[g],l);return c.prototype.initialize||(c.prototype.initialize=i),c.prototype.constructor=c,c.prototype.callSuper=a,c}s.util.createClass=n}(),function(){var u=!!s.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];s.util.addListener=function(h,r,a,n){h&&h.addEventListener(r,a,u?!1:n)},s.util.removeListener=function(h,r,a,n){h&&h.removeEventListener(r,a,u?!1:n)};function o(h){var r=h.changedTouches;return r&&r[0]?r[0]:h}s.util.getPointer=function(h){var r=h.target,a=s.util.getScrollLeftTop(r),n=o(h);return{x:n.clientX+a.left,y:n.clientY+a.top}},s.util.isTouchEvent=function(h){return i.indexOf(h.type)>-1||h.pointerType==="touch"}}(),function(){function u(n,l){var d=n.style;if(!d)return n;if(typeof l=="string")return n.style.cssText+=";"+l,l.indexOf("opacity")>-1?a(n,l.match(/opacity:\s*(\d?\.?\d*)/)[1]):n;for(var c in l)if(c==="opacity")a(n,l[c]);else{var g=c==="float"||c==="cssFloat"?typeof d.styleFloat>"u"?"cssFloat":"styleFloat":c;d[g]=l[c]}return n}var i=s.document.createElement("div"),o=typeof i.style.opacity=="string",h=typeof i.style.filter=="string",r=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,a=function(n){return n};o?a=function(n,l){return n.style.opacity=l,n}:h&&(a=function(n,l){var d=n.style;return n.currentStyle&&!n.currentStyle.hasLayout&&(d.zoom=1),r.test(d.filter)?(l=l>=.9999?"":"alpha(opacity="+l*100+")",d.filter=d.filter.replace(r,l)):d.filter+=" alpha(opacity="+l*100+")",n}),s.util.setStyle=u}(),function(){var u=Array.prototype.slice;function i(O){return typeof O=="string"?s.document.getElementById(O):O}var o,h=function(O){return u.call(O,0)};try{o=h(s.document.childNodes)instanceof Array}catch{}o||(h=function(O){for(var k=new Array(O.length),F=O.length;F--;)k[F]=O[F];return k});function r(O,k){var F=s.document.createElement(O);for(var z in k)z==="class"?F.className=k[z]:z==="for"?F.htmlFor=k[z]:F.setAttribute(z,k[z]);return F}function a(O,k){O&&(" "+O.className+" ").indexOf(" "+k+" ")===-1&&(O.className+=(O.className?" ":"")+k)}function n(O,k,F){return typeof k=="string"&&(k=r(k,F)),O.parentNode&&O.parentNode.replaceChild(k,O),k.appendChild(O),k}function l(O){for(var k=0,F=0,z=s.document.documentElement,q=s.document.body||{scrollLeft:0,scrollTop:0};O&&(O.parentNode||O.host)&&(O=O.parentNode||O.host,O===s.document?(k=q.scrollLeft||z.scrollLeft||0,F=q.scrollTop||z.scrollTop||0):(k+=O.scrollLeft||0,F+=O.scrollTop||0),!(O.nodeType===1&&O.style.position==="fixed")););return{left:k,top:F}}function d(O){var k,F=O&&O.ownerDocument,z={left:0,top:0},q={left:0,top:0},Q,gt={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!F)return q;for(var G in gt)q[gt[G]]+=parseInt(c(O,G),10)||0;return k=F.documentElement,typeof O.getBoundingClientRect<"u"&&(z=O.getBoundingClientRect()),Q=l(O),{left:z.left+Q.left-(k.clientLeft||0)+q.left,top:z.top+Q.top-(k.clientTop||0)+q.top}}var c;s.document.defaultView&&s.document.defaultView.getComputedStyle?c=function(O,k){var F=s.document.defaultView.getComputedStyle(O,null);return F?F[k]:void 0}:c=function(O,k){var F=O.style[k];return!F&&O.currentStyle&&(F=O.currentStyle[k]),F},function(){var O=s.document.documentElement.style,k="userSelect"in O?"userSelect":"MozUserSelect"in O?"MozUserSelect":"WebkitUserSelect"in O?"WebkitUserSelect":"KhtmlUserSelect"in O?"KhtmlUserSelect":"";function F(q){return typeof q.onselectstart<"u"&&(q.onselectstart=s.util.falseFunction),k?q.style[k]="none":typeof q.unselectable=="string"&&(q.unselectable="on"),q}function z(q){return typeof q.onselectstart<"u"&&(q.onselectstart=null),k?q.style[k]="":typeof q.unselectable=="string"&&(q.unselectable=""),q}s.util.makeElementUnselectable=F,s.util.makeElementSelectable=z}();function g(O){var k=s.jsdomImplForWrapper(O);return k._canvas||k._image}function _(O){if(s.isLikelyNode){var k=s.jsdomImplForWrapper(O);k&&(k._image=null,k._canvas=null,k._currentSrc=null,k._attributes=null,k._classList=null)}}function C(O,k){O.imageSmoothingEnabled=O.imageSmoothingEnabled||O.webkitImageSmoothingEnabled||O.mozImageSmoothingEnabled||O.msImageSmoothingEnabled||O.oImageSmoothingEnabled,O.imageSmoothingEnabled=k}s.util.setImageSmoothing=C,s.util.getById=i,s.util.toArray=h,s.util.addClass=a,s.util.makeElement=r,s.util.wrapElement=n,s.util.getScrollLeftTop=l,s.util.getElementOffset=d,s.util.getNodeCanvas=g,s.util.cleanUpJsdomNode=_}(),function(){function u(h,r){return h+(/\?/.test(h)?"&":"?")+r}function i(){}function o(h,r){r||(r={});var a=r.method?r.method.toUpperCase():"GET",n=r.onComplete||function(){},l=new s.window.XMLHttpRequest,d=r.body||r.parameters;return l.onreadystatechange=function(){l.readyState===4&&(n(l),l.onreadystatechange=i)},a==="GET"&&(d=null,typeof r.parameters=="string"&&(h=u(h,r.parameters))),l.open(a,h,!0),(a==="POST"||a==="PUT")&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(d),l}s.util.request=o}(),s.log=console.log,s.warn=console.warn,function(){function u(){return!1}function i(l,d,c,g){return-c*Math.cos(l/g*(Math.PI/2))+c+d}function o(l){var d=!1;return a(function(c){l||(l={});var g=c||+new Date,_=l.duration||500,C=g+_,O,k=l.onChange||u,F=l.abort||u,z=l.onComplete||u,q=l.easing||i,Q="startValue"in l?l.startValue:0,gt="endValue"in l?l.endValue:100,G=l.byValue||gt-Q;l.onStart&&l.onStart(),function B(it){O=it||+new Date;var M=O>C?_:O-g,mt=M/_,st=q(M,Q,G,_),ut=Math.abs((st-Q)/G);if(!d){if(F(st,ut,mt)){z(gt,1,1);return}if(O>C){k(gt,1,1),z(gt,1,1);return}else k(st,ut,mt),a(B)}}(g)}),function(){d=!0}}var h=s.window.requestAnimationFrame||s.window.webkitRequestAnimationFrame||s.window.mozRequestAnimationFrame||s.window.oRequestAnimationFrame||s.window.msRequestAnimationFrame||function(l){return s.window.setTimeout(l,1e3/60)},r=s.window.cancelAnimationFrame||s.window.clearTimeout;function a(){return h.apply(s.window,arguments)}function n(){return r.apply(s.window,arguments)}s.util.animate=o,s.util.requestAnimFrame=a,s.util.cancelAnimFrame=n}(),function(){function u(o,h,r){var a="rgba("+parseInt(o[0]+r*(h[0]-o[0]),10)+","+parseInt(o[1]+r*(h[1]-o[1]),10)+","+parseInt(o[2]+r*(h[2]-o[2]),10);return a+=","+(o&&h?parseFloat(o[3]+r*(h[3]-o[3])):1),a+=")",a}function i(o,h,r,a){var n=new s.Color(o).getSource(),l=new s.Color(h).getSource(),d=a.onComplete,c=a.onChange;return a=a||{},s.util.animate(s.util.object.extend(a,{duration:r||500,startValue:n,endValue:l,byValue:l,easing:function(g,_,C,O){var k=a.colorEasing?a.colorEasing(g,O):1-Math.cos(g/O*(Math.PI/2));return u(_,C,k)},onComplete:function(g,_,C){if(d)return d(u(l,l,0),_,C)},onChange:function(g,_,C){if(c){if(Array.isArray(g))return c(u(g,g,0),_,C);c(g,_,C)}}}))}s.util.animateColor=i}(),function(){function u(W,Y,H,N){return W<Math.abs(Y)?(W=Y,N=H/4):Y===0&&W===0?N=H/(2*Math.PI)*Math.asin(1):N=H/(2*Math.PI)*Math.asin(Y/W),{a:W,c:Y,p:H,s:N}}function i(W,Y,H){return W.a*Math.pow(2,10*(Y-=1))*Math.sin((Y*H-W.s)*(2*Math.PI)/W.p)}function o(W,Y,H,N){return H*((W=W/N-1)*W*W+1)+Y}function h(W,Y,H,N){return W/=N/2,W<1?H/2*W*W*W+Y:H/2*((W-=2)*W*W+2)+Y}function r(W,Y,H,N){return H*(W/=N)*W*W*W+Y}function a(W,Y,H,N){return-H*((W=W/N-1)*W*W*W-1)+Y}function n(W,Y,H,N){return W/=N/2,W<1?H/2*W*W*W*W+Y:-H/2*((W-=2)*W*W*W-2)+Y}function l(W,Y,H,N){return H*(W/=N)*W*W*W*W+Y}function d(W,Y,H,N){return H*((W=W/N-1)*W*W*W*W+1)+Y}function c(W,Y,H,N){return W/=N/2,W<1?H/2*W*W*W*W*W+Y:H/2*((W-=2)*W*W*W*W+2)+Y}function g(W,Y,H,N){return-H*Math.cos(W/N*(Math.PI/2))+H+Y}function _(W,Y,H,N){return H*Math.sin(W/N*(Math.PI/2))+Y}function C(W,Y,H,N){return-H/2*(Math.cos(Math.PI*W/N)-1)+Y}function O(W,Y,H,N){return W===0?Y:H*Math.pow(2,10*(W/N-1))+Y}function k(W,Y,H,N){return W===N?Y+H:H*(-Math.pow(2,-10*W/N)+1)+Y}function F(W,Y,H,N){return W===0?Y:W===N?Y+H:(W/=N/2,W<1?H/2*Math.pow(2,10*(W-1))+Y:H/2*(-Math.pow(2,-10*--W)+2)+Y)}function z(W,Y,H,N){return-H*(Math.sqrt(1-(W/=N)*W)-1)+Y}function q(W,Y,H,N){return H*Math.sqrt(1-(W=W/N-1)*W)+Y}function Q(W,Y,H,N){return W/=N/2,W<1?-H/2*(Math.sqrt(1-W*W)-1)+Y:H/2*(Math.sqrt(1-(W-=2)*W)+1)+Y}function gt(W,Y,H,N){var U=1.70158,R=0,P=H;if(W===0)return Y;if(W/=N,W===1)return Y+H;R||(R=N*.3);var V=u(P,H,R,U);return-i(V,W,N)+Y}function G(W,Y,H,N){var U=1.70158,R=0,P=H;if(W===0)return Y;if(W/=N,W===1)return Y+H;R||(R=N*.3);var V=u(P,H,R,U);return V.a*Math.pow(2,-10*W)*Math.sin((W*N-V.s)*(2*Math.PI)/V.p)+V.c+Y}function B(W,Y,H,N){var U=1.70158,R=0,P=H;if(W===0)return Y;if(W/=N/2,W===2)return Y+H;R||(R=N*(.3*1.5));var V=u(P,H,R,U);return W<1?-.5*i(V,W,N)+Y:V.a*Math.pow(2,-10*(W-=1))*Math.sin((W*N-V.s)*(2*Math.PI)/V.p)*.5+V.c+Y}function it(W,Y,H,N,U){return U===void 0&&(U=1.70158),H*(W/=N)*W*((U+1)*W-U)+Y}function M(W,Y,H,N,U){return U===void 0&&(U=1.70158),H*((W=W/N-1)*W*((U+1)*W+U)+1)+Y}function mt(W,Y,H,N,U){return U===void 0&&(U=1.70158),W/=N/2,W<1?H/2*(W*W*(((U*=1.525)+1)*W-U))+Y:H/2*((W-=2)*W*(((U*=1.525)+1)*W+U)+2)+Y}function st(W,Y,H,N){return H-ut(N-W,0,H,N)+Y}function ut(W,Y,H,N){return(W/=N)<1/2.75?H*(7.5625*W*W)+Y:W<2/2.75?H*(7.5625*(W-=1.5/2.75)*W+.75)+Y:W<2.5/2.75?H*(7.5625*(W-=2.25/2.75)*W+.9375)+Y:H*(7.5625*(W-=2.625/2.75)*W+.984375)+Y}function vt(W,Y,H,N){return W<N/2?st(W*2,0,H,N)*.5+Y:ut(W*2-N,0,H,N)*.5+H*.5+Y}s.util.ease={easeInQuad:function(W,Y,H,N){return H*(W/=N)*W+Y},easeOutQuad:function(W,Y,H,N){return-H*(W/=N)*(W-2)+Y},easeInOutQuad:function(W,Y,H,N){return W/=N/2,W<1?H/2*W*W+Y:-H/2*(--W*(W-2)-1)+Y},easeInCubic:function(W,Y,H,N){return H*(W/=N)*W*W+Y},easeOutCubic:o,easeInOutCubic:h,easeInQuart:r,easeOutQuart:a,easeInOutQuart:n,easeInQuint:l,easeOutQuint:d,easeInOutQuint:c,easeInSine:g,easeOutSine:_,easeInOutSine:C,easeInExpo:O,easeOutExpo:k,easeInOutExpo:F,easeInCirc:z,easeOutCirc:q,easeInOutCirc:Q,easeInElastic:gt,easeOutElastic:G,easeInOutElastic:B,easeInBack:it,easeOutBack:M,easeInOutBack:mt,easeInBounce:st,easeOutBounce:ut,easeInOutBounce:vt}}(),function(u){var i=u.fabric||(u.fabric={}),o=i.util.object.extend,h=i.util.object.clone,r=i.util.toFixed,a=i.util.parseUnit,n=i.util.multiplyTransformMatrices,l=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],d=["symbol","image","marker","pattern","view","svg"],c=["pattern","defs","symbol","metadata","clipPath","mask","desc"],g=["symbol","g","a","svg","clipPath","defs"],_={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},C={stroke:"strokeOpacity",fill:"fillOpacity"},O="font-size",k="clip-path";i.svgValidTagNamesRegEx=q(l),i.svgViewBoxElementsRegEx=q(d),i.svgInvalidAncestorsRegEx=q(c),i.svgValidParentsRegEx=q(g),i.cssRules={},i.gradientDefs={},i.clipPaths={};function F(R){return R in _?_[R]:R}function z(R,P,V,J){var ht=Object.prototype.toString.call(P)==="[object Array]",dt;if((R==="fill"||R==="stroke")&&P==="none")P="";else{if(R==="strokeUniform")return P==="non-scaling-stroke";if(R==="strokeDashArray")P==="none"?P=null:P=P.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(R==="transformMatrix")V&&V.transformMatrix?P=n(V.transformMatrix,i.parseTransformAttribute(P)):P=i.parseTransformAttribute(P);else if(R==="visible")P=P!=="none"&&P!=="hidden",V&&V.visible===!1&&(P=!1);else if(R==="opacity")P=parseFloat(P),V&&typeof V.opacity<"u"&&(P*=V.opacity);else if(R==="textAnchor")P=P==="start"?"left":P==="end"?"right":"center";else if(R==="charSpacing")dt=a(P,J)/J*1e3;else if(R==="paintFirst"){var At=P.indexOf("fill"),wt=P.indexOf("stroke"),P="fill";(At>-1&&wt>-1&&wt<At||At===-1&&wt>-1)&&(P="stroke")}else{if(R==="href"||R==="xlink:href"||R==="font")return P;if(R==="imageSmoothing")return P==="optimizeQuality";dt=ht?P.map(a):a(P,J)}}return!ht&&isNaN(dt)?P:dt}function q(R){return new RegExp("^("+R.join("|")+")\\b","i")}function Q(R){for(var P in C)if(!(typeof R[C[P]]>"u"||R[P]==="")){if(typeof R[P]>"u"){if(!i.Object.prototype[P])continue;R[P]=i.Object.prototype[P]}if(R[P].indexOf("url(")!==0){var V=new i.Color(R[P]);R[P]=V.setAlpha(r(V.getAlpha()*R[C[P]],2)).toRgba()}}return R}function gt(R,P){var V,J=[],ht,dt,At;for(dt=0,At=P.length;dt<At;dt++)V=P[dt],ht=R.getElementsByTagName(V),J=J.concat(Array.prototype.slice.call(ht));return J}i.parseTransformAttribute=function(){function R(ft,Lt){var Bt=i.util.cos(Lt[0]),qt=i.util.sin(Lt[0]),$t=0,re=0;Lt.length===3&&($t=Lt[1],re=Lt[2]),ft[0]=Bt,ft[1]=qt,ft[2]=-qt,ft[3]=Bt,ft[4]=$t-(Bt*$t-qt*re),ft[5]=re-(qt*$t+Bt*re)}function P(ft,Lt){var Bt=Lt[0],qt=Lt.length===2?Lt[1]:Lt[0];ft[0]=Bt,ft[3]=qt}function V(ft,Lt,Bt){ft[Bt]=Math.tan(i.util.degreesToRadians(Lt[0]))}function J(ft,Lt){ft[4]=Lt[0],Lt.length===2&&(ft[5]=Lt[1])}var ht=i.iMatrix,dt=i.reNum,At=i.commaWsp,wt="(?:(skewX)\\s*\\(\\s*("+dt+")\\s*\\))",Nt="(?:(skewY)\\s*\\(\\s*("+dt+")\\s*\\))",xt="(?:(rotate)\\s*\\(\\s*("+dt+")(?:"+At+"("+dt+")"+At+"("+dt+"))?\\s*\\))",j="(?:(scale)\\s*\\(\\s*("+dt+")(?:"+At+"("+dt+"))?\\s*\\))",rt="(?:(translate)\\s*\\(\\s*("+dt+")(?:"+At+"("+dt+"))?\\s*\\))",X="(?:(matrix)\\s*\\(\\s*("+dt+")"+At+"("+dt+")"+At+"("+dt+")"+At+"("+dt+")"+At+"("+dt+")"+At+"("+dt+")\\s*\\))",$="(?:"+X+"|"+rt+"|"+j+"|"+xt+"|"+wt+"|"+Nt+")",K="(?:"+$+"(?:"+At+"*"+$+")*)",ot="^\\s*(?:"+K+"?)\\s*$",_t=new RegExp(ot),St=new RegExp($,"g");return function(ft){var Lt=ht.concat(),Bt=[];if(!ft||ft&&!_t.test(ft))return Lt;ft.replace(St,function($t){var re=new RegExp($).exec($t).filter(function(ge){return!!ge}),se=re[1],ie=re.slice(2).map(parseFloat);switch(se){case"translate":J(Lt,ie);break;case"rotate":ie[0]=i.util.degreesToRadians(ie[0]),R(Lt,ie);break;case"scale":P(Lt,ie);break;case"skewX":V(Lt,ie,2);break;case"skewY":V(Lt,ie,1);break;case"matrix":Lt=ie;break}Bt.push(Lt.concat()),Lt=ht.concat()});for(var qt=Bt[0];Bt.length>1;)Bt.shift(),qt=i.util.multiplyTransformMatrices(qt,Bt[0]);return qt}}();function G(R,P){var V,J;R.replace(/;\s*$/,"").split(";").forEach(function(ht){var dt=ht.split(":");V=dt[0].trim().toLowerCase(),J=dt[1].trim(),P[V]=J})}function B(R,P){var V,J;for(var ht in R)typeof R[ht]>"u"||(V=ht.toLowerCase(),J=R[ht],P[V]=J)}function it(R,P){var V={};for(var J in i.cssRules[P])if(M(R,J.split(" ")))for(var ht in i.cssRules[P][J])V[ht]=i.cssRules[P][J][ht];return V}function M(R,P){var V,J=!0;return V=st(R,P.pop()),V&&P.length&&(J=mt(R,P)),V&&J&&P.length===0}function mt(R,P){for(var V,J=!0;R.parentNode&&R.parentNode.nodeType===1&&P.length;)J&&(V=P.pop()),R=R.parentNode,J=st(R,V);return P.length===0}function st(R,P){var V=R.nodeName,J=R.getAttribute("class"),ht=R.getAttribute("id"),dt,At;if(dt=new RegExp("^"+V,"i"),P=P.replace(dt,""),ht&&P.length&&(dt=new RegExp("#"+ht+"(?![a-zA-Z\\-]+)","i"),P=P.replace(dt,"")),J&&P.length)for(J=J.split(" "),At=J.length;At--;)dt=new RegExp("\\."+J[At]+"(?![a-zA-Z\\-]+)","i"),P=P.replace(dt,"");return P.length===0}function ut(R,P){var V;if(R.getElementById&&(V=R.getElementById(P)),V)return V;var J,ht,dt,At=R.getElementsByTagName("*");for(ht=0,dt=At.length;ht<dt;ht++)if(J=At[ht],P===J.getAttribute("id"))return J}function vt(R){for(var P=gt(R,["use","svg:use"]),V=0;P.length&&V<P.length;){var J=P[V],ht=J.getAttribute("xlink:href")||J.getAttribute("href");if(ht===null)return;var dt=ht.substr(1),At=J.getAttribute("x")||0,wt=J.getAttribute("y")||0,Nt=ut(R,dt).cloneNode(!0),xt=(Nt.getAttribute("transform")||"")+" translate("+At+", "+wt+")",j,rt=P.length,X,$,K,ot,_t=i.svgNS;if(Y(Nt),/^svg$/i.test(Nt.nodeName)){var St=Nt.ownerDocument.createElementNS(_t,"g");for($=0,K=Nt.attributes,ot=K.length;$<ot;$++)X=K.item($),St.setAttributeNS(_t,X.nodeName,X.nodeValue);for(;Nt.firstChild;)St.appendChild(Nt.firstChild);Nt=St}for($=0,K=J.attributes,ot=K.length;$<ot;$++)X=K.item($),!(X.nodeName==="x"||X.nodeName==="y"||X.nodeName==="xlink:href"||X.nodeName==="href")&&(X.nodeName==="transform"?xt=X.nodeValue+" "+xt:Nt.setAttribute(X.nodeName,X.nodeValue));Nt.setAttribute("transform",xt),Nt.setAttribute("instantiated_by_use","1"),Nt.removeAttribute("id"),j=J.parentNode,j.replaceChild(Nt,J),P.length===rt&&V++}}var W=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function Y(R){if(!i.svgViewBoxElementsRegEx.test(R.nodeName))return{};var P=R.getAttribute("viewBox"),V=1,J=1,ht=0,dt=0,At,wt,Nt,xt,j=R.getAttribute("width"),rt=R.getAttribute("height"),X=R.getAttribute("x")||0,$=R.getAttribute("y")||0,K=R.getAttribute("preserveAspectRatio")||"",ot=!P||!(P=P.match(W)),_t=!j||!rt||j==="100%"||rt==="100%",St=ot&&_t,ft={},Lt="",Bt=0,qt=0;if(ft.width=0,ft.height=0,ft.toBeParsed=St,ot&&(X||$)&&R.parentNode&&R.parentNode.nodeName!=="#document"&&(Lt=" translate("+a(X)+" "+a($)+") ",Nt=(R.getAttribute("transform")||"")+Lt,R.setAttribute("transform",Nt),R.removeAttribute("x"),R.removeAttribute("y")),St)return ft;if(ot)return ft.width=a(j),ft.height=a(rt),ft;if(ht=-parseFloat(P[1]),dt=-parseFloat(P[2]),At=parseFloat(P[3]),wt=parseFloat(P[4]),ft.minX=ht,ft.minY=dt,ft.viewBoxWidth=At,ft.viewBoxHeight=wt,_t?(ft.width=At,ft.height=wt):(ft.width=a(j),ft.height=a(rt),V=ft.width/At,J=ft.height/wt),K=i.util.parsePreserveAspectRatioAttribute(K),K.alignX!=="none"&&(K.meetOrSlice==="meet"&&(J=V=V>J?J:V),K.meetOrSlice==="slice"&&(J=V=V>J?V:J),Bt=ft.width-At*V,qt=ft.height-wt*V,K.alignX==="Mid"&&(Bt/=2),K.alignY==="Mid"&&(qt/=2),K.alignX==="Min"&&(Bt=0),K.alignY==="Min"&&(qt=0)),V===1&&J===1&&ht===0&&dt===0&&X===0&&$===0)return ft;if((X||$)&&R.parentNode.nodeName!=="#document"&&(Lt=" translate("+a(X)+" "+a($)+") "),Nt=Lt+" matrix("+V+" 0 0 "+J+" "+(ht*V+Bt)+" "+(dt*J+qt)+") ",R.nodeName==="svg"){for(xt=R.ownerDocument.createElementNS(i.svgNS,"g");R.firstChild;)xt.appendChild(R.firstChild);R.appendChild(xt)}else xt=R,xt.removeAttribute("x"),xt.removeAttribute("y"),Nt=xt.getAttribute("transform")+Nt;return xt.setAttribute("transform",Nt),ft}function H(R,P){for(;R&&(R=R.parentNode);)if(R.nodeName&&P.test(R.nodeName.replace("svg:",""))&&!R.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(R,P,V,J){if(R){vt(R);var ht=i.Object.__uid++,dt,At,wt=Y(R),Nt=i.util.toArray(R.getElementsByTagName("*"));if(wt.crossOrigin=J&&J.crossOrigin,wt.svgUid=ht,Nt.length===0&&i.isLikelyNode){Nt=R.selectNodes('//*[name(.)!="svg"]');var xt=[];for(dt=0,At=Nt.length;dt<At;dt++)xt[dt]=Nt[dt];Nt=xt}var j=Nt.filter(function(X){return Y(X),i.svgValidTagNamesRegEx.test(X.nodeName.replace("svg:",""))&&!H(X,i.svgInvalidAncestorsRegEx)});if(!j||j&&!j.length){P&&P([],{});return}var rt={};Nt.filter(function(X){return X.nodeName.replace("svg:","")==="clipPath"}).forEach(function(X){var $=X.getAttribute("id");rt[$]=i.util.toArray(X.getElementsByTagName("*")).filter(function(K){return i.svgValidTagNamesRegEx.test(K.nodeName.replace("svg:",""))})}),i.gradientDefs[ht]=i.getGradientDefs(R),i.cssRules[ht]=i.getCSSRules(R),i.clipPaths[ht]=rt,i.parseElements(j,function(X,$){P&&(P(X,wt,$,Nt),delete i.gradientDefs[ht],delete i.cssRules[ht],delete i.clipPaths[ht])},h(wt),V,J)}};function N(R,P){var V=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],J="xlink:href",ht=P.getAttribute(J).substr(1),dt=ut(R,ht);if(dt&&dt.getAttribute(J)&&N(R,dt),V.forEach(function(wt){dt&&!P.hasAttribute(wt)&&dt.hasAttribute(wt)&&P.setAttribute(wt,dt.getAttribute(wt))}),!P.children.length)for(var At=dt.cloneNode(!0);At.firstChild;)P.appendChild(At.firstChild);P.removeAttribute(J)}var U=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");o(i,{parseFontDeclaration:function(R,P){var V=R.match(U);if(V){var J=V[1],ht=V[3],dt=V[4],At=V[5],wt=V[6];J&&(P.fontStyle=J),ht&&(P.fontWeight=isNaN(parseFloat(ht))?ht:parseFloat(ht)),dt&&(P.fontSize=a(dt)),wt&&(P.fontFamily=wt),At&&(P.lineHeight=At==="normal"?1:At)}},getGradientDefs:function(R){var P=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],V=gt(R,P),J,ht=0,dt={};for(ht=V.length;ht--;)J=V[ht],J.getAttribute("xlink:href")&&N(R,J),dt[J.getAttribute("id")]=J;return dt},parseAttributes:function(R,P,V){if(R){var J,ht={},dt,At;typeof V>"u"&&(V=R.getAttribute("svgUid")),R.parentNode&&i.svgValidParentsRegEx.test(R.parentNode.nodeName)&&(ht=i.parseAttributes(R.parentNode,P,V));var wt=P.reduce(function(K,ot){return J=R.getAttribute(ot),J&&(K[ot]=J),K},{}),Nt=o(it(R,V),i.parseStyleAttribute(R));wt=o(wt,Nt),Nt[k]&&R.setAttribute(k,Nt[k]),dt=At=ht.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,wt[O]&&(wt[O]=dt=a(wt[O],At));var xt,j,rt={};for(var X in wt)xt=F(X),j=z(xt,wt[X],ht,dt),rt[xt]=j;rt&&rt.font&&i.parseFontDeclaration(rt.font,rt);var $=o(ht,rt);return i.svgValidParentsRegEx.test(R.nodeName)?$:Q($)}},parseElements:function(R,P,V,J,ht){new i.ElementsParser(R,P,V,J,ht).parse()},parseStyleAttribute:function(R){var P={},V=R.getAttribute("style");return V&&(typeof V=="string"?G(V,P):B(V,P)),P},parsePointsAttribute:function(R){if(!R)return null;R=R.replace(/,/g," ").trim(),R=R.split(/\s+/);var P=[],V,J;for(V=0,J=R.length;V<J;V+=2)P.push({x:parseFloat(R[V]),y:parseFloat(R[V+1])});return P},getCSSRules:function(R){var P=R.getElementsByTagName("style"),V,J,ht={},dt;for(V=0,J=P.length;V<J;V++){var At=P[V].textContent;At=At.replace(/\/\*[\s\S]*?\*\//g,""),At.trim()!==""&&(dt=At.match(/[^{]*\{[\s\S]*?\}/g),dt=dt.map(function(wt){return wt.trim()}),dt.forEach(function(wt){var Nt=wt.match(/([\s\S]*?)\s*\{([^}]*)\}/),xt={},j=Nt[2].trim(),rt=j.replace(/;$/,"").split(/\s*;\s*/);for(V=0,J=rt.length;V<J;V++){var X=rt[V].split(/\s*:\s*/),$=X[0],K=X[1];xt[$]=K}wt=Nt[1],wt.split(",").forEach(function(ot){ot=ot.replace(/^svg/i,"").trim(),ot!==""&&(ht[ot]?i.util.object.extend(ht[ot],xt):ht[ot]=i.util.object.clone(xt))})}))}return ht},loadSVGFromURL:function(R,P,V,J){R=R.replace(/^\n\s*/,"").trim(),new i.util.request(R,{method:"get",onComplete:ht});function ht(dt){var At=dt.responseXML;if(!At||!At.documentElement)return P&&P(null),!1;i.parseSVGDocument(At.documentElement,function(wt,Nt,xt,j){P&&P(wt,Nt,xt,j)},V,J)}},loadSVGFromString:function(R,P,V,J){var ht=new i.window.DOMParser,dt=ht.parseFromString(R.trim(),"text/xml");i.parseSVGDocument(dt.documentElement,function(At,wt,Nt,xt){P(At,wt,Nt,xt)},V,J)}})}(m),s.ElementsParser=function(u,i,o,h,r,a){this.elements=u,this.callback=i,this.options=o,this.reviver=h,this.svgUid=o&&o.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=a},function(u){u.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},u.createObjects=function(){var i=this;this.elements.forEach(function(o,h){o.setAttribute("svgUid",i.svgUid),i.createObject(o,h)})},u.findTag=function(i){return s[s.util.string.capitalize(i.tagName.replace("svg:",""))]},u.createObject=function(i,o){var h=this.findTag(i);if(h&&h.fromElement)try{h.fromElement(i,this.createCallback(o,i),this.options)}catch(r){s.log(r)}else this.checkIfDone()},u.createCallback=function(i,o){var h=this;return function(r){var a;h.resolveGradient(r,o,"fill"),h.resolveGradient(r,o,"stroke"),r instanceof s.Image&&r._originalElement&&(a=r.parsePreserveAspectRatioAttribute(o)),r._removeTransformMatrix(a),h.resolveClipPath(r,o),h.reviver&&h.reviver(o,r),h.instances[i]=r,h.checkIfDone()}},u.extractPropertyDefinition=function(i,o,h){var r=i[o],a=this.regexUrl;if(a.test(r)){a.lastIndex=0;var n=a.exec(r)[1];return a.lastIndex=0,s[h][this.svgUid][n]}},u.resolveGradient=function(i,o,h){var r=this.extractPropertyDefinition(i,h,"gradientDefs");if(r){var a=o.getAttribute(h+"-opacity"),n=s.Gradient.fromElement(r,i,a,this.options);i.set(h,n)}},u.createClipPathCallback=function(i,o){return function(h){h._removeTransformMatrix(),h.fillRule=h.clipRule,o.push(h)}},u.resolveClipPath=function(i,o){var h=this.extractPropertyDefinition(i,"clipPath","clipPaths"),r,a,n,l,d,c;if(h){l=[],n=s.util.invertTransform(i.calcTransformMatrix());for(var g=h[0].parentNode,_=o;_.parentNode&&_.getAttribute("clip-path")!==i.clipPath;)_=_.parentNode;_.parentNode.appendChild(g);for(var C=0;C<h.length;C++)r=h[C],a=this.findTag(r),a.fromElement(r,this.createClipPathCallback(i,l),this.options);l.length===1?h=l[0]:h=new s.Group(l),d=s.util.multiplyTransformMatrices(n,h.calcTransformMatrix()),h.clipPath&&this.resolveClipPath(h,_);var c=s.util.qrDecompose(d);h.flipX=!1,h.flipY=!1,h.set("scaleX",c.scaleX),h.set("scaleY",c.scaleY),h.angle=c.angle,h.skewX=c.skewX,h.skewY=0,h.setPositionByOrigin({x:c.translateX,y:c.translateY},"center","center"),i.clipPath=h}else delete i.clipPath},u.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(s.ElementsParser.prototype),function(u){var i=u.fabric||(u.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=o;function o(h,r){this.x=h,this.y=r}o.prototype={type:"point",constructor:o,add:function(h){return new o(this.x+h.x,this.y+h.y)},addEquals:function(h){return this.x+=h.x,this.y+=h.y,this},scalarAdd:function(h){return new o(this.x+h,this.y+h)},scalarAddEquals:function(h){return this.x+=h,this.y+=h,this},subtract:function(h){return new o(this.x-h.x,this.y-h.y)},subtractEquals:function(h){return this.x-=h.x,this.y-=h.y,this},scalarSubtract:function(h){return new o(this.x-h,this.y-h)},scalarSubtractEquals:function(h){return this.x-=h,this.y-=h,this},multiply:function(h){return new o(this.x*h,this.y*h)},multiplyEquals:function(h){return this.x*=h,this.y*=h,this},divide:function(h){return new o(this.x/h,this.y/h)},divideEquals:function(h){return this.x/=h,this.y/=h,this},eq:function(h){return this.x===h.x&&this.y===h.y},lt:function(h){return this.x<h.x&&this.y<h.y},lte:function(h){return this.x<=h.x&&this.y<=h.y},gt:function(h){return this.x>h.x&&this.y>h.y},gte:function(h){return this.x>=h.x&&this.y>=h.y},lerp:function(h,r){return typeof r>"u"&&(r=.5),r=Math.max(Math.min(1,r),0),new o(this.x+(h.x-this.x)*r,this.y+(h.y-this.y)*r)},distanceFrom:function(h){var r=this.x-h.x,a=this.y-h.y;return Math.sqrt(r*r+a*a)},midPointFrom:function(h){return this.lerp(h)},min:function(h){return new o(Math.min(this.x,h.x),Math.min(this.y,h.y))},max:function(h){return new o(Math.max(this.x,h.x),Math.max(this.y,h.y))},toString:function(){return this.x+","+this.y},setXY:function(h,r){return this.x=h,this.y=r,this},setX:function(h){return this.x=h,this},setY:function(h){return this.y=h,this},setFromPoint:function(h){return this.x=h.x,this.y=h.y,this},swap:function(h){var r=this.x,a=this.y;this.x=h.x,this.y=h.y,h.x=r,h.y=a},clone:function(){return new o(this.x,this.y)}}}(m),function(u){var i=u.fabric||(u.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function o(h){this.status=h,this.points=[]}i.Intersection=o,i.Intersection.prototype={constructor:o,appendPoint:function(h){return this.points.push(h),this},appendPoints:function(h){return this.points=this.points.concat(h),this}},i.Intersection.intersectLineLine=function(h,r,a,n){var l,d=(n.x-a.x)*(h.y-a.y)-(n.y-a.y)*(h.x-a.x),c=(r.x-h.x)*(h.y-a.y)-(r.y-h.y)*(h.x-a.x),g=(n.y-a.y)*(r.x-h.x)-(n.x-a.x)*(r.y-h.y);if(g!==0){var _=d/g,C=c/g;0<=_&&_<=1&&0<=C&&C<=1?(l=new o("Intersection"),l.appendPoint(new i.Point(h.x+_*(r.x-h.x),h.y+_*(r.y-h.y)))):l=new o}else d===0||c===0?l=new o("Coincident"):l=new o("Parallel");return l},i.Intersection.intersectLinePolygon=function(h,r,a){var n=new o,l=a.length,d,c,g,_;for(_=0;_<l;_++)d=a[_],c=a[(_+1)%l],g=o.intersectLineLine(h,r,d,c),n.appendPoints(g.points);return n.points.length>0&&(n.status="Intersection"),n},i.Intersection.intersectPolygonPolygon=function(h,r){var a=new o,n=h.length,l;for(l=0;l<n;l++){var d=h[l],c=h[(l+1)%n],g=o.intersectLinePolygon(d,c,r);a.appendPoints(g.points)}return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonRectangle=function(h,r,a){var n=r.min(a),l=r.max(a),d=new i.Point(l.x,n.y),c=new i.Point(n.x,l.y),g=o.intersectLinePolygon(n,d,h),_=o.intersectLinePolygon(d,l,h),C=o.intersectLinePolygon(l,c,h),O=o.intersectLinePolygon(c,n,h),k=new o;return k.appendPoints(g.points),k.appendPoints(_.points),k.appendPoints(C.points),k.appendPoints(O.points),k.points.length>0&&(k.status="Intersection"),k}}(m),function(u){var i=u.fabric||(u.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function o(r){r?this._tryParsingColor(r):this.setSource([0,0,0,1])}i.Color=o,i.Color.prototype={_tryParsingColor:function(r){var a;r in o.colorNameMap&&(r=o.colorNameMap[r]),r==="transparent"&&(a=[255,255,255,0]),a||(a=o.sourceFromHex(r)),a||(a=o.sourceFromRgb(r)),a||(a=o.sourceFromHsl(r)),a||(a=[0,0,0,1]),a&&this.setSource(a)},_rgbToHsl:function(r,a,n){r/=255,a/=255,n/=255;var l,d,c,g=i.util.array.max([r,a,n]),_=i.util.array.min([r,a,n]);if(c=(g+_)/2,g===_)l=d=0;else{var C=g-_;switch(d=c>.5?C/(2-g-_):C/(g+_),g){case r:l=(a-n)/C+(a<n?6:0);break;case a:l=(n-r)/C+2;break;case n:l=(r-a)/C+4;break}l/=6}return[Math.round(l*360),Math.round(d*100),Math.round(c*100)]},getSource:function(){return this._source},setSource:function(r){this._source=r},toRgb:function(){var r=this.getSource();return"rgb("+r[0]+","+r[1]+","+r[2]+")"},toRgba:function(){var r=this.getSource();return"rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+")"},toHsl:function(){var r=this.getSource(),a=this._rgbToHsl(r[0],r[1],r[2]);return"hsl("+a[0]+","+a[1]+"%,"+a[2]+"%)"},toHsla:function(){var r=this.getSource(),a=this._rgbToHsl(r[0],r[1],r[2]);return"hsla("+a[0]+","+a[1]+"%,"+a[2]+"%,"+r[3]+")"},toHex:function(){var r=this.getSource(),a,n,l;return a=r[0].toString(16),a=a.length===1?"0"+a:a,n=r[1].toString(16),n=n.length===1?"0"+n:n,l=r[2].toString(16),l=l.length===1?"0"+l:l,a.toUpperCase()+n.toUpperCase()+l.toUpperCase()},toHexa:function(){var r=this.getSource(),a;return a=Math.round(r[3]*255),a=a.toString(16),a=a.length===1?"0"+a:a,this.toHex()+a.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(r){var a=this.getSource();return a[3]=r,this.setSource(a),this},toGrayscale:function(){var r=this.getSource(),a=parseInt((r[0]*.3+r[1]*.59+r[2]*.11).toFixed(0),10),n=r[3];return this.setSource([a,a,a,n]),this},toBlackWhite:function(r){var a=this.getSource(),n=(a[0]*.3+a[1]*.59+a[2]*.11).toFixed(0),l=a[3];return r=r||127,n=Number(n)<Number(r)?0:255,this.setSource([n,n,n,l]),this},overlayWith:function(r){r instanceof o||(r=new o(r));var a=[],n=this.getAlpha(),l=.5,d=this.getSource(),c=r.getSource(),g;for(g=0;g<3;g++)a.push(Math.round(d[g]*(1-l)+c[g]*l));return a[3]=n,this.setSource(a),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function h(r,a,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?r+(a-r)*6*n:n<1/2?a:n<2/3?r+(a-r)*(2/3-n)*6:r}i.Color.fromRgb=function(r){return o.fromSource(o.sourceFromRgb(r))},i.Color.sourceFromRgb=function(r){var a=r.match(o.reRGBa);if(a){var n=parseInt(a[1],10)/(/%$/.test(a[1])?100:1)*(/%$/.test(a[1])?255:1),l=parseInt(a[2],10)/(/%$/.test(a[2])?100:1)*(/%$/.test(a[2])?255:1),d=parseInt(a[3],10)/(/%$/.test(a[3])?100:1)*(/%$/.test(a[3])?255:1);return[parseInt(n,10),parseInt(l,10),parseInt(d,10),a[4]?parseFloat(a[4]):1]}},i.Color.fromRgba=o.fromRgb,i.Color.fromHsl=function(r){return o.fromSource(o.sourceFromHsl(r))},i.Color.sourceFromHsl=function(r){var a=r.match(o.reHSLa);if(a){var n=(parseFloat(a[1])%360+360)%360/360,l=parseFloat(a[2])/(/%$/.test(a[2])?100:1),d=parseFloat(a[3])/(/%$/.test(a[3])?100:1),c,g,_;if(l===0)c=g=_=d;else{var C=d<=.5?d*(l+1):d+l-d*l,O=d*2-C;c=h(O,C,n+1/3),g=h(O,C,n),_=h(O,C,n-1/3)}return[Math.round(c*255),Math.round(g*255),Math.round(_*255),a[4]?parseFloat(a[4]):1]}},i.Color.fromHsla=o.fromHsl,i.Color.fromHex=function(r){return o.fromSource(o.sourceFromHex(r))},i.Color.sourceFromHex=function(r){if(r.match(o.reHex)){var a=r.slice(r.indexOf("#")+1),n=a.length===3||a.length===4,l=a.length===8||a.length===4,d=n?a.charAt(0)+a.charAt(0):a.substring(0,2),c=n?a.charAt(1)+a.charAt(1):a.substring(2,4),g=n?a.charAt(2)+a.charAt(2):a.substring(4,6),_=l?n?a.charAt(3)+a.charAt(3):a.substring(6,8):"FF";return[parseInt(d,16),parseInt(c,16),parseInt(g,16),parseFloat((parseInt(_,16)/255).toFixed(2))]}},i.Color.fromSource=function(r){var a=new o;return a.setSource(r),a}}(m),function(u){var i=u.fabric||(u.fabric={}),o=["e","se","s","sw","w","nw","n","ne","e"],h=["ns","nesw","ew","nwse"],r={},a="left",n="top",l="right",d="bottom",c="center",g={top:d,bottom:n,left:l,right:a,center:c},_=i.util.radiansToDegrees,C=Math.sign||function(xt){return(xt>0)-(xt<0)||+xt};function O(xt,j){var rt=xt.angle+_(Math.atan2(j.y,j.x))+360;return Math.round(rt%360/45)}function k(xt,j){var rt=j.transform.target,X=rt.canvas,$=i.util.object.clone(j);$.target=rt,X&&X.fire("object:"+xt,$),rt.fire(xt,j)}function F(xt,j){var rt=j.canvas,X=rt.uniScaleKey,$=xt[X];return rt.uniformScaling&&!$||!rt.uniformScaling&&$}function z(xt){return xt.originX===c&&xt.originY===c}function q(xt,j,rt){var X=xt.lockScalingX,$=xt.lockScalingY;return!!(X&&$||!j&&(X||$)&&rt||X&&j==="x"||$&&j==="y")}function Q(xt,j,rt){var X="not-allowed",$=F(xt,rt),K="";if(j.x!==0&&j.y===0?K="x":j.x===0&&j.y!==0&&(K="y"),q(rt,K,$))return X;var ot=O(rt,j);return o[ot]+"-resize"}function gt(xt,j,rt){var X="not-allowed";if(j.x!==0&&rt.lockSkewingY||j.y!==0&&rt.lockSkewingX)return X;var $=O(rt,j)%4;return h[$]+"-resize"}function G(xt,j,rt){return xt[rt.canvas.altActionKey]?r.skewCursorStyleHandler(xt,j,rt):r.scaleCursorStyleHandler(xt,j,rt)}function B(xt,j,rt){var X=xt[rt.canvas.altActionKey];if(j.x===0)return X?"skewX":"scaleY";if(j.y===0)return X?"skewY":"scaleX"}function it(xt,j,rt){return rt.lockRotation?"not-allowed":j.cursorStyle}function M(xt,j,rt,X){return{e:xt,transform:j,pointer:{x:rt,y:X}}}function mt(xt){return function(j,rt,X,$){var K=rt.target,ot=K.getCenterPoint(),_t=K.translateToOriginPoint(ot,rt.originX,rt.originY),St=xt(j,rt,X,$);return K.setPositionByOrigin(_t,rt.originX,rt.originY),St}}function st(xt,j){return function(rt,X,$,K){var ot=j(rt,X,$,K);return ot&&k(xt,M(rt,X,$,K)),ot}}function ut(xt,j,rt,X,$){var K=xt.target,ot=K.controls[xt.corner],_t=K.canvas.getZoom(),St=K.padding/_t,ft=K.toLocalPoint(new i.Point(X,$),j,rt);return ft.x>=St&&(ft.x-=St),ft.x<=-St&&(ft.x+=St),ft.y>=St&&(ft.y-=St),ft.y<=St&&(ft.y+=St),ft.x-=ot.offsetX,ft.y-=ot.offsetY,ft}function vt(xt){return xt.flipX!==xt.flipY}function W(xt,j,rt,X,$){if(xt[j]!==0){var K=xt._getTransformedDimensions()[X],ot=$/K*xt[rt];xt.set(rt,ot)}}function Y(xt,j,rt,X){var $=j.target,K=$._getTransformedDimensions(0,$.skewY),ot=ut(j,j.originX,j.originY,rt,X),_t=Math.abs(ot.x*2)-K.x,St=$.skewX,ft;_t<2?ft=0:(ft=_(Math.atan2(_t/$.scaleX,K.y/$.scaleY)),j.originX===a&&j.originY===d&&(ft=-ft),j.originX===l&&j.originY===n&&(ft=-ft),vt($)&&(ft=-ft));var Lt=St!==ft;if(Lt){var Bt=$._getTransformedDimensions().y;$.set("skewX",ft),W($,"skewY","scaleY","y",Bt)}return Lt}function H(xt,j,rt,X){var $=j.target,K=$._getTransformedDimensions($.skewX,0),ot=ut(j,j.originX,j.originY,rt,X),_t=Math.abs(ot.y*2)-K.y,St=$.skewY,ft;_t<2?ft=0:(ft=_(Math.atan2(_t/$.scaleY,K.x/$.scaleX)),j.originX===a&&j.originY===d&&(ft=-ft),j.originX===l&&j.originY===n&&(ft=-ft),vt($)&&(ft=-ft));var Lt=St!==ft;if(Lt){var Bt=$._getTransformedDimensions().x;$.set("skewY",ft),W($,"skewX","scaleX","x",Bt)}return Lt}function N(xt,j,rt,X){var $=j.target,K=$.skewX,ot,_t=j.originY;if($.lockSkewingX)return!1;if(K===0){var St=ut(j,c,c,rt,X);St.x>0?ot=a:ot=l}else K>0&&(ot=_t===n?a:l),K<0&&(ot=_t===n?l:a),vt($)&&(ot=ot===a?l:a);j.originX=ot;var ft=st("skewing",mt(Y));return ft(xt,j,rt,X)}function U(xt,j,rt,X){var $=j.target,K=$.skewY,ot,_t=j.originX;if($.lockSkewingY)return!1;if(K===0){var St=ut(j,c,c,rt,X);St.y>0?ot=n:ot=d}else K>0&&(ot=_t===a?n:d),K<0&&(ot=_t===a?d:n),vt($)&&(ot=ot===n?d:n);j.originY=ot;var ft=st("skewing",mt(H));return ft(xt,j,rt,X)}function R(xt,j,rt,X){var $=j,K=$.target,ot=K.translateToOriginPoint(K.getCenterPoint(),$.originX,$.originY);if(K.lockRotation)return!1;var _t=Math.atan2($.ey-ot.y,$.ex-ot.x),St=Math.atan2(X-ot.y,rt-ot.x),ft=_(St-_t+$.theta),Lt=!0;if(K.snapAngle>0){var Bt=K.snapAngle,qt=K.snapThreshold||Bt,$t=Math.ceil(ft/Bt)*Bt,re=Math.floor(ft/Bt)*Bt;Math.abs(ft-re)<qt?ft=re:Math.abs(ft-$t)<qt&&(ft=$t)}return ft<0&&(ft=360+ft),ft%=360,Lt=K.angle!==ft,K.angle=ft,Lt}function P(xt,j,rt,X,$){$=$||{};var K=j.target,ot=K.lockScalingX,_t=K.lockScalingY,St=$.by,ft,Lt,Bt,qt,$t=F(xt,K),re=q(K,St,$t),se,ie,ge=j.gestureScale;if(re)return!1;if(ge)Lt=j.scaleX*ge,Bt=j.scaleY*ge;else{if(ft=ut(j,j.originX,j.originY,rt,X),se=St!=="y"?C(ft.x):1,ie=St!=="x"?C(ft.y):1,j.signX||(j.signX=se),j.signY||(j.signY=ie),K.lockScalingFlip&&(j.signX!==se||j.signY!==ie))return!1;if(qt=K._getTransformedDimensions(),$t&&!St){var ae=Math.abs(ft.x)+Math.abs(ft.y),ti=j.original,fe=Math.abs(qt.x*ti.scaleX/K.scaleX)+Math.abs(qt.y*ti.scaleY/K.scaleY),ei=ae/fe;Lt=ti.scaleX*ei,Bt=ti.scaleY*ei}else Lt=Math.abs(ft.x*K.scaleX/qt.x),Bt=Math.abs(ft.y*K.scaleY/qt.y);z(j)&&(Lt*=2,Bt*=2),j.signX!==se&&St!=="y"&&(j.originX=g[j.originX],Lt*=-1,j.signX=se),j.signY!==ie&&St!=="x"&&(j.originY=g[j.originY],Bt*=-1,j.signY=ie)}var De=K.scaleX,Me=K.scaleY;return St?(St==="x"&&K.set("scaleX",Lt),St==="y"&&K.set("scaleY",Bt)):(!ot&&K.set("scaleX",Lt),!_t&&K.set("scaleY",Bt)),De!==K.scaleX||Me!==K.scaleY}function V(xt,j,rt,X){return P(xt,j,rt,X)}function J(xt,j,rt,X){return P(xt,j,rt,X,{by:"x"})}function ht(xt,j,rt,X){return P(xt,j,rt,X,{by:"y"})}function dt(xt,j,rt,X){return xt[j.target.canvas.altActionKey]?r.skewHandlerX(xt,j,rt,X):r.scalingY(xt,j,rt,X)}function At(xt,j,rt,X){return xt[j.target.canvas.altActionKey]?r.skewHandlerY(xt,j,rt,X):r.scalingX(xt,j,rt,X)}function wt(xt,j,rt,X){var $=j.target,K=ut(j,j.originX,j.originY,rt,X),ot=$.strokeWidth/($.strokeUniform?$.scaleX:1),_t=z(j)?2:1,St=$.width,ft=Math.abs(K.x*_t/$.scaleX)-ot;return $.set("width",Math.max(ft,0)),St!==ft}function Nt(xt,j,rt,X){var $=j.target,K=rt-j.offsetX,ot=X-j.offsetY,_t=!$.get("lockMovementX")&&$.left!==K,St=!$.get("lockMovementY")&&$.top!==ot;return _t&&$.set("left",K),St&&$.set("top",ot),(_t||St)&&k("moving",M(xt,j,rt,X)),_t||St}r.scaleCursorStyleHandler=Q,r.skewCursorStyleHandler=gt,r.scaleSkewCursorStyleHandler=G,r.rotationWithSnapping=st("rotating",mt(R)),r.scalingEqually=st("scaling",mt(V)),r.scalingX=st("scaling",mt(J)),r.scalingY=st("scaling",mt(ht)),r.scalingYOrSkewingX=dt,r.scalingXOrSkewingY=At,r.changeWidth=st("resizing",mt(wt)),r.skewHandlerX=N,r.skewHandlerY=U,r.dragHandler=Nt,r.scaleOrSkewActionName=B,r.rotationStyleHandler=it,r.fireEvent=k,r.wrapWithFixedAnchor=mt,r.wrapWithFireEvent=st,r.getLocalPoint=ut,i.controlsUtils=r}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.util.degreesToRadians,h=i.controlsUtils;function r(n,l,d,c,g){c=c||{};var _=this.sizeX||c.cornerSize||g.cornerSize,C=this.sizeY||c.cornerSize||g.cornerSize,O=typeof c.transparentCorners<"u"?c.transparentCorners:g.transparentCorners,k=O?"stroke":"fill",F=!O&&(c.cornerStrokeColor||g.cornerStrokeColor),z=l,q=d,Q;n.save(),n.fillStyle=c.cornerColor||g.cornerColor,n.strokeStyle=c.cornerStrokeColor||g.cornerStrokeColor,_>C?(Q=_,n.scale(1,C/_),q=d*_/C):C>_?(Q=C,n.scale(_/C,1),z=l*C/_):Q=_,n.lineWidth=1,n.beginPath(),n.arc(z,q,Q/2,0,2*Math.PI,!1),n[k](),F&&n.stroke(),n.restore()}function a(n,l,d,c,g){c=c||{};var _=this.sizeX||c.cornerSize||g.cornerSize,C=this.sizeY||c.cornerSize||g.cornerSize,O=typeof c.transparentCorners<"u"?c.transparentCorners:g.transparentCorners,k=O?"stroke":"fill",F=!O&&(c.cornerStrokeColor||g.cornerStrokeColor),z=_/2,q=C/2;n.save(),n.fillStyle=c.cornerColor||g.cornerColor,n.strokeStyle=c.cornerStrokeColor||g.cornerStrokeColor,n.lineWidth=1,n.translate(l,d),n.rotate(o(g.angle)),n[k+"Rect"](-z,-q,_,C),F&&n.strokeRect(-z,-q,_,C),n.restore()}h.renderCircleControl=r,h.renderSquareControl=a}(m),function(u){var i=u.fabric||(u.fabric={});function o(h){for(var r in h)this[r]=h[r]}i.Control=o,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(h,r){return r.cursorStyle},getActionName:function(h,r){return r.actionName},getVisibility:function(h,r){var a=h._controlsVisibility;return a&&typeof a[r]<"u"?a[r]:this.visible},setVisibility:function(h){this.visible=h},positionHandler:function(h,r){var a=i.util.transformPoint({x:this.x*h.x+this.offsetX,y:this.y*h.y+this.offsetY},r);return a},calcCornerCoords:function(h,r,a,n,l){var d,c,g,_,C=l?this.touchSizeX:this.sizeX,O=l?this.touchSizeY:this.sizeY;if(C&&O&&C!==O){var k=Math.atan2(O,C),F=Math.sqrt(C*C+O*O)/2,z=k-i.util.degreesToRadians(h),q=Math.PI/2-k-i.util.degreesToRadians(h);d=F*i.util.cos(z),c=F*i.util.sin(z),g=F*i.util.cos(q),_=F*i.util.sin(q)}else{var Q=C&&O?C:r;F=Q*.7071067812;var z=i.util.degreesToRadians(45-h);d=g=F*i.util.cos(z),c=_=F*i.util.sin(z)}return{tl:{x:a-_,y:n-g},tr:{x:a+d,y:n-c},bl:{x:a-d,y:n+c},br:{x:a+_,y:n+g}}},render:function(h,r,a,n,l){switch(n=n||{},n.cornerStyle||l.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,h,r,a,n,l);break;default:i.controlsUtils.renderSquareControl.call(this,h,r,a,n,l)}}}}(m),function(){function u(a,n){var l=a.getAttribute("style"),d=a.getAttribute("offset")||0,c,g,_,C;if(d=parseFloat(d)/(/%$/.test(d)?100:1),d=d<0?0:d>1?1:d,l){var O=l.split(/\s*;\s*/);for(O[O.length-1]===""&&O.pop(),C=O.length;C--;){var k=O[C].split(/\s*:\s*/),F=k[0].trim(),z=k[1].trim();F==="stop-color"?c=z:F==="stop-opacity"&&(_=z)}}return c||(c=a.getAttribute("stop-color")||"rgb(0,0,0)"),_||(_=a.getAttribute("stop-opacity")),c=new s.Color(c),g=c.getAlpha(),_=isNaN(parseFloat(_))?1:parseFloat(_),_*=g*n,{offset:d,color:c.toRgb(),opacity:_}}function i(a){return{x1:a.getAttribute("x1")||0,y1:a.getAttribute("y1")||0,x2:a.getAttribute("x2")||"100%",y2:a.getAttribute("y2")||0}}function o(a){return{x1:a.getAttribute("fx")||a.getAttribute("cx")||"50%",y1:a.getAttribute("fy")||a.getAttribute("cy")||"50%",r1:0,x2:a.getAttribute("cx")||"50%",y2:a.getAttribute("cy")||"50%",r2:a.getAttribute("r")||"50%"}}var h=s.util.object.clone;s.Gradient=s.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(a){a||(a={}),a.coords||(a.coords={});var n,l=this;Object.keys(a).forEach(function(d){l[d]=a[d]}),this.id?this.id+="_"+s.Object.__uid++:this.id=s.Object.__uid++,n={x1:a.coords.x1||0,y1:a.coords.y1||0,x2:a.coords.x2||0,y2:a.coords.y2||0},this.type==="radial"&&(n.r1=a.coords.r1||0,n.r2=a.coords.r2||0),this.coords=n,this.colorStops=a.colorStops.slice()},addColorStop:function(a){for(var n in a){var l=new s.Color(a[n]);this.colorStops.push({offset:parseFloat(n),color:l.toRgb(),opacity:l.getAlpha()})}return this},toObject:function(a){var n={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return s.util.populateWithProperties(this,n,a),n},toSVG:function(a,g){var l=h(this.coords,!0),d,c,g=g||{},_,C,O=h(this.colorStops,!0),k=l.r1>l.r2,F=this.gradientTransform?this.gradientTransform.concat():s.iMatrix.concat(),z=-this.offsetX,q=-this.offsetY,Q=!!g.additionalTransform,gt=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(O.sort(function(mt,st){return mt.offset-st.offset}),gt==="objectBoundingBox"?(z/=a.width,q/=a.height):(z+=a.width/2,q+=a.height/2),a.type==="path"&&this.gradientUnits!=="percentage"&&(z-=a.pathOffset.x,q-=a.pathOffset.y),F[4]-=z,F[5]-=q,C='id="SVGID_'+this.id+'" gradientUnits="'+gt+'"',C+=' gradientTransform="'+(Q?g.additionalTransform+" ":"")+s.util.matrixToSVG(F)+'" ',this.type==="linear"?_=["<linearGradient ",C,' x1="',l.x1,'" y1="',l.y1,'" x2="',l.x2,'" y2="',l.y2,`">
`]:this.type==="radial"&&(_=["<radialGradient ",C,' cx="',k?l.x1:l.x2,'" cy="',k?l.y1:l.y2,'" r="',k?l.r1:l.r2,'" fx="',k?l.x2:l.x1,'" fy="',k?l.y2:l.y1,`">
`]),this.type==="radial"){if(k)for(O=O.concat(),O.reverse(),d=0,c=O.length;d<c;d++)O[d].offset=1-O[d].offset;var G=Math.min(l.r1,l.r2);if(G>0){var B=Math.max(l.r1,l.r2),it=G/B;for(d=0,c=O.length;d<c;d++)O[d].offset+=it*(1-O[d].offset)}}for(d=0,c=O.length;d<c;d++){var M=O[d];_.push("<stop ",'offset="',M.offset*100+"%",'" style="stop-color:',M.color,typeof M.opacity<"u"?";stop-opacity: "+M.opacity:";",`"/>
`)}return _.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),_.join("")},toLive:function(a){var n,l=s.util.object.clone(this.coords),d,c;if(this.type){for(this.type==="linear"?n=a.createLinearGradient(l.x1,l.y1,l.x2,l.y2):this.type==="radial"&&(n=a.createRadialGradient(l.x1,l.y1,l.r1,l.x2,l.y2,l.r2)),d=0,c=this.colorStops.length;d<c;d++){var g=this.colorStops[d].color,_=this.colorStops[d].opacity,C=this.colorStops[d].offset;typeof _<"u"&&(g=new s.Color(g).setAlpha(_).toRgba()),n.addColorStop(C,g)}return n}}}),s.util.object.extend(s.Gradient,{fromElement:function(a,n,l,d){var c=parseFloat(l)/(/%$/.test(l)?100:1);c=c<0?0:c>1?1:c,isNaN(c)&&(c=1);var g=a.getElementsByTagName("stop"),_,C=a.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",O=a.getAttribute("gradientTransform")||"",k=[],F,z,q=0,Q=0,gt;for(a.nodeName==="linearGradient"||a.nodeName==="LINEARGRADIENT"?(_="linear",F=i(a)):(_="radial",F=o(a)),z=g.length;z--;)k.push(u(g[z],c));gt=s.parseTransformAttribute(O),r(n,F,d,C),C==="pixels"&&(q=-n.left,Q=-n.top);var G=new s.Gradient({id:a.getAttribute("id"),type:_,coords:F,colorStops:k,gradientUnits:C,gradientTransform:gt,offsetX:q,offsetY:Q});return G}});function r(a,n,l,d){var c,g;Object.keys(n).forEach(function(_){c=n[_],c==="Infinity"?g=1:c==="-Infinity"?g=0:(g=parseFloat(n[_],10),typeof c=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(c)&&(g*=.01,d==="pixels"&&((_==="x1"||_==="x2"||_==="r2")&&(g*=l.viewBoxWidth||l.width),(_==="y1"||_==="y2")&&(g*=l.viewBoxHeight||l.height)))),n[_]=g})}}(),function(){var u=s.util.toFixed;s.Pattern=s.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,o){if(i||(i={}),this.id=s.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){o&&o(this);return}else{var h=this;this.source=s.util.createImage(),s.util.loadImage(i.source,function(r,a){h.source=r,o&&o(h,a)},null,this.crossOrigin)}},toObject:function(i){var o=s.Object.NUM_FRACTION_DIGITS,h,r;return typeof this.source.src=="string"?h=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(h=this.source.toDataURL()),r={type:"pattern",source:h,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:u(this.offsetX,o),offsetY:u(this.offsetY,o),patternTransform:this.patternTransform?this.patternTransform.concat():null},s.util.populateWithProperties(this,r,i),r},toSVG:function(i){var o=typeof this.source=="function"?this.source():this.source,h=o.width/i.width,r=o.height/i.height,a=this.offsetX/i.width,n=this.offsetY/i.height,l="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(r=1,n&&(r+=Math.abs(n))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(h=1,a&&(h+=Math.abs(a))),o.src?l=o.src:o.toDataURL&&(l=o.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+a+'" y="'+n+'" width="'+h+'" height="'+r+`">
<image x="0" y="0" width="`+o.width+'" height="'+o.height+'" xlink:href="'+l+`"></image>
</pattern>
`},setOptions:function(i){for(var o in i)this[o]=i[o]},toLive:function(i){var o=this.source;return!o||typeof o.src<"u"&&(!o.complete||o.naturalWidth===0||o.naturalHeight===0)?"":i.createPattern(o,this.repeat)}})}(),function(u){var i=u.fabric||(u.fabric={}),o=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(h){typeof h=="string"&&(h=this._parseShadow(h));for(var r in h)this[r]=h[r];this.id=i.Object.__uid++},_parseShadow:function(h){var r=h.trim(),a=i.Shadow.reOffsetsAndBlur.exec(r)||[],n=r.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:n.trim(),offsetX:parseFloat(a[1],10)||0,offsetY:parseFloat(a[2],10)||0,blur:parseFloat(a[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(h){var r=40,a=40,n=i.Object.NUM_FRACTION_DIGITS,l=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-h.angle)),d=20,c=new i.Color(this.color);return h.width&&h.height&&(r=o((Math.abs(l.x)+this.blur)/h.width,n)*100+d,a=o((Math.abs(l.y)+this.blur)/h.height,n)*100+d),h.flipX&&(l.x*=-1),h.flipY&&(l.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+a+'%" height="'+(100+2*a)+'%" x="-'+r+'%" width="'+(100+2*r)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+o(this.blur?this.blur/2:0,n)+`"></feGaussianBlur>
	<feOffset dx="`+o(l.x,n)+'" dy="'+o(l.y,n)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+c.toRgb()+'" flood-opacity="'+c.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var h={},r=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(a){this[a]!==r[a]&&(h[a]=this[a])},this),h}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(m),function(){if(s.StaticCanvas){s.warn("fabric.StaticCanvas is already defined.");return}var u=s.util.object.extend,i=s.util.getElementOffset,o=s.util.removeFromArray,h=s.util.toFixed,r=s.util.transformPoint,a=s.util.invertTransform,n=s.util.getNodeCanvas,l=s.util.createCanvasElement,d=new Error("Could not initialize `canvas` element");s.StaticCanvas=s.util.createClass(s.CommonMethods,{initialize:function(c,g){g||(g={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(c,g)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:s.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(c,g){var _=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(c),this._initOptions(g),this.interactive||this._initRetinaScaling(),g.overlayImage&&this.setOverlayImage(g.overlayImage,_),g.backgroundImage&&this.setBackgroundImage(g.backgroundImage,_),g.backgroundColor&&this.setBackgroundColor(g.backgroundColor,_),g.overlayColor&&this.setOverlayColor(g.overlayColor,_),this.calcOffset()},_isRetinaScaling:function(){return s.devicePixelRatio!==1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?s.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var c=s.devicePixelRatio;this.__initRetinaScaling(c,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(c,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(c,g,_){g.setAttribute("width",this.width*c),g.setAttribute("height",this.height*c),_.scale(c,c)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(c,g,_){return this.__setBgOverlayImage("overlayImage",c,g,_)},setBackgroundImage:function(c,g,_){return this.__setBgOverlayImage("backgroundImage",c,g,_)},setOverlayColor:function(c,g){return this.__setBgOverlayColor("overlayColor",c,g)},setBackgroundColor:function(c,g){return this.__setBgOverlayColor("backgroundColor",c,g)},__setBgOverlayImage:function(c,g,_,C){return typeof g=="string"?s.util.loadImage(g,function(O,k){if(O){var F=new s.Image(O,C);this[c]=F,F.canvas=this}_&&_(O,k)},this,C&&C.crossOrigin):(C&&g.setOptions(C),this[c]=g,g&&(g.canvas=this),_&&_(g,!1)),this},__setBgOverlayColor:function(c,g,_){return this[c]=g,this._initGradient(g,c),this._initPattern(g,c,_),this},_createCanvasElement:function(){var c=l();if(!c||(c.style||(c.style={}),typeof c.getContext>"u"))throw d;return c},_initOptions:function(c){var g=this.lowerCanvasEl;this._setOptions(c),this.width=this.width||parseInt(g.width,10)||0,this.height=this.height||parseInt(g.height,10)||0,this.lowerCanvasEl.style&&(g.width=this.width,g.height=this.height,g.style.width=this.width+"px",g.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(c){c&&c.getContext?this.lowerCanvasEl=c:this.lowerCanvasEl=s.util.getById(c)||this._createCanvasElement(),s.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(c,g){return this.setDimensions({width:c},g)},setHeight:function(c,g){return this.setDimensions({height:c},g)},setDimensions:function(c,g){var _;g=g||{};for(var C in c)_=c[C],g.cssOnly||(this._setBackstoreDimension(C,c[C]),_+="px",this.hasLostContext=!0),g.backstoreOnly||this._setCssDimension(C,_);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),g.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(c,g){return this.lowerCanvasEl[c]=g,this.upperCanvasEl&&(this.upperCanvasEl[c]=g),this.cacheCanvasEl&&(this.cacheCanvasEl[c]=g),this[c]=g,this},_setCssDimension:function(c,g){return this.lowerCanvasEl.style[c]=g,this.upperCanvasEl&&(this.upperCanvasEl.style[c]=g),this.wrapperEl&&(this.wrapperEl.style[c]=g),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(c){var g=this._activeObject,_=this.backgroundImage,C=this.overlayImage,O,k,F;for(this.viewportTransform=c,k=0,F=this._objects.length;k<F;k++)O=this._objects[k],O.group||O.setCoords(!0);return g&&g.setCoords(),_&&_.setCoords(!0),C&&C.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(c,g){var _=c,C=this.viewportTransform.slice(0);c=r(c,a(this.viewportTransform)),C[0]=g,C[3]=g;var O=r(c,C);return C[4]+=_.x-O.x,C[5]+=_.y-O.y,this.setViewportTransform(C)},setZoom:function(c){return this.zoomToPoint(new s.Point(0,0),c),this},absolutePan:function(c){var g=this.viewportTransform.slice(0);return g[4]=-c.x,g[5]=-c.y,this.setViewportTransform(g)},relativePan:function(c){return this.absolutePan(new s.Point(-c.x-this.viewportTransform[4],-c.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(c){this.stateful&&c.setupState(),c._set("canvas",this),c.setCoords(),this.fire("object:added",{target:c}),c.fire("added")},_onObjectRemoved:function(c){this.fire("object:removed",{target:c}),c.fire("removed"),delete c.canvas},clearContext:function(c){return c.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var c=this.contextContainer;return this.renderCanvas(c,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=s.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var c={},g=this.width,_=this.height,C=a(this.viewportTransform);return c.tl=r({x:0,y:0},C),c.br=r({x:g,y:_},C),c.tr=new s.Point(c.br.x,c.tl.y),c.bl=new s.Point(c.tl.x,c.br.y),this.vptCoords=c,c},cancelRequestedRender:function(){this.isRendering&&(s.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(c,g){var _=this.viewportTransform,C=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(c),s.util.setImageSmoothing(c,this.imageSmoothingEnabled),this.fire("before:render",{ctx:c}),this._renderBackground(c),c.save(),c.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._renderObjects(c,g),c.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(c),C&&(C.canvas=this,C.shouldCache(),C._transformDone=!0,C.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(c)),this._renderOverlay(c),this.controlsAboveOverlay&&this.interactive&&this.drawControls(c),this.fire("after:render",{ctx:c})},drawClipPathOnCanvas:function(c){var g=this.viewportTransform,_=this.clipPath;c.save(),c.transform(g[0],g[1],g[2],g[3],g[4],g[5]),c.globalCompositeOperation="destination-in",_.transform(c),c.scale(1/_.zoomX,1/_.zoomY),c.drawImage(_._cacheCanvas,-_.cacheTranslationX,-_.cacheTranslationY),c.restore()},_renderObjects:function(c,g){var _,C;for(_=0,C=g.length;_<C;++_)g[_]&&g[_].render(c)},_renderBackgroundOrOverlay:function(c,g){var _=this[g+"Color"],C=this[g+"Image"],O=this.viewportTransform,k=this[g+"Vpt"];if(!(!_&&!C)){if(_){c.save(),c.beginPath(),c.moveTo(0,0),c.lineTo(this.width,0),c.lineTo(this.width,this.height),c.lineTo(0,this.height),c.closePath(),c.fillStyle=_.toLive?_.toLive(c,this):_,k&&c.transform(O[0],O[1],O[2],O[3],O[4],O[5]),c.transform(1,0,0,1,_.offsetX||0,_.offsetY||0);var F=_.gradientTransform||_.patternTransform;F&&c.transform(F[0],F[1],F[2],F[3],F[4],F[5]),c.fill(),c.restore()}C&&(c.save(),k&&c.transform(O[0],O[1],O[2],O[3],O[4],O[5]),C.render(c),c.restore())}},_renderBackground:function(c){this._renderBackgroundOrOverlay(c,"background")},_renderOverlay:function(c){this._renderBackgroundOrOverlay(c,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(c){return this._centerObject(c,new s.Point(this.getCenter().left,c.getCenterPoint().y))},centerObjectV:function(c){return this._centerObject(c,new s.Point(c.getCenterPoint().x,this.getCenter().top))},centerObject:function(c){var g=this.getCenter();return this._centerObject(c,new s.Point(g.left,g.top))},viewportCenterObject:function(c){var g=this.getVpCenter();return this._centerObject(c,g)},viewportCenterObjectH:function(c){var g=this.getVpCenter();return this._centerObject(c,new s.Point(g.x,c.getCenterPoint().y)),this},viewportCenterObjectV:function(c){var g=this.getVpCenter();return this._centerObject(c,new s.Point(c.getCenterPoint().x,g.y))},getVpCenter:function(){var c=this.getCenter(),g=a(this.viewportTransform);return r({x:c.left,y:c.top},g)},_centerObject:function(c,g){return c.setPositionByOrigin(g,"center","center"),c.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(c){return this.toDatalessObject(c)},toObject:function(c){return this._toObjectMethod("toObject",c)},toDatalessObject:function(c){return this._toObjectMethod("toDatalessObject",c)},_toObjectMethod:function(c,g){var _=this.clipPath,C={version:s.version,objects:this._toObjects(c,g)};return _&&!_.excludeFromExport&&(C.clipPath=this._toObject(this.clipPath,c,g)),u(C,this.__serializeBgOverlay(c,g)),s.util.populateWithProperties(this,C,g),C},_toObjects:function(c,g){return this._objects.filter(function(_){return!_.excludeFromExport}).map(function(_){return this._toObject(_,c,g)},this)},_toObject:function(c,g,_){var C;this.includeDefaultValues||(C=c.includeDefaultValues,c.includeDefaultValues=!1);var O=c[g](_);return this.includeDefaultValues||(c.includeDefaultValues=C),O},__serializeBgOverlay:function(c,g){var _={},C=this.backgroundImage,O=this.overlayImage,k=this.backgroundColor,F=this.overlayColor;return k&&k.toObject?k.excludeFromExport||(_.background=k.toObject(g)):k&&(_.background=k),F&&F.toObject?F.excludeFromExport||(_.overlay=F.toObject(g)):F&&(_.overlay=F),C&&!C.excludeFromExport&&(_.backgroundImage=this._toObject(C,c,g)),O&&!O.excludeFromExport&&(_.overlayImage=this._toObject(O,c,g)),_},svgViewportTransformation:!0,toSVG:function(c,g){c||(c={}),c.reviver=g;var _=[];return this._setSVGPreamble(_,c),this._setSVGHeader(_,c),this.clipPath&&_.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(_,"background"),this._setSVGBgOverlayImage(_,"backgroundImage",g),this._setSVGObjects(_,g),this.clipPath&&_.push(`</g>
`),this._setSVGBgOverlayColor(_,"overlay"),this._setSVGBgOverlayImage(_,"overlayImage",g),_.push("</svg>"),_.join("")},_setSVGPreamble:function(c,g){g.suppressPreamble||c.push('<?xml version="1.0" encoding="',g.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(c,g){var _=g.width||this.width,C=g.height||this.height,O,k='viewBox="0 0 '+this.width+" "+this.height+'" ',F=s.Object.NUM_FRACTION_DIGITS;g.viewBox?k='viewBox="'+g.viewBox.x+" "+g.viewBox.y+" "+g.viewBox.width+" "+g.viewBox.height+'" ':this.svgViewportTransformation&&(O=this.viewportTransform,k='viewBox="'+h(-O[4]/O[0],F)+" "+h(-O[5]/O[3],F)+" "+h(this.width/O[0],F)+" "+h(this.height/O[3],F)+'" '),c.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',_,'" ','height="',C,'" ',k,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",s.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(g),`</defs>
`)},createSVGClipPathMarkup:function(c){var g=this.clipPath;return g?(g.clipPathId="CLIPPATH_"+s.Object.__uid++,'<clipPath id="'+g.clipPathId+`" >
`+this.clipPath.toClipPathSVG(c.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var c=this,g=["background","overlay"].map(function(_){var C=c[_+"Color"];if(C&&C.toLive){var O=c[_+"Vpt"],k=c.viewportTransform,F={width:c.width/(O?k[0]:1),height:c.height/(O?k[3]:1)};return C.toSVG(F,{additionalTransform:O?s.util.matrixToSVG(k):""})}});return g.join("")},createSVGFontFacesMarkup:function(){var c="",g={},_,C,O,k,F,z,q,Q,gt,G=s.fontPaths,B=[];for(this._objects.forEach(function M(mt){B.push(mt),mt._objects&&mt._objects.forEach(M)}),Q=0,gt=B.length;Q<gt;Q++)if(_=B[Q],C=_.fontFamily,!(_.type.indexOf("text")===-1||g[C]||!G[C])&&(g[C]=!0,!!_.styles)){O=_.styles;for(F in O){k=O[F];for(q in k)z=k[q],C=z.fontFamily,!g[C]&&G[C]&&(g[C]=!0)}}for(var it in g)c+=[`		@font-face {
`,"			font-family: '",it,`';
`,"			src: url('",G[it],`');
`,`		}
`].join("");return c&&(c=['	<style type="text/css">',`<![CDATA[
`,c,"]]>",`</style>
`].join("")),c},_setSVGObjects:function(c,g){var _,C,O,k=this._objects;for(C=0,O=k.length;C<O;C++)_=k[C],!_.excludeFromExport&&this._setSVGObject(c,_,g)},_setSVGObject:function(c,g,_){c.push(g.toSVG(_))},_setSVGBgOverlayImage:function(c,g,_){this[g]&&!this[g].excludeFromExport&&this[g].toSVG&&c.push(this[g].toSVG(_))},_setSVGBgOverlayColor:function(c,g){var _=this[g+"Color"],C=this.viewportTransform,O=this.width,k=this.height;if(_)if(_.toLive){var F=_.repeat,z=s.util.invertTransform(C),q=this[g+"Vpt"],Q=q?s.util.matrixToSVG(z):"";c.push('<rect transform="'+Q+" translate(",O/2,",",k/2,')"',' x="',_.offsetX-O/2,'" y="',_.offsetY-k/2,'" ','width="',F==="repeat-y"||F==="no-repeat"?_.source.width:O,'" height="',F==="repeat-x"||F==="no-repeat"?_.source.height:k,'" fill="url(#SVGID_'+_.id+')"',`></rect>
`)}else c.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',_,'"',`></rect>
`)},sendToBack:function(c){if(!c)return this;var g=this._activeObject,_,C,O;if(c===g&&c.type==="activeSelection")for(O=g._objects,_=O.length;_--;)C=O[_],o(this._objects,C),this._objects.unshift(C);else o(this._objects,c),this._objects.unshift(c);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(c){if(!c)return this;var g=this._activeObject,_,C,O;if(c===g&&c.type==="activeSelection")for(O=g._objects,_=0;_<O.length;_++)C=O[_],o(this._objects,C),this._objects.push(C);else o(this._objects,c),this._objects.push(c);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(c,g){if(!c)return this;var _=this._activeObject,C,O,k,F,z,q=0;if(c===_&&c.type==="activeSelection")for(z=_._objects,C=0;C<z.length;C++)O=z[C],k=this._objects.indexOf(O),k>0+q&&(F=k-1,o(this._objects,O),this._objects.splice(F,0,O)),q++;else k=this._objects.indexOf(c),k!==0&&(F=this._findNewLowerIndex(c,k,g),o(this._objects,c),this._objects.splice(F,0,c));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(c,g,_){var C,O;if(_)for(C=g,O=g-1;O>=0;--O){var k=c.intersectsWithObject(this._objects[O])||c.isContainedWithinObject(this._objects[O])||this._objects[O].isContainedWithinObject(c);if(k){C=O;break}}else C=g-1;return C},bringForward:function(c,g){if(!c)return this;var _=this._activeObject,C,O,k,F,z,q=0;if(c===_&&c.type==="activeSelection")for(z=_._objects,C=z.length;C--;)O=z[C],k=this._objects.indexOf(O),k<this._objects.length-1-q&&(F=k+1,o(this._objects,O),this._objects.splice(F,0,O)),q++;else k=this._objects.indexOf(c),k!==this._objects.length-1&&(F=this._findNewUpperIndex(c,k,g),o(this._objects,c),this._objects.splice(F,0,c));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(c,g,_){var C,O,k;if(_)for(C=g,O=g+1,k=this._objects.length;O<k;++O){var F=c.intersectsWithObject(this._objects[O])||c.isContainedWithinObject(this._objects[O])||this._objects[O].isContainedWithinObject(c);if(F){C=O;break}}else C=g+1;return C},moveTo:function(c,g){return o(this._objects,c),this._objects.splice(g,0,c),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(s.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(c){c.dispose&&c.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),s.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),u(s.StaticCanvas.prototype,s.Observable),u(s.StaticCanvas.prototype,s.Collection),u(s.StaticCanvas.prototype,s.DataURLExporter),u(s.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(c){var g=l();if(!g||!g.getContext)return null;var _=g.getContext("2d");if(!_)return null;switch(c){case"setLineDash":return typeof _.setLineDash<"u";default:return null}}}),s.StaticCanvas.prototype.toJSON=s.StaticCanvas.prototype.toObject,s.isLikelyNode&&(s.StaticCanvas.prototype.createPNGStream=function(){var c=n(this.lowerCanvasEl);return c&&c.createPNGStream()},s.StaticCanvas.prototype.createJPEGStream=function(c){var g=n(this.lowerCanvasEl);return g&&g.createJPEGStream(c)})}(),s.BaseBrush=s.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var u=this.canvas.contextTop;u.strokeStyle=this.color,u.lineWidth=this.width,u.lineCap=this.strokeLineCap,u.miterLimit=this.strokeMiterLimit,u.lineJoin=this.strokeLineJoin,u.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(u){var i=this.canvas.viewportTransform;u.save(),u.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var u=this.canvas,i=this.shadow,o=u.contextTop,h=u.getZoom();u&&u._isRetinaScaling()&&(h*=s.devicePixelRatio),o.shadowColor=i.color,o.shadowBlur=i.blur*h,o.shadowOffsetX=i.offsetX*h,o.shadowOffsetY=i.offsetY*h}},needsFullRender:function(){var u=new s.Color(this.color);return u.getAlpha()<1||!!this.shadow},_resetShadow:function(){var u=this.canvas.contextTop;u.shadowColor="",u.shadowBlur=u.shadowOffsetX=u.shadowOffsetY=0},_isOutSideCanvas:function(u){return u.x<0||u.x>this.canvas.getWidth()||u.y<0||u.y>this.canvas.getHeight()}}),function(){s.PencilBrush=s.util.createClass(s.BaseBrush,{decimate:.4,initialize:function(u){this.canvas=u,this._points=[]},_drawSegment:function(u,i,o){var h=i.midPointFrom(o);return u.quadraticCurveTo(i.x,i.y,h.x,h.y),h},onMouseDown:function(u,i){this.canvas._isMainEvent(i.e)&&(this._prepareForDrawing(u),this._captureDrawingPath(u),this._render())},onMouseMove:function(u,i){if(this.canvas._isMainEvent(i.e)&&!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u))&&this._captureDrawingPath(u)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var o=this._points,h=o.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,o[h-2],o[h-1],!0),r.stroke(),r.restore()}},onMouseUp:function(u){return this.canvas._isMainEvent(u.e)?(this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(u){var i=new s.Point(u.x,u.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(u){return this._points.length>1&&u.eq(this._points[this._points.length-1])?!1:(this._points.push(u),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(u){var i=new s.Point(u.x,u.y);return this._addPoint(i)},_render:function(){var u=this.canvas.contextTop,i,o,h=this._points[0],r=this._points[1];if(this._saveAndTransform(u),u.beginPath(),this._points.length===2&&h.x===r.x&&h.y===r.y){var a=this.width/1e3;h=new s.Point(h.x,h.y),r=new s.Point(r.x,r.y),h.x-=a,r.x+=a}for(u.moveTo(h.x,h.y),i=1,o=this._points.length;i<o;i++)this._drawSegment(u,h,r),h=this._points[i],r=this._points[i+1];u.lineTo(h.x,h.y),u.stroke(),u.restore()},convertPointsToSVGPath:function(u){var i=this.width/1e3;return s.util.getSmoothPathFromPoints(u,i)},_isEmptySVGPath:function(u){var i=s.util.joinPath(u);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(u){var i=new s.Path(u,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new s.Shadow(this.shadow)),i},decimatePoints:function(u,i){if(u.length<=2)return u;var o=this.canvas.getZoom(),h=Math.pow(i/o,2),r,a=u.length-1,n=u[0],l=[n],d;for(r=1;r<a-1;r++)d=Math.pow(n.x-u[r].x,2)+Math.pow(n.y-u[r].y,2),d>=h&&(n=u[r],l.push(n));return l.push(u[a]),l},_finalizeAndAddPath:function(){var u=this.canvas.contextTop;u.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var o=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:o}),this.canvas.add(o),this.canvas.requestRenderAll(),o.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:o})}})}(),s.CircleBrush=s.util.createClass(s.BaseBrush,{width:10,initialize:function(u){this.canvas=u,this.points=[]},drawDot:function(u){var i=this.addPoint(u),o=this.canvas.contextTop;this._saveAndTransform(o),this.dot(o,i),o.restore()},dot:function(u,i){u.fillStyle=i.fill,u.beginPath(),u.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),u.closePath(),u.fill()},onMouseDown:function(u){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(u)},_render:function(){var u=this.canvas.contextTop,i,o,h=this.points;for(this._saveAndTransform(u),i=0,o=h.length;i<o;i++)this.dot(u,h[i]);u.restore()},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(u),this._render()):this.drawDot(u))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove,i,o;this.canvas.renderOnAddRemove=!1;var h=[];for(i=0,o=this.points.length;i<o;i++){var r=this.points[i],a=new s.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&(a.shadow=new s.Shadow(this.shadow)),h.push(a)}var n=new s.Group(h);n.canvas=this.canvas,this.canvas.fire("before:path:created",{path:n}),this.canvas.add(n),this.canvas.fire("path:created",{path:n}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},addPoint:function(u){var i=new s.Point(u.x,u.y),o=s.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,h=new s.Color(this.color).setAlpha(s.util.getRandomInt(0,100)/100).toRgba();return i.radius=o,i.fill=h,this.points.push(i),i}}),s.SprayBrush=s.util.createClass(s.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(u){this.canvas=u,this.sprayChunks=[]},onMouseDown:function(u){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(u),this.render(this.sprayChunkPoints)},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.addSprayChunk(u),this.render(this.sprayChunkPoints))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],o=0,h=this.sprayChunks.length;o<h;o++)for(var r=this.sprayChunks[o],a=0,n=r.length;a<n;a++){var l=new s.Rect({width:r[a].width,height:r[a].width,left:r[a].x+1,top:r[a].y+1,originX:"center",originY:"center",fill:this.color});i.push(l)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var d=new s.Group(i);this.shadow&&d.set("shadow",new s.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.fire("path:created",{path:d}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},_getOptimizedRects:function(u){var i={},o,h,r;for(h=0,r=u.length;h<r;h++)o=u[h].left+""+u[h].top,i[o]||(i[o]=u[h]);var a=[];for(o in i)a.push(i[o]);return a},render:function(u){var i=this.canvas.contextTop,o,h;for(i.fillStyle=this.color,this._saveAndTransform(i),o=0,h=u.length;o<h;o++){var r=u[o];typeof r.opacity<"u"&&(i.globalAlpha=r.opacity),i.fillRect(r.x,r.y,r.width,r.width)}i.restore()},_render:function(){var u=this.canvas.contextTop,i,o;for(u.fillStyle=this.color,this._saveAndTransform(u),i=0,o=this.sprayChunks.length;i<o;i++)this.render(this.sprayChunks[i]);u.restore()},addSprayChunk:function(u){this.sprayChunkPoints=[];var i,o,h,r=this.width/2,a;for(a=0;a<this.density;a++){i=s.util.getRandomInt(u.x-r,u.x+r),o=s.util.getRandomInt(u.y-r,u.y+r),this.dotWidthVariance?h=s.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):h=this.dotWidth;var n=new s.Point(i,o);n.width=h,this.randomOpacity&&(n.opacity=s.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(n)}this.sprayChunks.push(this.sprayChunkPoints)}}),s.PatternBrush=s.util.createClass(s.PencilBrush,{getPatternSrc:function(){var u=20,i=5,o=s.util.createCanvasElement(),h=o.getContext("2d");return o.width=o.height=u+i,h.fillStyle=this.color,h.beginPath(),h.arc(u/2,u/2,u/2,0,Math.PI*2,!1),h.closePath(),h.fill(),o},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(u){var i=this.callSuper("createPath",u),o=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new s.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-o.x,offsetY:-o.y}),i}}),function(){var u=s.util.getPointer,i=s.util.degreesToRadians,o=s.util.isTouchEvent;s.Canvas=s.util.createClass(s.StaticCanvas,{initialize:function(r,a){a||(a={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(r,a),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=s.PencilBrush&&new s.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var r=this.getActiveObjects(),a,n,l;if(r.length>0&&!this.preserveObjectStacking){n=[],l=[];for(var d=0,c=this._objects.length;d<c;d++)a=this._objects[d],r.indexOf(a)===-1?n.push(a):l.push(a);r.length>1&&(this._activeObject._objects=l),n.push.apply(n,l)}else n=this._objects;return n},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var r=this.contextContainer;return this.renderCanvas(r,this._chooseObjectsToRender()),this},renderTopLayer:function(r){r.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(r),this.contextTopDirty=!0),r.restore()},renderTop:function(){var r=this.contextTop;return this.clearContext(r),this.renderTopLayer(r),this.fire("after:render"),this},_normalizePointer:function(r,a){var n=r.calcTransformMatrix(),l=s.util.invertTransform(n),d=this.restorePointerVpt(a);return s.util.transformPoint(d,l)},isTargetTransparent:function(r,a,n){if(r.shouldCache()&&r._cacheCanvas&&r!==this._activeObject){var l=this._normalizePointer(r,{x:a,y:n}),d=Math.max(r.cacheTranslationX+l.x*r.zoomX,0),c=Math.max(r.cacheTranslationY+l.y*r.zoomY,0),O=s.util.isTransparent(r._cacheContext,Math.round(d),Math.round(c),this.targetFindTolerance);return O}var g=this.contextCache,_=r.selectionBackgroundColor,C=this.viewportTransform;r.selectionBackgroundColor="",this.clearContext(g),g.save(),g.transform(C[0],C[1],C[2],C[3],C[4],C[5]),r.render(g),g.restore(),r.selectionBackgroundColor=_;var O=s.util.isTransparent(g,a,n,this.targetFindTolerance);return O},_isSelectionKeyPressed:function(r){var a=!1;return Object.prototype.toString.call(this.selectionKey)==="[object Array]"?a=!!this.selectionKey.find(function(n){return r[n]===!0}):a=r[this.selectionKey],a},_shouldClearSelection:function(r,a){var n=this.getActiveObjects(),l=this._activeObject;return!a||a&&l&&n.length>1&&n.indexOf(a)===-1&&l!==a&&!this._isSelectionKeyPressed(r)||a&&!a.evented||a&&!a.selectable&&l&&l!==a},_shouldCenterTransform:function(r,a,n){if(r){var l;return a==="scale"||a==="scaleX"||a==="scaleY"||a==="resizing"?l=this.centeredScaling||r.centeredScaling:a==="rotate"&&(l=this.centeredRotation||r.centeredRotation),l?!n:n}},_getOriginFromCorner:function(r,a){var n={x:r.originX,y:r.originY};return a==="ml"||a==="tl"||a==="bl"?n.x="right":(a==="mr"||a==="tr"||a==="br")&&(n.x="left"),a==="tl"||a==="mt"||a==="tr"?n.y="bottom":(a==="bl"||a==="mb"||a==="br")&&(n.y="top"),n},_getActionFromCorner:function(r,a,n,l){if(!a||!r)return"drag";var d=l.controls[a];return d.getActionName(n,d,l)},_setupCurrentTransform:function(r,a,n){if(a){var l=this.getPointer(r),d=a.__corner,c=a.controls[d],g=n&&d?c.getActionHandler(r,a,c):s.controlsUtils.dragHandler,_=this._getActionFromCorner(n,d,r,a),C=this._getOriginFromCorner(a,d),O=r[this.centeredKey],k={target:a,action:_,actionHandler:g,corner:d,scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,offsetX:l.x-a.left,offsetY:l.y-a.top,originX:C.x,originY:C.y,ex:l.x,ey:l.y,lastX:l.x,lastY:l.y,theta:i(a.angle),width:a.width*a.scaleX,shiftKey:r.shiftKey,altKey:O,original:s.util.saveObjectTransform(a)};this._shouldCenterTransform(a,_,O)&&(k.originX="center",k.originY="center"),k.original.originX=C.x,k.original.originY=C.y,this._currentTransform=k,this._beforeTransform(r)}},setCursor:function(r){this.upperCanvasEl.style.cursor=r},_drawSelection:function(r){var a=this._groupSelector,n=new s.Point(a.ex,a.ey),l=s.util.transformPoint(n,this.viewportTransform),d=new s.Point(a.ex+a.left,a.ey+a.top),c=s.util.transformPoint(d,this.viewportTransform),g=Math.min(l.x,c.x),_=Math.min(l.y,c.y),C=Math.max(l.x,c.x),O=Math.max(l.y,c.y),k=this.selectionLineWidth/2;this.selectionColor&&(r.fillStyle=this.selectionColor,r.fillRect(g,_,C-g,O-_)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(r.lineWidth=this.selectionLineWidth,r.strokeStyle=this.selectionBorderColor,g+=k,_+=k,C-=k,O-=k,s.Object.prototype._setLineDash.call(this,r,this.selectionDashArray),r.strokeRect(g,_,C-g,O-_))},findTarget:function(r,a){if(!this.skipTargetFind){var n=!0,l=this.getPointer(r,n),d=this._activeObject,c=this.getActiveObjects(),g,_,C=o(r),O=c.length>1&&!a||c.length===1;if(this.targets=[],O&&d._findTargetCorner(l,C)||c.length>1&&!a&&d===this._searchPossibleTargets([d],l))return d;if(c.length===1&&d===this._searchPossibleTargets([d],l))if(this.preserveObjectStacking)g=d,_=this.targets,this.targets=[];else return d;var k=this._searchPossibleTargets(this._objects,l);return r[this.altSelectionKey]&&k&&g&&k!==g&&(k=g,this.targets=_),k}},_checkTarget:function(r,a,n){if(a&&a.visible&&a.evented&&a.containsPoint(r))if((this.perPixelTargetFind||a.perPixelTargetFind)&&!a.isEditing){var l=this.isTargetTransparent(a,n.x,n.y);if(!l)return!0}else return!0},_searchPossibleTargets:function(r,a){for(var n,l=r.length,d;l--;){var c=r[l],g=c.group?this._normalizePointer(c.group,a):a;if(this._checkTarget(g,c,a)){n=r[l],n.subTargetCheck&&n instanceof s.Group&&(d=this._searchPossibleTargets(n._objects,a),d&&this.targets.push(d));break}}return n},restorePointerVpt:function(r){return s.util.transformPoint(r,s.util.invertTransform(this.viewportTransform))},getPointer:function(r,a){if(this._absolutePointer&&!a)return this._absolutePointer;if(this._pointer&&a)return this._pointer;var n=u(r),l=this.upperCanvasEl,d=l.getBoundingClientRect(),c=d.width||0,g=d.height||0,_;(!c||!g)&&("top"in d&&"bottom"in d&&(g=Math.abs(d.top-d.bottom)),"right"in d&&"left"in d&&(c=Math.abs(d.right-d.left))),this.calcOffset(),n.x=n.x-this._offset.left,n.y=n.y-this._offset.top,a||(n=this.restorePointerVpt(n));var C=this.getRetinaScaling();return C!==1&&(n.x/=C,n.y/=C),c===0||g===0?_={width:1,height:1}:_={width:l.width/c,height:l.height/g},{x:n.x*_.width,y:n.y*_.height}},_createUpperCanvas:function(){var r=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),a=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),s.util.addClass(n,"upper-canvas "+r),this.wrapperEl.appendChild(n),this._copyCanvasStyle(a,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=s.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),s.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),s.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(r){var a=this.width||r.width,n=this.height||r.height;s.util.setStyle(r,{position:"absolute",width:a+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),r.width=a,r.height=n,s.util.makeElementUnselectable(r)},_copyCanvasStyle:function(r,a){a.style.cssText=r.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var r=this._activeObject;return r?r.type==="activeSelection"&&r._objects?r._objects.slice(0):[r]:[]},_onObjectRemoved:function(r){r===this._activeObject&&(this.fire("before:selection:cleared",{target:r}),this._discardActiveObject(),this.fire("selection:cleared",{target:r}),r.fire("deselected")),r===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",r)},_fireSelectionEvents:function(r,a){var n=!1,l=this.getActiveObjects(),d=[],c=[];r.forEach(function(g){l.indexOf(g)===-1&&(n=!0,g.fire("deselected",{e:a,target:g}),c.push(g))}),l.forEach(function(g){r.indexOf(g)===-1&&(n=!0,g.fire("selected",{e:a,target:g}),d.push(g))}),r.length>0&&l.length>0?n&&this.fire("selection:updated",{e:a,selected:d,deselected:c,updated:d[0]||c[0],target:this._activeObject}):l.length>0?this.fire("selection:created",{e:a,selected:d,target:this._activeObject}):r.length>0&&this.fire("selection:cleared",{e:a,deselected:c})},setActiveObject:function(r,a){var n=this.getActiveObjects();return this._setActiveObject(r,a),this._fireSelectionEvents(n,a),this},_setActiveObject:function(r,a){return this._activeObject===r||!this._discardActiveObject(a,r)||r.onSelect({e:a})?!1:(this._activeObject=r,!0)},_discardActiveObject:function(r,a){var n=this._activeObject;if(n){if(n.onDeselect({e:r,object:a}))return!1;this._activeObject=null}return!0},discardActiveObject:function(r){var a=this.getActiveObjects(),n=this.getActiveObject();return a.length&&this.fire("before:selection:cleared",{target:n,e:r}),this._discardActiveObject(r),this._fireSelectionEvents(a,r),this},dispose:function(){var r=this.wrapperEl;return this.removeListeners(),r.removeChild(this.upperCanvasEl),r.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(a){s.util.cleanUpJsdomNode(this[a]),this[a]=void 0}).bind(this)),r.parentNode&&r.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,s.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(r){var a=this._activeObject;a&&a._renderControls(r)},_toObject:function(r,a,n){var l=this._realizeGroupTransformOnObject(r),d=this.callSuper("_toObject",r,a,n);return this._unwindGroupTransformOnObject(r,l),d},_realizeGroupTransformOnObject:function(r){if(r.group&&r.group.type==="activeSelection"&&this._activeObject===r.group){var a=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],n={};return a.forEach(function(l){n[l]=r[l]}),s.util.addTransformToObject(r,this._activeObject.calcOwnMatrix()),n}else return null},_unwindGroupTransformOnObject:function(r,a){a&&r.set(a)},_setSVGObject:function(r,a,n){var l=this._realizeGroupTransformOnObject(a);this.callSuper("_setSVGObject",r,a,n),this._unwindGroupTransformOnObject(a,l)},setViewportTransform:function(r){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),s.StaticCanvas.prototype.setViewportTransform.call(this,r)}});for(var h in s.StaticCanvas)h!=="prototype"&&(s.Canvas[h]=s.StaticCanvas[h])}(),function(){var u=s.util.addListener,i=s.util.removeListener,o=3,h=2,r=1,a={passive:!1};function n(l,d){return l.button&&l.button===d-1}s.util.object.extend(s.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(u,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(l,d){var c=this.upperCanvasEl,g=this._getEventPrefix();l(s.window,"resize",this._onResize),l(c,g+"down",this._onMouseDown),l(c,g+"move",this._onMouseMove,a),l(c,g+"out",this._onMouseOut),l(c,g+"enter",this._onMouseEnter),l(c,"wheel",this._onMouseWheel),l(c,"contextmenu",this._onContextMenu),l(c,"dblclick",this._onDoubleClick),l(c,"dragover",this._onDragOver),l(c,"dragenter",this._onDragEnter),l(c,"dragleave",this._onDragLeave),l(c,"drop",this._onDrop),this.enablePointerEvents||l(c,"touchstart",this._onTouchStart,a),typeof eventjs<"u"&&d in eventjs&&(eventjs[d](c,"gesture",this._onGesture),eventjs[d](c,"drag",this._onDrag),eventjs[d](c,"orientation",this._onOrientationChange),eventjs[d](c,"shake",this._onShake),eventjs[d](c,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var l=this._getEventPrefix();i(s.document,l+"up",this._onMouseUp),i(s.document,"touchend",this._onTouchEnd,a),i(s.document,l+"move",this._onMouseMove,a),i(s.document,"touchmove",this._onMouseMove,a)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(l,d){this.__onTransformGesture&&this.__onTransformGesture(l,d)},_onDrag:function(l,d){this.__onDrag&&this.__onDrag(l,d)},_onMouseWheel:function(l){this.__onMouseWheel(l)},_onMouseOut:function(l){var d=this._hoveredTarget;this.fire("mouse:out",{target:d,e:l}),this._hoveredTarget=null,d&&d.fire("mouseout",{e:l});var c=this;this._hoveredTargets.forEach(function(g){c.fire("mouse:out",{target:d,e:l}),g&&d.fire("mouseout",{e:l})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(g){g.isEditing&&g.hiddenTextarea.focus()})},_onMouseEnter:function(l){!this._currentTransform&&!this.findTarget(l)&&(this.fire("mouse:over",{target:null,e:l}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(l,d){this.__onOrientationChange&&this.__onOrientationChange(l,d)},_onShake:function(l,d){this.__onShake&&this.__onShake(l,d)},_onLongPress:function(l,d){this.__onLongPress&&this.__onLongPress(l,d)},_onDragOver:function(l){l.preventDefault();var d=this._simpleEventHandler("dragover",l);this._fireEnterLeaveEvents(d,l)},_onContextMenu:function(l){return this.stopContextMenu&&(l.stopPropagation(),l.preventDefault()),!1},_onDoubleClick:function(l){this._cacheTransformEventData(l),this._handleEvent(l,"dblclick"),this._resetTransformEventData(l)},getPointerId:function(l){var d=l.changedTouches;return d?d[0]&&d[0].identifier:this.enablePointerEvents?l.pointerId:-1},_isMainEvent:function(l){return l.isPrimary===!0?!0:l.isPrimary===!1?!1:l.type==="touchend"&&l.touches.length===0?!0:l.changedTouches?l.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(l){l.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(l)),this.__onMouseDown(l),this._resetTransformEventData();var d=this.upperCanvasEl,c=this._getEventPrefix();u(s.document,"touchend",this._onTouchEnd,a),u(s.document,"touchmove",this._onMouseMove,a),i(d,c+"down",this._onMouseDown)},_onMouseDown:function(l){this.__onMouseDown(l),this._resetTransformEventData();var d=this.upperCanvasEl,c=this._getEventPrefix();i(d,c+"move",this._onMouseMove,a),u(s.document,c+"up",this._onMouseUp),u(s.document,c+"move",this._onMouseMove,a)},_onTouchEnd:function(l){if(!(l.touches.length>0)){this.__onMouseUp(l),this._resetTransformEventData(),this.mainTouchId=null;var d=this._getEventPrefix();i(s.document,"touchend",this._onTouchEnd,a),i(s.document,"touchmove",this._onMouseMove,a);var c=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){u(c.upperCanvasEl,d+"down",c._onMouseDown),c._willAddMouseDown=0},400)}},_onMouseUp:function(l){this.__onMouseUp(l),this._resetTransformEventData();var d=this.upperCanvasEl,c=this._getEventPrefix();this._isMainEvent(l)&&(i(s.document,c+"up",this._onMouseUp),i(s.document,c+"move",this._onMouseMove,a),u(d,c+"move",this._onMouseMove,a))},_onMouseMove:function(l){!this.allowTouchScrolling&&l.preventDefault&&l.preventDefault(),this.__onMouseMove(l)},_onResize:function(){this.calcOffset()},_shouldRender:function(l){var d=this._activeObject;return!!d!=!!l||d&&l&&d!==l?!0:(d&&d.isEditing,!1)},__onMouseUp:function(l){var d,c=this._currentTransform,g=this._groupSelector,_=!1,C=!g||g.left===0&&g.top===0;if(this._cacheTransformEventData(l),d=this._target,this._handleEvent(l,"up:before"),n(l,o)){this.fireRightClick&&this._handleEvent(l,"up",o,C);return}if(n(l,h)){this.fireMiddleClick&&this._handleEvent(l,"up",h,C),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(l);return}if(this._isMainEvent(l)){if(c&&(this._finalizeCurrentTransform(l),_=c.actionPerformed),!C){var O=d===this._activeObject;this._maybeGroupObjects(l),_||(_=this._shouldRender(d)||!O&&d===this._activeObject)}if(d){if(d.selectable&&d!==this._activeObject&&d.activeOn==="up")this.setActiveObject(d,l),_=!0;else{var k=d._findTargetCorner(this.getPointer(l,!0),s.util.isTouchEvent(l)),F=d.controls[k],z=F&&F.getMouseUpHandler(l,d,F);if(z){var q=this.getPointer(l);z(l,c,q.x,q.y)}}d.isMoving=!1}this._setCursorFromEvent(l,d),this._handleEvent(l,"up",r,C),this._groupSelector=null,this._currentTransform=null,d&&(d.__corner=0),_?this.requestRenderAll():C||this.renderTop()}},_simpleEventHandler:function(l,d){var c=this.findTarget(d),g=this.targets,_={e:d,target:c,subTargets:g};if(this.fire(l,_),c&&c.fire(l,_),!g)return c;for(var C=0;C<g.length;C++)g[C].fire(l,_);return c},_handleEvent:function(l,d,c,g){var _=this._target,C=this.targets||[],O={e:l,target:_,subTargets:C,button:c||r,isClick:g||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};d==="up"&&(O.currentTarget=this.findTarget(l),O.currentSubTargets=this.targets),this.fire("mouse:"+d,O),_&&_.fire("mouse"+d,O);for(var k=0;k<C.length;k++)C[k].fire("mouse"+d,O)},_finalizeCurrentTransform:function(l){var d=this._currentTransform,c=d.target,g,_={e:l,target:c,transform:d,action:d.action};c._scaling&&(c._scaling=!1),c.setCoords(),(d.actionPerformed||this.stateful&&c.hasStateChanged())&&(d.actionPerformed&&(g=this._addEventOptions(_,d),this._fire(g,_)),this._fire("modified",_))},_addEventOptions:function(l,d){var c,g;switch(d.action){case"scaleX":c="scaled",g="x";break;case"scaleY":c="scaled",g="y";break;case"skewX":c="skewed",g="x";break;case"skewY":c="skewed",g="y";break;case"scale":c="scaled",g="equally";break;case"rotate":c="rotated";break;case"drag":c="moved";break}return l.by=g,c},_onMouseDownInDrawingMode:function(l){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(l).requestRenderAll();var d=this.getPointer(l);this.freeDrawingBrush.onMouseDown(d,{e:l,pointer:d}),this._handleEvent(l,"down")},_onMouseMoveInDrawingMode:function(l){if(this._isCurrentlyDrawing){var d=this.getPointer(l);this.freeDrawingBrush.onMouseMove(d,{e:l,pointer:d})}this.setCursor(this.freeDrawingCursor),this._handleEvent(l,"move")},_onMouseUpInDrawingMode:function(l){var d=this.getPointer(l);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:l,pointer:d}),this._handleEvent(l,"up")},__onMouseDown:function(l){this._cacheTransformEventData(l),this._handleEvent(l,"down:before");var d=this._target;if(n(l,o)){this.fireRightClick&&this._handleEvent(l,"down",o);return}if(n(l,h)){this.fireMiddleClick&&this._handleEvent(l,"down",h);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(l);return}if(this._isMainEvent(l)&&!this._currentTransform){var c=this._pointer;this._previousPointer=c;var g=this._shouldRender(d),_=this._shouldGroup(l,d);if(this._shouldClearSelection(l,d)?this.discardActiveObject(l):_&&(this._handleGrouping(l,d),d=this._activeObject),this.selection&&(!d||!d.selectable&&!d.isEditing&&d!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),d){var C=d===this._activeObject;d.selectable&&d.activeOn==="down"&&this.setActiveObject(d,l);var O=d._findTargetCorner(this.getPointer(l,!0),s.util.isTouchEvent(l));if(d.__corner=O,d===this._activeObject&&(O||!_)){this._setupCurrentTransform(l,d,C);var k=d.controls[O],c=this.getPointer(l),F=k&&k.getMouseDownHandler(l,d,k);F&&F(l,this._currentTransform,c.x,c.y)}}this._handleEvent(l,"down"),(g||_)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(l){this._resetTransformEventData(),this._pointer=this.getPointer(l,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(l)||null},_beforeTransform:function(l){var d=this._currentTransform;this.stateful&&d.target.saveState(),this.fire("before:transform",{e:l,transform:d})},__onMouseMove:function(l){this._handleEvent(l,"move:before"),this._cacheTransformEventData(l);var d,c;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(l);return}if(this._isMainEvent(l)){var g=this._groupSelector;g?(c=this._absolutePointer,g.left=c.x-g.ex,g.top=c.y-g.ey,this.renderTop()):this._currentTransform?this._transformObject(l):(d=this.findTarget(l)||null,this._setCursorFromEvent(l,d),this._fireOverOutEvents(d,l)),this._handleEvent(l,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(l,d){var c=this._hoveredTarget,g=this._hoveredTargets,_=this.targets,C=Math.max(g.length,_.length);this.fireSyntheticInOutEvents(l,d,{oldTarget:c,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var O=0;O<C;O++)this.fireSyntheticInOutEvents(_[O],d,{oldTarget:g[O],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=l,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(l,d){var c=this._draggedoverTarget,g=this._hoveredTargets,_=this.targets,C=Math.max(g.length,_.length);this.fireSyntheticInOutEvents(l,d,{oldTarget:c,evtOut:"dragleave",evtIn:"dragenter"});for(var O=0;O<C;O++)this.fireSyntheticInOutEvents(_[O],d,{oldTarget:g[O],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=l},fireSyntheticInOutEvents:function(l,d,c){var g,_,C=c.oldTarget,O,k,F=C!==l,z=c.canvasEvtIn,q=c.canvasEvtOut;F&&(g={e:d,target:l,previousTarget:C},_={e:d,target:C,nextTarget:l}),k=l&&F,O=C&&F,O&&(q&&this.fire(q,_),C.fire(c.evtOut,_)),k&&(z&&this.fire(z,g),l.fire(c.evtIn,g))},__onMouseWheel:function(l){this._cacheTransformEventData(l),this._handleEvent(l,"wheel"),this._resetTransformEventData()},_transformObject:function(l){var d=this.getPointer(l),c=this._currentTransform;c.reset=!1,c.shiftKey=l.shiftKey,c.altKey=l[this.centeredKey],this._performTransformAction(l,c,d),c.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(l,d,c){var g=c.x,_=c.y,C=d.action,O=!1,k=d.actionHandler;k&&(O=k(l,d,g,_)),C==="drag"&&O&&(d.target.isMoving=!0,this.setCursor(d.target.moveCursor||this.moveCursor)),d.actionPerformed=d.actionPerformed||O},_fire:s.controlsUtils.fireEvent,_setCursorFromEvent:function(l,d){if(!d)return this.setCursor(this.defaultCursor),!1;var c=d.hoverCursor||this.hoverCursor,g=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,_=(!g||!g.contains(d))&&d._findTargetCorner(this.getPointer(l,!0));_?this.setCursor(this.getCornerCursor(_,d,l)):(d.subTargetCheck&&this.targets.concat().reverse().map(function(C){c=C.hoverCursor||c}),this.setCursor(c))},getCornerCursor:function(l,d,c){var g=d.controls[l];return g.cursorStyleHandler(c,g,d)}})}(),function(){var u=Math.min,i=Math.max;s.util.object.extend(s.Canvas.prototype,{_shouldGroup:function(o,h){var r=this._activeObject;return r&&this._isSelectionKeyPressed(o)&&h&&h.selectable&&this.selection&&(r!==h||r.type==="activeSelection")&&!h.onSelect({e:o})},_handleGrouping:function(o,h){var r=this._activeObject;r.__corner||h===r&&(h=this.findTarget(o,!0),!h||!h.selectable)||(r&&r.type==="activeSelection"?this._updateActiveSelection(h,o):this._createActiveSelection(h,o))},_updateActiveSelection:function(o,h){var r=this._activeObject,a=r._objects.slice(0);r.contains(o)?(r.removeWithUpdate(o),this._hoveredTarget=o,this._hoveredTargets=this.targets.concat(),r.size()===1&&this._setActiveObject(r.item(0),h)):(r.addWithUpdate(o),this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(a,h)},_createActiveSelection:function(o,h){var r=this.getActiveObjects(),a=this._createGroup(o);this._hoveredTarget=a,this._setActiveObject(a,h),this._fireSelectionEvents(r,h)},_createGroup:function(o){var h=this._objects,r=h.indexOf(this._activeObject)<h.indexOf(o),a=r?[this._activeObject,o]:[o,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new s.ActiveSelection(a,{canvas:this})},_groupSelectedObjects:function(o){var h=this._collectObjects(o),r;h.length===1?this.setActiveObject(h[0],o):h.length>1&&(r=new s.ActiveSelection(h.reverse(),{canvas:this}),this.setActiveObject(r,o))},_collectObjects:function(o){for(var h=[],r,a=this._groupSelector.ex,n=this._groupSelector.ey,l=a+this._groupSelector.left,d=n+this._groupSelector.top,c=new s.Point(u(a,l),u(n,d)),g=new s.Point(i(a,l),i(n,d)),_=!this.selectionFullyContained,C=a===l&&n===d,O=this._objects.length;O--&&(r=this._objects[O],!(!(!r||!r.selectable||!r.visible)&&(_&&r.intersectsWithRect(c,g,!0)||r.isContainedWithinRect(c,g,!0)||_&&r.containsPoint(c,null,!0)||_&&r.containsPoint(g,null,!0))&&(h.push(r),C))););return h.length>1&&(h=h.filter(function(k){return!k.onSelect({e:o})})),h},_maybeGroupObjects:function(o){this.selection&&this._groupSelector&&this._groupSelectedObjects(o),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){s.util.object.extend(s.StaticCanvas.prototype,{toDataURL:function(u){u||(u={});var i=u.format||"png",o=u.quality||1,h=(u.multiplier||1)*(u.enableRetinaScaling?this.getRetinaScaling():1),r=this.toCanvasElement(h,u);return s.util.toDataURL(r,i,o)},toCanvasElement:function(u,i){u=u||1,i=i||{};var o=(i.width||this.width)*u,h=(i.height||this.height)*u,r=this.getZoom(),a=this.width,n=this.height,l=r*u,d=this.viewportTransform,c=(d[4]-(i.left||0))*u,g=(d[5]-(i.top||0))*u,_=this.interactive,C=[l,0,0,l,c,g],O=this.enableRetinaScaling,k=s.util.createCanvasElement(),F=this.contextTop;return k.width=o,k.height=h,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=C,this.width=o,this.height=h,this.calcViewportBoundaries(),this.renderCanvas(k.getContext("2d"),this._objects),this.viewportTransform=d,this.width=a,this.height=n,this.calcViewportBoundaries(),this.interactive=_,this.enableRetinaScaling=O,this.contextTop=F,k}})}(),s.util.object.extend(s.StaticCanvas.prototype,{loadFromJSON:function(u,i,o){if(u){var h=typeof u=="string"?JSON.parse(u):s.util.object.clone(u),r=this,a=h.clipPath,n=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete h.clipPath,this._enlivenObjects(h.objects,function(l){r.clear(),r._setBgOverlay(h,function(){a?r._enlivenObjects([a],function(d){r.clipPath=d[0],r.__setupCanvas.call(r,h,l,n,i)}):r.__setupCanvas.call(r,h,l,n,i)})},o),this}},__setupCanvas:function(u,i,o,h){var r=this;i.forEach(function(a,n){r.insertAt(a,n)}),this.renderOnAddRemove=o,delete u.objects,delete u.backgroundImage,delete u.overlayImage,delete u.background,delete u.overlay,this._setOptions(u),this.renderAll(),h&&h()},_setBgOverlay:function(u,i){var o={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!u.backgroundImage&&!u.overlayImage&&!u.background&&!u.overlay){i&&i();return}var h=function(){o.backgroundImage&&o.overlayImage&&o.backgroundColor&&o.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",u.backgroundImage,o,h),this.__setBgOverlay("overlayImage",u.overlayImage,o,h),this.__setBgOverlay("backgroundColor",u.background,o,h),this.__setBgOverlay("overlayColor",u.overlay,o,h)},__setBgOverlay:function(u,i,o,h){var r=this;if(!i){o[u]=!0,h&&h();return}u==="backgroundImage"||u==="overlayImage"?s.util.enlivenObjects([i],function(a){r[u]=a[0],o[u]=!0,h&&h()}):this["set"+s.util.string.capitalize(u,!0)](i,function(){o[u]=!0,h&&h()})},_enlivenObjects:function(u,i,o){if(!u||u.length===0){i&&i([]);return}s.util.enlivenObjects(u,function(h){i&&i(h)},null,o)},_toDataURL:function(u,i){this.clone(function(o){i(o.toDataURL(u))})},_toDataURLWithMultiplier:function(u,i,o){this.clone(function(h){o(h.toDataURLWithMultiplier(u,i))})},clone:function(u,i){var o=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(h){h.loadFromJSON(o,function(){u&&u(h)})})},cloneWithoutData:function(u){var i=s.util.createCanvasElement();i.width=this.width,i.height=this.height;var o=new s.Canvas(i);this.backgroundImage?(o.setBackgroundImage(this.backgroundImage.src,function(){o.renderAll(),u&&u(o)}),o.backgroundImageOpacity=this.backgroundImageOpacity,o.backgroundImageStretch=this.backgroundImageStretch):u&&u(o)}}),function(u){var i=u.fabric||(u.fabric={}),o=i.util.object.extend,h=i.util.object.clone,r=i.util.toFixed,a=i.util.string.capitalize,n=i.util.degreesToRadians,l=!i.isLikelyNode,d=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:l,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(c){c&&this.setOptions(c)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(c){var g=i.perfLimitSizeTotal,_=c.width,C=c.height,O=i.maxCacheSideLimit,k=i.minCacheSideLimit;if(_<=O&&C<=O&&_*C<=g)return _<k&&(c.width=k),C<k&&(c.height=k),c;var F=_/C,z=i.util.limitDimsByArea(F,g),q=i.util.capValue,Q=q(k,z.x,O),gt=q(k,z.y,O);return _>Q&&(c.zoomX/=_/Q,c.width=Q,c.capped=!0),C>gt&&(c.zoomY/=C/gt,c.height=gt,c.capped=!0),c},_getCacheCanvasDimensions:function(){var c=this.getTotalObjectScaling(),g=this._getTransformedDimensions(0,0),_=g.x*c.scaleX/this.scaleX,C=g.y*c.scaleY/this.scaleY;return{width:_+d,height:C+d,zoomX:c.scaleX,zoomY:c.scaleY,x:_,y:C}},_updateCacheCanvas:function(){var c=this.canvas;if(this.noScaleCache&&c&&c._currentTransform){var g=c._currentTransform.target,_=c._currentTransform.action;if(this===g&&_.slice&&_.slice(0,5)==="scale")return!1}var C=this._cacheCanvas,O=this._limitCacheSize(this._getCacheCanvasDimensions()),k=i.minCacheSideLimit,F=O.width,z=O.height,q,Q,gt=O.zoomX,G=O.zoomY,B=F!==this.cacheWidth||z!==this.cacheHeight,it=this.zoomX!==gt||this.zoomY!==G,M=B||it,mt=0,st=0,ut=!1;if(B){var vt=this._cacheCanvas.width,W=this._cacheCanvas.height,Y=F>vt||z>W,H=(F<vt*.9||z<W*.9)&&vt>k&&W>k;ut=Y||H,Y&&!O.capped&&(F>k||z>k)&&(mt=F*.1,st=z*.1)}return this instanceof i.Text&&this.path&&(M=!0,ut=!0,mt+=this.getHeightOfLine(0)*this.zoomX,st+=this.getHeightOfLine(0)*this.zoomY),M?(ut?(C.width=Math.ceil(F+mt),C.height=Math.ceil(z+st)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,C.width,C.height)),q=O.x/2,Q=O.y/2,this.cacheTranslationX=Math.round(C.width/2-q)+q,this.cacheTranslationY=Math.round(C.height/2-Q)+Q,this.cacheWidth=F,this.cacheHeight=z,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(gt,G),this.zoomX=gt,this.zoomY=G,!0):!1},setOptions:function(c){this._setOptions(c),this._initGradient(c.fill,"fill"),this._initGradient(c.stroke,"stroke"),this._initPattern(c.fill,"fill"),this._initPattern(c.stroke,"stroke")},transform:function(c){var g=this.group&&!this.group._transformDone||this.group&&this.canvas&&c===this.canvas.contextTop,_=this.calcTransformMatrix(!g);c.transform(_[0],_[1],_[2],_[3],_[4],_[5])},toObject:function(c){var g=i.Object.NUM_FRACTION_DIGITS,_={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:r(this.left,g),top:r(this.top,g),width:r(this.width,g),height:r(this.height,g),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,g),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:r(this.strokeMiterLimit,g),scaleX:r(this.scaleX,g),scaleY:r(this.scaleY,g),angle:r(this.angle,g),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,g),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:r(this.skewX,g),skewY:r(this.skewY,g)};return this.clipPath&&!this.clipPath.excludeFromExport&&(_.clipPath=this.clipPath.toObject(c),_.clipPath.inverted=this.clipPath.inverted,_.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,_,c),this.includeDefaultValues||(_=this._removeDefaultValues(_)),_},toDatalessObject:function(c){return this.toObject(c)},_removeDefaultValues:function(c){var g=i.util.getKlass(c.type).prototype,_=g.stateProperties;return _.forEach(function(C){if(!(C==="left"||C==="top")){c[C]===g[C]&&delete c[C];var O=Object.prototype.toString.call(c[C])==="[object Array]"&&Object.prototype.toString.call(g[C])==="[object Array]";O&&c[C].length===0&&g[C].length===0&&delete c[C]}}),c},toString:function(){return"#<fabric."+a(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var c=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(c.scaleX),scaleY:Math.abs(c.scaleY)}},getTotalObjectScaling:function(){var c=this.getObjectScaling(),g=c.scaleX,_=c.scaleY;if(this.canvas){var C=this.canvas.getZoom(),O=this.canvas.getRetinaScaling();g*=C*O,_*=C*O}return{scaleX:g,scaleY:_}},getObjectOpacity:function(){var c=this.opacity;return this.group&&(c*=this.group.getObjectOpacity()),c},_set:function(c,g){var _=c==="scaleX"||c==="scaleY",C=this[c]!==g,O=!1;return _&&(g=this._constrainScale(g)),c==="scaleX"&&g<0?(this.flipX=!this.flipX,g*=-1):c==="scaleY"&&g<0?(this.flipY=!this.flipY,g*=-1):c==="shadow"&&g&&!(g instanceof i.Shadow)?g=new i.Shadow(g):c==="dirty"&&this.group&&this.group.set("dirty",g),this[c]=g,C&&(O=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(c)>-1?(this.dirty=!0,O&&this.group.set("dirty",!0)):O&&this.stateProperties.indexOf(c)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(c){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(c.save(),this._setupCompositeOperation(c),this.drawSelectionBackground(c),this.transform(c),this._setOpacity(c),this._setShadow(c,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(c)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(c),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),c.restore())},renderCache:function(c){c=c||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,c.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(c){var g=this.clipPath;if(c.save(),g.inverted?c.globalCompositeOperation="destination-out":c.globalCompositeOperation="destination-in",g.absolutePositioned){var _=i.util.invertTransform(this.calcTransformMatrix());c.transform(_[0],_[1],_[2],_[3],_[4],_[5])}g.transform(c),c.scale(1/g.zoomX,1/g.zoomY),c.drawImage(g._cacheCanvas,-g.cacheTranslationX,-g.cacheTranslationY),c.restore()},drawObject:function(c,g){var _=this.fill,C=this.stroke;g?(this.fill="black",this.stroke="",this._setClippingProperties(c)):this._renderBackground(c),this._render(c),this._drawClipPath(c),this.fill=_,this.stroke=C},_drawClipPath:function(c){var g=this.clipPath;g&&(g.canvas=this.canvas,g.shouldCache(),g._transformDone=!0,g.renderCache({forClipping:!0}),this.drawClipPathOnCache(c))},drawCacheOnCanvas:function(c){c.scale(1/this.zoomX,1/this.zoomY),c.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(c){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!c&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!c){var g=this.cacheWidth/this.zoomX,_=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-g/2,-_/2,g,_)}return!0}return!1},_renderBackground:function(c){if(this.backgroundColor){var g=this._getNonTransformedDimensions();c.fillStyle=this.backgroundColor,c.fillRect(-g.x/2,-g.y/2,g.x,g.y),this._removeShadow(c)}},_setOpacity:function(c){this.group&&!this.group._transformDone?c.globalAlpha=this.getObjectOpacity():c.globalAlpha*=this.opacity},_setStrokeStyles:function(c,g){var _=g.stroke;_&&(c.lineWidth=g.strokeWidth,c.lineCap=g.strokeLineCap,c.lineDashOffset=g.strokeDashOffset,c.lineJoin=g.strokeLineJoin,c.miterLimit=g.strokeMiterLimit,_.toLive?_.gradientUnits==="percentage"||_.gradientTransform||_.patternTransform?this._applyPatternForTransformedGradient(c,_):(c.strokeStyle=_.toLive(c,this),this._applyPatternGradientTransform(c,_)):c.strokeStyle=g.stroke)},_setFillStyles:function(c,g){var _=g.fill;_&&(_.toLive?(c.fillStyle=_.toLive(c,this),this._applyPatternGradientTransform(c,g.fill)):c.fillStyle=_)},_setClippingProperties:function(c){c.globalAlpha=1,c.strokeStyle="transparent",c.fillStyle="#000000"},_setLineDash:function(c,g){!g||g.length===0||(1&g.length&&g.push.apply(g,g),c.setLineDash(g))},_renderControls:function(c,g){var _=this.getViewportTransform(),C=this.calcTransformMatrix(),O,k,F;g=g||{},k=typeof g.hasBorders<"u"?g.hasBorders:this.hasBorders,F=typeof g.hasControls<"u"?g.hasControls:this.hasControls,C=i.util.multiplyTransformMatrices(_,C),O=i.util.qrDecompose(C),c.save(),c.translate(O.translateX,O.translateY),c.lineWidth=1*this.borderScaleFactor,this.group||(c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),c.rotate(n(O.angle)),g.forActiveSelection||this.group?k&&this.drawBordersInGroup(c,O,g):k&&this.drawBorders(c,g),F&&this.drawControls(c,g),c.restore()},_setShadow:function(c){if(this.shadow){var g=this.shadow,_=this.canvas,C,O=_&&_.viewportTransform[0]||1,k=_&&_.viewportTransform[3]||1;g.nonScaling?C={scaleX:1,scaleY:1}:C=this.getObjectScaling(),_&&_._isRetinaScaling()&&(O*=i.devicePixelRatio,k*=i.devicePixelRatio),c.shadowColor=g.color,c.shadowBlur=g.blur*i.browserShadowBlurConstant*(O+k)*(C.scaleX+C.scaleY)/4,c.shadowOffsetX=g.offsetX*O*C.scaleX,c.shadowOffsetY=g.offsetY*k*C.scaleY}},_removeShadow:function(c){this.shadow&&(c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0)},_applyPatternGradientTransform:function(c,g){if(!g||!g.toLive)return{offsetX:0,offsetY:0};var _=g.gradientTransform||g.patternTransform,C=-this.width/2+g.offsetX||0,O=-this.height/2+g.offsetY||0;return g.gradientUnits==="percentage"?c.transform(this.width,0,0,this.height,C,O):c.transform(1,0,0,1,C,O),_&&c.transform(_[0],_[1],_[2],_[3],_[4],_[5]),{offsetX:C,offsetY:O}},_renderPaintInOrder:function(c){this.paintFirst==="stroke"?(this._renderStroke(c),this._renderFill(c)):(this._renderFill(c),this._renderStroke(c))},_render:function(){},_renderFill:function(c){this.fill&&(c.save(),this._setFillStyles(c,this),this.fillRule==="evenodd"?c.fill("evenodd"):c.fill(),c.restore())},_renderStroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(c),c.save(),this.strokeUniform&&this.group){var g=this.getObjectScaling();c.scale(1/g.scaleX,1/g.scaleY)}else this.strokeUniform&&c.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(c,this.strokeDashArray),this._setStrokeStyles(c,this),c.stroke(),c.restore()}},_applyPatternForTransformedGradient:function(c,g){var _=this._limitCacheSize(this._getCacheCanvasDimensions()),C=i.util.createCanvasElement(),O,k=this.canvas.getRetinaScaling(),F=_.x/this.scaleX/k,z=_.y/this.scaleY/k;C.width=F,C.height=z,O=C.getContext("2d"),O.beginPath(),O.moveTo(0,0),O.lineTo(F,0),O.lineTo(F,z),O.lineTo(0,z),O.closePath(),O.translate(F/2,z/2),O.scale(_.zoomX/this.scaleX/k,_.zoomY/this.scaleY/k),this._applyPatternGradientTransform(O,g),O.fillStyle=g.toLive(c),O.fill(),c.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),c.scale(k*this.scaleX/_.zoomX,k*this.scaleY/_.zoomY),c.strokeStyle=O.createPattern(C,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var c=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",c.scaleX),this.set("scaleY",c.scaleY),this.angle=c.angle,this.skewX=c.skewX,this.skewY=0}},_removeTransformMatrix:function(c){var g=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),g=i.util.transformPoint(g,this.transformMatrix)),this.transformMatrix=null,c&&(this.scaleX*=c.scaleX,this.scaleY*=c.scaleY,this.cropX=c.cropX,this.cropY=c.cropY,g.x+=c.offsetLeft,g.y+=c.offsetTop,this.width=c.width,this.height=c.height),this.setPositionByOrigin(g,"center","center")},clone:function(c,g){var _=this.toObject(g);this.constructor.fromObject?this.constructor.fromObject(_,c):i.Object._fromObject("Object",_,c)},cloneAsImage:function(c,g){var _=this.toCanvasElement(g);return c&&c(new i.Image(_)),this},toCanvasElement:function(c){c||(c={});var g=i.util,_=g.saveObjectTransform(this),C=this.group,O=this.shadow,k=Math.abs,F=(c.multiplier||1)*(c.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,c.withoutTransform&&g.resetObjectTransform(this),c.withoutShadow&&(this.shadow=null);var z=i.util.createCanvasElement(),q=this.getBoundingRect(!0,!0),Q=this.shadow,gt,G={x:0,y:0},B,it,M;Q&&(B=Q.blur,Q.nonScaling?gt={scaleX:1,scaleY:1}:gt=this.getObjectScaling(),G.x=2*Math.round(k(Q.offsetX)+B)*k(gt.scaleX),G.y=2*Math.round(k(Q.offsetY)+B)*k(gt.scaleY)),it=q.width+G.x,M=q.height+G.y,z.width=Math.ceil(it),z.height=Math.ceil(M);var mt=new i.StaticCanvas(z,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});c.format==="jpeg"&&(mt.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(mt.width/2,mt.height/2),"center","center");var st=this.canvas;mt.add(this);var ut=mt.toCanvasElement(F||1,c);return this.shadow=O,this.set("canvas",st),C&&(this.group=C),this.set(_).setCoords(),mt._objects=[],mt.dispose(),mt=null,ut},toDataURL:function(c){return c||(c={}),i.util.toDataURL(this.toCanvasElement(c),c.format||"png",c.quality||1)},isType:function(c){return this.type===c},complexity:function(){return 1},toJSON:function(c){return this.toObject(c)},rotate:function(c){var g=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return g&&this._setOriginToCenter(),this.set("angle",c),g&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(c,g){g=g||this.canvas.getPointer(c);var _=new i.Point(g.x,g.y),C=this._getLeftTopCoords();return this.angle&&(_=i.util.rotatePoint(_,C,n(-this.angle))),{x:_.x-C.x,y:_.y-C.y}},_setupCompositeOperation:function(c){this.globalCompositeOperation&&(c.globalCompositeOperation=this.globalCompositeOperation)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),o(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object._fromObject=function(c,g,_,C){var O=i[c];g=h(g,!0),i.util.enlivenPatterns([g.fill,g.stroke],function(k){typeof k[0]<"u"&&(g.fill=k[0]),typeof k[1]<"u"&&(g.stroke=k[1]),i.util.enlivenObjects([g.clipPath],function(F){g.clipPath=F[0];var z=C?new O(g[C],g):new O(g);_&&_(z)})})},i.Object.__uid=0)}(m),function(){var u=s.util.degreesToRadians,i={left:-.5,center:0,right:.5},o={top:-.5,center:0,bottom:.5};s.util.object.extend(s.Object.prototype,{translateToGivenOrigin:function(h,r,a,n,l){var d=h.x,c=h.y,g,_,C;return typeof r=="string"?r=i[r]:r-=.5,typeof n=="string"?n=i[n]:n-=.5,g=n-r,typeof a=="string"?a=o[a]:a-=.5,typeof l=="string"?l=o[l]:l-=.5,_=l-a,(g||_)&&(C=this._getTransformedDimensions(),d=h.x+g*C.x,c=h.y+_*C.y),new s.Point(d,c)},translateToCenterPoint:function(h,r,a){var n=this.translateToGivenOrigin(h,r,a,"center","center");return this.angle?s.util.rotatePoint(n,h,u(this.angle)):n},translateToOriginPoint:function(h,r,a){var n=this.translateToGivenOrigin(h,"center","center",r,a);return this.angle?s.util.rotatePoint(n,h,u(this.angle)):n},getCenterPoint:function(){var h=new s.Point(this.left,this.top);return this.translateToCenterPoint(h,this.originX,this.originY)},getPointByOrigin:function(h,r){var a=this.getCenterPoint();return this.translateToOriginPoint(a,h,r)},toLocalPoint:function(h,r,a){var n=this.getCenterPoint(),l,d;return typeof r<"u"&&typeof a<"u"?l=this.translateToGivenOrigin(n,"center","center",r,a):l=new s.Point(this.left,this.top),d=new s.Point(h.x,h.y),this.angle&&(d=s.util.rotatePoint(d,n,-u(this.angle))),d.subtractEquals(l)},setPositionByOrigin:function(h,r,a){var n=this.translateToCenterPoint(h,r,a),l=this.translateToOriginPoint(n,this.originX,this.originY);this.set("left",l.x),this.set("top",l.y)},adjustPosition:function(h){var r=u(this.angle),a=this.getScaledWidth(),n=s.util.cos(r)*a,l=s.util.sin(r)*a,d,c;typeof this.originX=="string"?d=i[this.originX]:d=this.originX-.5,typeof h=="string"?c=i[h]:c=h-.5,this.left+=n*(c-d),this.top+=l*(c-d),this.setCoords(),this.originX=h},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var h=this.getCenterPoint();this.originX="center",this.originY="center",this.left=h.x,this.top=h.y},_resetOrigin:function(){var h=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=h.x,this.top=h.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function u(a){return[new s.Point(a.tl.x,a.tl.y),new s.Point(a.tr.x,a.tr.y),new s.Point(a.br.x,a.br.y),new s.Point(a.bl.x,a.bl.y)]}var i=s.util,o=i.degreesToRadians,h=i.multiplyTransformMatrices,r=i.transformPoint;i.object.extend(s.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(a,n){return n?a?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),a?this.aCoords:this.lineCoords)},getCoords:function(a,n){return u(this._getCoords(a,n))},intersectsWithRect:function(a,n,l,d){var c=this.getCoords(l,d),g=s.Intersection.intersectPolygonRectangle(c,a,n);return g.status==="Intersection"},intersectsWithObject:function(a,n,l){var d=s.Intersection.intersectPolygonPolygon(this.getCoords(n,l),a.getCoords(n,l));return d.status==="Intersection"||a.isContainedWithinObject(this,n,l)||this.isContainedWithinObject(a,n,l)},isContainedWithinObject:function(a,n,l){for(var d=this.getCoords(n,l),c=n?a.aCoords:a.lineCoords,g=0,_=a._getImageLines(c);g<4;g++)if(!a.containsPoint(d[g],_))return!1;return!0},isContainedWithinRect:function(a,n,l,d){var c=this.getBoundingRect(l,d);return c.left>=a.x&&c.left+c.width<=n.x&&c.top>=a.y&&c.top+c.height<=n.y},containsPoint:function(a,g,l,d){var c=this._getCoords(l,d),g=g||this._getImageLines(c),_=this._findCrossPoints(a,g);return _!==0&&_%2===1},isOnScreen:function(a){if(!this.canvas)return!1;var n=this.canvas.vptCoords.tl,l=this.canvas.vptCoords.br,d=this.getCoords(!0,a);return d.some(function(c){return c.x<=l.x&&c.x>=n.x&&c.y<=l.y&&c.y>=n.y})||this.intersectsWithRect(n,l,!0,a)?!0:this._containsCenterOfCanvas(n,l,a)},_containsCenterOfCanvas:function(a,n,l){var d={x:(a.x+n.x)/2,y:(a.y+n.y)/2};return!!this.containsPoint(d,null,!0,l)},isPartiallyOnScreen:function(a){if(!this.canvas)return!1;var n=this.canvas.vptCoords.tl,l=this.canvas.vptCoords.br;if(this.intersectsWithRect(n,l,!0,a))return!0;var d=this.getCoords(!0,a).every(function(c){return(c.x>=l.x||c.x<=n.x)&&(c.y>=l.y||c.y<=n.y)});return d&&this._containsCenterOfCanvas(n,l,a)},_getImageLines:function(a){var n={topline:{o:a.tl,d:a.tr},rightline:{o:a.tr,d:a.br},bottomline:{o:a.br,d:a.bl},leftline:{o:a.bl,d:a.tl}};return n},_findCrossPoints:function(a,n){var l,d,c,g,_,C=0,O;for(var k in n)if(O=n[k],!(O.o.y<a.y&&O.d.y<a.y)&&!(O.o.y>=a.y&&O.d.y>=a.y)&&(O.o.x===O.d.x&&O.o.x>=a.x?_=O.o.x:(l=0,d=(O.d.y-O.o.y)/(O.d.x-O.o.x),c=a.y-l*a.x,g=O.o.y-d*O.o.x,_=-(c-g)/(l-d)),_>=a.x&&(C+=1),C===2))break;return C},getBoundingRect:function(a,n){var l=this.getCoords(a,n);return i.makeBoundingBoxFromPoints(l)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(a){return Math.abs(a)<this.minScaleLimit?a<0?-this.minScaleLimit:this.minScaleLimit:a===0?1e-4:a},scale:function(a){return this._set("scaleX",a),this._set("scaleY",a),this.setCoords()},scaleToWidth:function(a,n){var l=this.getBoundingRect(n).width/this.getScaledWidth();return this.scale(a/this.width/l)},scaleToHeight:function(a,n){var l=this.getBoundingRect(n).height/this.getScaledHeight();return this.scale(a/this.height/l)},calcCoords:function(a){return a?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var a=this.getViewportTransform(),n=this.padding,l=o(this.angle),d=i.cos(l),c=i.sin(l),g=d*n,_=c*n,C=g+_,O=g-_,k=this.calcACoords(),F={tl:r(k.tl,a),tr:r(k.tr,a),bl:r(k.bl,a),br:r(k.br,a)};return n&&(F.tl.x-=O,F.tl.y-=C,F.tr.x+=C,F.tr.y-=O,F.bl.x-=C,F.bl.y+=O,F.br.x+=O,F.br.y+=C),F},calcOCoords:function(){var a=this._calcRotateMatrix(),n=this._calcTranslateMatrix(),l=this.getViewportTransform(),d=h(l,n),c=h(d,a),c=h(c,[1/l[0],0,0,1/l[3],0,0]),g=this._calculateCurrentDimensions(),_={};return this.forEachControl(function(C,O,k){_[O]=C.positionHandler(g,c,k)}),_},calcACoords:function(){var a=this._calcRotateMatrix(),n=this._calcTranslateMatrix(),l=h(n,a),d=this._getTransformedDimensions(),c=d.x/2,g=d.y/2;return{tl:r({x:-c,y:-g},l),tr:r({x:c,y:-g},l),bl:r({x:-c,y:g},l),br:r({x:c,y:g},l)}},setCoords:function(a){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),a?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var a=this.getCenterPoint();return[1,0,0,1,a.x,a.y]},transformMatrixKey:function(a){var n="_",l="";return!a&&this.group&&(l=this.group.transformMatrixKey(a)+n),l+this.top+n+this.left+n+this.scaleX+n+this.scaleY+n+this.skewX+n+this.skewY+n+this.angle+n+this.originX+n+this.originY+n+this.width+n+this.height+n+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(a){var n=this.calcOwnMatrix();if(a||!this.group)return n;var l=this.transformMatrixKey(a),d=this.matrixCache||(this.matrixCache={});return d.key===l?d.value:(this.group&&(n=h(this.group.calcTransformMatrix(!1),n)),d.key=l,d.value=n,n)},calcOwnMatrix:function(){var a=this.transformMatrixKey(!0),n=this.ownMatrixCache||(this.ownMatrixCache={});if(n.key===a)return n.value;var l=this._calcTranslateMatrix(),d={angle:this.angle,translateX:l[4],translateY:l[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return n.key=a,n.value=i.composeMatrix(d),n.value},_calcDimensionsTransformMatrix:function(a,n,l){return i.calcDimensionsMatrix({skewX:a,skewY:n,scaleX:this.scaleX*(l&&this.flipX?-1:1),scaleY:this.scaleY*(l&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var a=this.strokeWidth,n=this.width+a,l=this.height+a;return{x:n,y:l}},_getTransformedDimensions:function(a,n){typeof a>"u"&&(a=this.skewX),typeof n>"u"&&(n=this.skewY);var l,d,c,g=a===0&&n===0;if(this.strokeUniform?(d=this.width,c=this.height):(l=this._getNonTransformedDimensions(),d=l.x,c=l.y),g)return this._finalizeDimensions(d*this.scaleX,c*this.scaleY);var _=i.sizeAfterTransform(d,c,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:a,skewY:n});return this._finalizeDimensions(_.x,_.y)},_finalizeDimensions:function(a,n){return this.strokeUniform?{x:a+this.strokeWidth,y:n+this.strokeWidth}:{x:a,y:n}},_calculateCurrentDimensions:function(){var a=this.getViewportTransform(),n=this._getTransformedDimensions(),l=r(n,a,!0);return l.scalarAdd(2*this.padding)}})}(),s.util.object.extend(s.Object.prototype,{sendToBack:function(){return this.group?s.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?s.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(u){return this.group?s.StaticCanvas.prototype.sendBackwards.call(this.group,this,u):this.canvas&&this.canvas.sendBackwards(this,u),this},bringForward:function(u){return this.group?s.StaticCanvas.prototype.bringForward.call(this.group,this,u):this.canvas&&this.canvas.bringForward(this,u),this},moveTo:function(u){return this.group&&this.group.type!=="activeSelection"?s.StaticCanvas.prototype.moveTo.call(this.group,this,u):this.canvas&&this.canvas.moveTo(this,u),this}}),function(){function u(o,h){if(h){if(h.toLive)return o+": url(#SVGID_"+h.id+"); ";var r=new s.Color(h),a=o+": "+r.toRgb()+"; ",n=r.getAlpha();return n!==1&&(a+=o+"-opacity: "+n.toString()+"; "),a}else return o+": none; "}var i=s.util.toFixed;s.util.object.extend(s.Object.prototype,{getSvgStyles:function(o){var h=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",a=this.strokeDashArray?this.strokeDashArray.join(" "):"none",n=this.strokeDashOffset?this.strokeDashOffset:"0",l=this.strokeLineCap?this.strokeLineCap:"butt",d=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",g=typeof this.opacity<"u"?this.opacity:"1",_=this.visible?"":" visibility: hidden;",C=o?"":this.getSvgFilter(),O=u("fill",this.fill),k=u("stroke",this.stroke);return[k,"stroke-width: ",r,"; ","stroke-dasharray: ",a,"; ","stroke-linecap: ",l,"; ","stroke-dashoffset: ",n,"; ","stroke-linejoin: ",d,"; ","stroke-miterlimit: ",c,"; ",O,"fill-rule: ",h,"; ","opacity: ",g,";",C,_].join("")},getSvgSpanStyles:function(o,h){var r="; ",n=o.fontFamily?"font-family: "+(o.fontFamily.indexOf("'")===-1&&o.fontFamily.indexOf('"')===-1?"'"+o.fontFamily+"'":o.fontFamily)+r:"",a=o.strokeWidth?"stroke-width: "+o.strokeWidth+r:"",n=n,l=o.fontSize?"font-size: "+o.fontSize+"px"+r:"",d=o.fontStyle?"font-style: "+o.fontStyle+r:"",c=o.fontWeight?"font-weight: "+o.fontWeight+r:"",g=o.fill?u("fill",o.fill):"",_=o.stroke?u("stroke",o.stroke):"",C=this.getSvgTextDecoration(o),O=o.deltaY?"baseline-shift: "+-o.deltaY+"; ":"";return C&&(C="text-decoration: "+C+r),[_,a,n,l,d,c,C,g,O,h?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(o){return["overline","underline","line-through"].filter(function(h){return o[h.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(o,h){var r=o?this.calcTransformMatrix():this.calcOwnMatrix(),a='transform="'+s.util.matrixToSVG(r);return a+(h||"")+'" '},_setSVGBg:function(o){if(this.backgroundColor){var h=s.Object.NUM_FRACTION_DIGITS;o.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,h),'" y="',i(-this.height/2,h),'" width="',i(this.width,h),'" height="',i(this.height,h),`"></rect>
`)}},toSVG:function(o){return this._createBaseSVGMarkup(this._toSVG(o),{reviver:o})},toClipPathSVG:function(o){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(o),{reviver:o})},_createBaseClipPathSVGMarkup:function(o,h){h=h||{};var r=h.reviver,a=h.additionalTransform||"",n=[this.getSvgTransform(!0,a),this.getSvgCommons()].join(""),l=o.indexOf("COMMON_PARTS");return o[l]=n,r?r(o.join("")):o.join("")},_createBaseSVGMarkup:function(o,h){h=h||{};var r=h.noStyle,a=h.reviver,n=r?"":'style="'+this.getSvgStyles()+'" ',l=h.withShadow?'style="'+this.getSvgFilter()+'" ':"",d=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",g=d&&d.absolutePositioned,_=this.stroke,C=this.fill,O=this.shadow,k,F=[],z,q=o.indexOf("COMMON_PARTS"),Q=h.additionalTransform;return d&&(d.clipPathId="CLIPPATH_"+s.Object.__uid++,z='<clipPath id="'+d.clipPathId+`" >
`+d.toClipPathSVG(a)+`</clipPath>
`),g&&F.push("<g ",l,this.getSvgCommons(),` >
`),F.push("<g ",this.getSvgTransform(!1),g?"":l+this.getSvgCommons(),` >
`),k=[n,c,r?"":this.addPaintOrder()," ",Q?'transform="'+Q+'" ':""].join(""),o[q]=k,C&&C.toLive&&F.push(C.toSVG(this)),_&&_.toLive&&F.push(_.toSVG(this)),O&&F.push(O.toSVG(this)),d&&F.push(z),F.push(o.join("")),F.push(`</g>
`),g&&F.push(`</g>
`),a?a(F.join("")):F.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var u=s.util.object.extend,i="stateProperties";function o(r,a,n){var l={},d=!0;n.forEach(function(c){l[c]=r[c]}),u(r[a],l,d)}function h(r,a,n){if(r===a)return!0;if(Array.isArray(r)){if(!Array.isArray(a)||r.length!==a.length)return!1;for(var l=0,d=r.length;l<d;l++)if(!h(r[l],a[l]))return!1;return!0}else if(r&&typeof r=="object"){var c=Object.keys(r),g;if(!a||typeof a!="object"||!n&&c.length!==Object.keys(a).length)return!1;for(var l=0,d=c.length;l<d;l++)if(g=c[l],!(g==="canvas"||g==="group")&&!h(r[g],a[g]))return!1;return!0}}s.util.object.extend(s.Object.prototype,{hasStateChanged:function(r){r=r||i;var a="_"+r;return Object.keys(this[a]).length<this[r].length?!0:!h(this[a],this,!0)},saveState:function(r){var a=r&&r.propertySet||i,n="_"+a;return this[n]?(o(this,n,this[a]),r&&r.stateProperties&&o(this,n,r.stateProperties),this):this.setupState(r)},setupState:function(r){r=r||{};var a=r.propertySet||i;return r.propertySet=a,this["_"+a]={},this.saveState(r),this}})}(),function(){var u=s.util.degreesToRadians;s.util.object.extend(s.Object.prototype,{_findTargetCorner:function(i,o){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var h=i.x,r=i.y,a,n,l=Object.keys(this.oCoords),d=l.length-1,c;for(this.__corner=0;d>=0;d--)if(c=l[d],!!this.isControlVisible(c)&&(n=this._getImageLines(o?this.oCoords[c].touchCorner:this.oCoords[c].corner),a=this._findCrossPoints({x:h,y:r},n),a!==0&&a%2===1))return this.__corner=c,c;return!1},forEachControl:function(i){for(var o in this.controls)i(this.controls[o],o,this)},_setCornerCoords:function(){var i=this.oCoords;for(var o in i){var h=this.controls[o];i[o].corner=h.calcCornerCoords(this.angle,this.cornerSize,i[o].x,i[o].y,!1),i[o].touchCorner=h.calcCornerCoords(this.angle,this.touchCornerSize,i[o].x,i[o].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var o=this.getCenterPoint(),h=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return i.translate(o.x,o.y),i.scale(1/r[0],1/r[3]),i.rotate(u(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-h.x/2,-h.y/2,h.x,h.y),i.restore(),this},drawBorders:function(i,o){o=o||{};var h=this._calculateCurrentDimensions(),r=this.borderScaleFactor,a=h.x+r,n=h.y+r,l=typeof o.hasControls<"u"?o.hasControls:this.hasControls,d=!1;return i.save(),i.strokeStyle=o.borderColor||this.borderColor,this._setLineDash(i,o.borderDashArray||this.borderDashArray),i.strokeRect(-a/2,-n/2,a,n),l&&(i.beginPath(),this.forEachControl(function(c,g,_){c.withConnection&&c.getVisibility(_,g)&&(d=!0,i.moveTo(c.x*a,c.y*n),i.lineTo(c.x*a+c.offsetX,c.y*n+c.offsetY))}),d&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,o,h){h=h||{};var r=s.util.sizeAfterTransform(this.width,this.height,o),a=this.strokeWidth,n=this.strokeUniform,l=this.borderScaleFactor,d=r.x+a*(n?this.canvas.getZoom():o.scaleX)+l,c=r.y+a*(n?this.canvas.getZoom():o.scaleY)+l;return i.save(),this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeStyle=h.borderColor||this.borderColor,i.strokeRect(-d/2,-c/2,d,c),i.restore(),this},drawControls:function(i,o){o=o||{},i.save();var h=this.canvas.getRetinaScaling(),r,a;return i.setTransform(h,0,0,h,0,0),i.strokeStyle=i.fillStyle=o.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=o.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,o.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(r=this.group.calcTransformMatrix()),this.forEachControl(function(n,l,d){a=d.oCoords[l],n.getVisibility(d,l)&&(r&&(a=s.util.transformPoint(a,r)),n.render(i,a.x,a.y,o,d))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,o){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=o,this},setControlsVisibility:function(i){i||(i={});for(var o in i)this.setControlVisible(o,i[o]);return this},onDeselect:function(){},onSelect:function(){}})}(),s.util.object.extend(s.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(u,i){i=i||{};var o=function(){},h=i.onComplete||o,r=i.onChange||o,a=this;return s.util.animate({startValue:u.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(n){u.set("left",n),a.requestRenderAll(),r()},onComplete:function(){u.setCoords(),h()}}),this},fxCenterObjectV:function(u,i){i=i||{};var o=function(){},h=i.onComplete||o,r=i.onChange||o,a=this;return s.util.animate({startValue:u.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(n){u.set("top",n),a.requestRenderAll(),r()},onComplete:function(){u.setCoords(),h()}}),this},fxRemove:function(u,i){i=i||{};var o=function(){},h=i.onComplete||o,r=i.onChange||o,a=this;return s.util.animate({startValue:u.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(n){u.set("opacity",n),a.requestRenderAll(),r()},onComplete:function(){a.remove(u),h()}}),this}}),s.util.object.extend(s.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var u=[],i,o;for(i in arguments[0])u.push(i);for(var h=0,r=u.length;h<r;h++)i=u[h],o=h!==r-1,this._animate(i,arguments[0][i],arguments[1],o)}else this._animate.apply(this,arguments);return this},_animate:function(u,i,o,h){var r=this,a;i=i.toString(),o?o=s.util.object.clone(o):o={},~u.indexOf(".")&&(a=u.split("."));var n=r.colorProperties.indexOf(u)>-1||a&&r.colorProperties.indexOf(a[1])>-1,l=a?this.get(a[0])[a[1]]:this.get(u);"from"in o||(o.from=l),n||(~i.indexOf("=")?i=l+parseFloat(i.replace("=","")):i=parseFloat(i));var d={startValue:o.from,endValue:i,byValue:o.by,easing:o.easing,duration:o.duration,abort:o.abort&&function(c,g,_){return o.abort.call(r,c,g,_)},onChange:function(c,g,_){a?r[a[0]][a[1]]=c:r.set(u,c),!h&&o.onChange&&o.onChange(c,g,_)},onComplete:function(c,g,_){h||(r.setCoords(),o.onComplete&&o.onComplete(c,g,_))}};return n?s.util.animateColor(d.startValue,d.endValue,d.duration,d):s.util.animate(d)}}),function(u){var i=u.fabric||(u.fabric={}),o=i.util.object.extend,h=i.util.object.clone,r={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(n,l){n||(n=[0,0,0,0]),this.callSuper("initialize",l),this.set("x1",n[0]),this.set("y1",n[1]),this.set("x2",n[2]),this.set("y2",n[3]),this._setWidthHeight(l)},_setWidthHeight:function(n){n||(n={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in n?n.left:this._getLeftToOriginX(),this.top="top"in n?n.top:this._getTopToOriginY()},_set:function(n,l){return this.callSuper("_set",n,l),typeof r[n]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:a({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:a({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(n){n.beginPath();var l=this.calcLinePoints();n.moveTo(l.x1,l.y1),n.lineTo(l.x2,l.y2),n.lineWidth=this.strokeWidth;var d=n.strokeStyle;n.strokeStyle=this.stroke||n.fillStyle,this.stroke&&this._renderStroke(n),n.strokeStyle=d},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(n){return o(this.callSuper("toObject",n),this.calcLinePoints())},_getNonTransformedDimensions:function(){var n=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(n.y-=this.strokeWidth),this.height===0&&(n.x-=this.strokeWidth)),n},calcLinePoints:function(){var n=this.x1<=this.x2?-1:1,l=this.y1<=this.y2?-1:1,d=n*this.width*.5,c=l*this.height*.5,g=n*this.width*-.5,_=l*this.height*-.5;return{x1:d,x2:g,y1:c,y2:_}},_toSVG:function(){var n=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',n.x1,'" y1="',n.y1,'" x2="',n.x2,'" y2="',n.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(n,l,d){d=d||{};var c=i.parseAttributes(n,i.Line.ATTRIBUTE_NAMES),g=[c.x1||0,c.y1||0,c.x2||0,c.y2||0];l(new i.Line(g,o(c,d)))},i.Line.fromObject=function(n,l){function d(g){delete g.points,l&&l(g)}var c=h(n,!0);c.points=[n.x1,n.y1,n.x2,n.y2],i.Object._fromObject("Line",c,d,"points")};function a(n,l){var d=n.origin,c=n.axis1,g=n.axis2,_=n.dimension,C=l.nearest,O=l.center,k=l.farthest;return function(){switch(this.get(d)){case C:return Math.min(this.get(c),this.get(g));case O:return Math.min(this.get(c),this.get(g))+.5*this.get(_);case k:return Math.max(this.get(c),this.get(g))}}}}(m),function(u){var i=u.fabric||(u.fabric={}),o=Math.PI;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:o*2,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(r,a){return this.callSuper("_set",r,a),r==="radius"&&this.setRadius(a),this},toObject:function(r){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(r))},_toSVG:function(){var r,a=0,n=0,l=(this.endAngle-this.startAngle)%(2*o);if(l===0)r=["<circle ","COMMON_PARTS",'cx="'+a+'" cy="'+n+'" ','r="',this.radius,`" />
`];else{var d=i.util.cos(this.startAngle)*this.radius,c=i.util.sin(this.startAngle)*this.radius,g=i.util.cos(this.endAngle)*this.radius,_=i.util.sin(this.endAngle)*this.radius,C=l>o?"1":"0";r=['<path d="M '+d+" "+c," A "+this.radius+" "+this.radius," 0 ",+C+" 1"," "+g+" "+_,'" ',"COMMON_PARTS",` />
`]}return r},_render:function(r){r.beginPath(),r.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(r)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(r){return this.radius=r,this.set("width",r*2).set("height",r*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(r,a){var n=i.parseAttributes(r,i.Circle.ATTRIBUTE_NAMES);if(!h(n))throw new Error("value of `r` attribute is required and can not be negative");n.left=(n.left||0)-n.radius,n.top=(n.top||0)-n.radius,a(new i.Circle(n))};function h(r){return"radius"in r&&r.radius>=0}i.Circle.fromObject=function(r,a){i.Object._fromObject("Circle",r,a)}}(m),function(u){var i=u.fabric||(u.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(o){var h=this.width/2,r=this.height/2;o.beginPath(),o.moveTo(-h,r),o.lineTo(0,-r),o.lineTo(h,r),o.closePath(),this._renderPaintInOrder(o)},_toSVG:function(){var o=this.width/2,h=this.height/2,r=[-o+" "+h,"0 "+-h,o+" "+h].join(",");return["<polygon ","COMMON_PARTS",'points="',r,'" />']}}),i.Triangle.fromObject=function(o,h){return i.Object._fromObject("Triangle",o,h)}}(m),function(u){var i=u.fabric||(u.fabric={}),o=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this.set("rx",h&&h.rx||0),this.set("ry",h&&h.ry||0)},_set:function(h,r){switch(this.callSuper("_set",h,r),h){case"rx":this.rx=r,this.set("width",r*2);break;case"ry":this.ry=r,this.set("height",r*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(h){h.beginPath(),h.save(),h.transform(1,0,0,this.ry/this.rx,0,0),h.arc(0,0,this.rx,0,o,!1),h.restore(),this._renderPaintInOrder(h)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(h,r){var a=i.parseAttributes(h,i.Ellipse.ATTRIBUTE_NAMES);a.left=(a.left||0)-a.rx,a.top=(a.top||0)-a.ry,r(new i.Ellipse(a))},i.Ellipse.fromObject=function(h,r){i.Object._fromObject("Ellipse",h,r)}}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(h){var r=this.rx?Math.min(this.rx,this.width/2):0,a=this.ry?Math.min(this.ry,this.height/2):0,n=this.width,l=this.height,d=-this.width/2,c=-this.height/2,g=r!==0||a!==0,_=1-.5522847498;h.beginPath(),h.moveTo(d+r,c),h.lineTo(d+n-r,c),g&&h.bezierCurveTo(d+n-_*r,c,d+n,c+_*a,d+n,c+a),h.lineTo(d+n,c+l-a),g&&h.bezierCurveTo(d+n,c+l-_*a,d+n-_*r,c+l,d+n-r,c+l),h.lineTo(d+r,c+l),g&&h.bezierCurveTo(d+_*r,c+l,d,c+l-_*a,d,c+l-a),h.lineTo(d,c+a),g&&h.bezierCurveTo(d,c+_*a,d+_*r,c,d+r,c),h.closePath(),this._renderPaintInOrder(h)},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){var h=-this.width/2,r=-this.height/2;return["<rect ","COMMON_PARTS",'x="',h,'" y="',r,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(h,r,a){if(!h)return r(null);a=a||{};var n=i.parseAttributes(h,i.Rect.ATTRIBUTE_NAMES);n.left=n.left||0,n.top=n.top||0,n.height=n.height||0,n.width=n.width||0;var l=new i.Rect(o(a?i.util.object.clone(a):{},n));l.visible=l.visible&&l.width>0&&l.height>0,r(l)},i.Rect.fromObject=function(h,r){return i.Object._fromObject("Rect",h,r)}}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.util.object.extend,h=i.util.array.min,r=i.util.array.max,a=i.util.toFixed;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(n,l){l=l||{},this.points=n||[],this.callSuper("initialize",l),this._setPositionDimensions(l)},_setPositionDimensions:function(n){var l=this._calcDimensions(n),d;this.width=l.width,this.height=l.height,n.fromSVG||(d=this.translateToGivenOrigin({x:l.left-this.strokeWidth/2,y:l.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),typeof n.left>"u"&&(this.left=n.fromSVG?l.left:d.x),typeof n.top>"u"&&(this.top=n.fromSVG?l.top:d.y),this.pathOffset={x:l.left+this.width/2,y:l.top+this.height/2}},_calcDimensions:function(){var n=this.points,l=h(n,"x")||0,d=h(n,"y")||0,c=r(n,"x")||0,g=r(n,"y")||0,_=c-l,C=g-d;return{left:l,top:d,width:_,height:C}},toObject:function(n){return o(this.callSuper("toObject",n),{points:this.points.concat()})},_toSVG:function(){for(var n=[],l=this.pathOffset.x,d=this.pathOffset.y,c=i.Object.NUM_FRACTION_DIGITS,g=0,_=this.points.length;g<_;g++)n.push(a(this.points[g].x-l,c),",",a(this.points[g].y-d,c)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',n.join(""),`" />
`]},commonRender:function(n){var l,d=this.points.length,c=this.pathOffset.x,g=this.pathOffset.y;if(!d||isNaN(this.points[d-1].y))return!1;n.beginPath(),n.moveTo(this.points[0].x-c,this.points[0].y-g);for(var _=0;_<d;_++)l=this.points[_],n.lineTo(l.x-c,l.y-g);return!0},_render:function(n){this.commonRender(n)&&this._renderPaintInOrder(n)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(n){return function(l,d,c){if(!l)return d(null);c||(c={});var g=i.parsePointsAttribute(l.getAttribute("points")),_=i.parseAttributes(l,i[n].ATTRIBUTE_NAMES);_.fromSVG=!0,d(new i[n](g,o(_,c)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(n,l){return i.Object._fromObject("Polyline",n,l,"points")}}(m),function(u){var i=u.fabric||(u.fabric={});if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_render:function(o){this.commonRender(o)&&(o.closePath(),this._renderPaintInOrder(o))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(o,h){i.Object._fromObject("Polygon",o,h,"points")}}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.util.array.min,h=i.util.array.max,r=i.util.object.extend,a=Object.prototype.toString,n=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(l,d){d=d||{},this.callSuper("initialize",d),l||(l=[]);var c=a.call(l)==="[object Array]";this.path=i.util.makePathSimpler(c?l:i.util.parsePath(l)),this.path&&i.Polyline.prototype._setPositionDimensions.call(this,d)},_renderPathCommands:function(l){var d,c=0,g=0,_=0,C=0,O=0,k=0,F=-this.pathOffset.x,z=-this.pathOffset.y;l.beginPath();for(var q=0,Q=this.path.length;q<Q;++q)switch(d=this.path[q],d[0]){case"L":_=d[1],C=d[2],l.lineTo(_+F,C+z);break;case"M":_=d[1],C=d[2],c=_,g=C,l.moveTo(_+F,C+z);break;case"C":_=d[5],C=d[6],O=d[3],k=d[4],l.bezierCurveTo(d[1]+F,d[2]+z,O+F,k+z,_+F,C+z);break;case"Q":l.quadraticCurveTo(d[1]+F,d[2]+z,d[3]+F,d[4]+z),_=d[3],C=d[4],O=d[1],k=d[2];break;case"z":case"Z":_=c,C=g,l.closePath();break}},_render:function(l){this._renderPathCommands(l),this._renderPaintInOrder(l)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(l){return r(this.callSuper("toObject",l),{path:this.path.map(function(d){return d.slice()})})},toDatalessObject:function(l){var d=this.toObject(["sourcePath"].concat(l));return d.sourcePath&&delete d.path,d},_toSVG:function(){var l=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',l,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var l=i.Object.NUM_FRACTION_DIGITS;return" translate("+n(-this.pathOffset.x,l)+", "+n(-this.pathOffset.y,l)+")"},toClipPathSVG:function(l){var d=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:l,additionalTransform:d})},toSVG:function(l){var d=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:l,additionalTransform:d})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var l=[],d=[],c,g=0,_=0,C=0,O=0,k,F=0,z=this.path.length;F<z;++F){switch(c=this.path[F],c[0]){case"L":C=c[1],O=c[2],k=[];break;case"M":C=c[1],O=c[2],g=C,_=O,k=[];break;case"C":k=i.util.getBoundsOfCurve(C,O,c[1],c[2],c[3],c[4],c[5],c[6]),C=c[5],O=c[6];break;case"Q":k=i.util.getBoundsOfCurve(C,O,c[1],c[2],c[1],c[2],c[3],c[4]),C=c[3],O=c[4];break;case"z":case"Z":C=g,O=_;break}k.forEach(function(M){l.push(M.x),d.push(M.y)}),l.push(C),d.push(O)}var q=o(l)||0,Q=o(d)||0,gt=h(l)||0,G=h(d)||0,B=gt-q,it=G-Q;return{left:q,top:Q,width:B,height:it}}}),i.Path.fromObject=function(l,d){if(typeof l.sourcePath=="string"){var c=l.sourcePath;i.loadSVGFromURL(c,function(g){var _=g[0];_.setOptions(l),d&&d(_)})}else i.Object._fromObject("Path",l,d,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(l,d,c){var g=i.parseAttributes(l,i.Path.ATTRIBUTE_NAMES);g.fromSVG=!0,d(new i.Path(g.d,r(g,c)))}}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.util.array.min,h=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(r,a,n){a=a||{},this._objects=[],n&&this.callSuper("initialize",a),this._objects=r||[];for(var l=this._objects.length;l--;)this._objects[l].group=this;if(n)this._updateObjectsACoords();else{var d=a&&a.centerPoint;a.originX!==void 0&&(this.originX=a.originX),a.originY!==void 0&&(this.originY=a.originY),d||this._calcBounds(),this._updateObjectsCoords(d),delete a.centerPoint,this.callSuper("initialize",a)}this.setCoords()},_updateObjectsACoords:function(){for(var r=!0,a=this._objects.length;a--;)this._objects[a].setCoords(r)},_updateObjectsCoords:function(a){for(var a=a||this.getCenterPoint(),n=this._objects.length;n--;)this._updateObjectCoords(this._objects[n],a)},_updateObjectCoords:function(r,a){var n=r.left,l=r.top,d=!0;r.set({left:n-a.x,top:l-a.y}),r.group=this,r.setCoords(d)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(r){var a=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),r&&(a&&i.util.removeTransformFromObject(r,this.group.calcTransformMatrix()),this._objects.push(r),r.group=this,r._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,a?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(r){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(r),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(r){this.dirty=!0,r.group=this,r._set("canvas",this.canvas)},_onObjectRemoved:function(r){this.dirty=!0,delete r.group},_set:function(r,a){var n=this._objects.length;if(this.useSetOnGroup)for(;n--;)this._objects[n].setOnGroup(r,a);if(r==="canvas")for(;n--;)this._objects[n]._set(r,a);i.Object.prototype._set.call(this,r,a)},toObject:function(r){var a=this.includeDefaultValues,n=this._objects.filter(function(d){return!d.excludeFromExport}).map(function(d){var c=d.includeDefaultValues;d.includeDefaultValues=a;var g=d.toObject(r);return d.includeDefaultValues=c,g}),l=i.Object.prototype.toObject.call(this,r);return l.objects=n,l},toDatalessObject:function(r){var a,n=this.sourcePath;if(n)a=n;else{var l=this.includeDefaultValues;a=this._objects.map(function(c){var g=c.includeDefaultValues;c.includeDefaultValues=l;var _=c.toDatalessObject(r);return c.includeDefaultValues=g,_})}var d=i.Object.prototype.toDatalessObject.call(this,r);return d.objects=a,d},render:function(r){this._transformDone=!0,this.callSuper("render",r),this._transformDone=!1},shouldCache:function(){var r=i.Object.prototype.shouldCache.call(this);if(r){for(var a=0,n=this._objects.length;a<n;a++)if(this._objects[a].willDrawShadow())return this.ownCaching=!1,!1}return r},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var r=0,a=this._objects.length;r<a;r++)if(this._objects[r].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(r){for(var a=0,n=this._objects.length;a<n;a++)this._objects[a].render(r);this._drawClipPath(r)},isCacheDirty:function(r){if(this.callSuper("isCacheDirty",r))return!0;if(!this.statefullCache)return!1;for(var a=0,n=this._objects.length;a<n;a++)if(this._objects[a].isCacheDirty(!0)){if(this._cacheCanvas){var l=this.cacheWidth/this.zoomX,d=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-l/2,-d/2,l,d)}return!0}return!1},_restoreObjectsState:function(){var r=this.calcOwnMatrix();return this._objects.forEach(function(a){i.util.addTransformToObject(a,r),delete a.group,a.setCoords()}),this},realizeTransform:function(r,a){return i.util.addTransformToObject(r,a),r},destroy:function(){return this._objects.forEach(function(r){r.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var r=this._objects,a=this.canvas;this._objects=[];var n=this.toObject();delete n.objects;var l=new i.ActiveSelection([]);return l.set(n),l.type="activeSelection",a.remove(this),r.forEach(function(d){d.group=l,d.dirty=!0,a.add(d)}),l.canvas=a,l._objects=r,a._activeObject=l,l.setCoords(),l}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var r=!0;return this.forEachObject(function(a){a.setCoords(r)}),this},_calcBounds:function(r){for(var a=[],n=[],l,d,c,g=["tr","br","bl","tl"],_=0,C=this._objects.length,O,k=g.length;_<C;++_){for(l=this._objects[_],c=l.calcACoords(),O=0;O<k;O++)d=g[O],a.push(c[d].x),n.push(c[d].y);l.aCoords=c}this._getBounds(a,n,r)},_getBounds:function(r,a,n){var l=new i.Point(o(r),o(a)),d=new i.Point(h(r),h(a)),c=l.y||0,g=l.x||0,_=d.x-l.x||0,C=d.y-l.y||0;this.width=_,this.height=C,n||this.setPositionByOrigin({x:g,y:c},"left","top")},_toSVG:function(r){for(var a=["<g ","COMMON_PARTS",` >
`],n=0,l=this._objects.length;n<l;n++)a.push("		",this._objects[n].toSVG(r));return a.push(`</g>
`),a},getSvgStyles:function(){var r=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",a=this.visible?"":" visibility: hidden;";return[r,this.getSvgFilter(),a].join("")},toClipPathSVG:function(r){for(var a=[],n=0,l=this._objects.length;n<l;n++)a.push("	",this._objects[n].toClipPathSVG(r));return this._createBaseClipPathSVGMarkup(a,{reviver:r})}}),i.Group.fromObject=function(r,a){var n=r.objects,l=i.util.object.clone(r,!0);if(delete l.objects,typeof n=="string"){i.loadSVGFromURL(n,function(d){var c=i.util.groupSVGElements(d,r,n);c.set(l),a&&a(c)});return}i.util.enlivenObjects(n,function(d){i.util.enlivenObjects([r.clipPath],function(c){var g=i.util.object.clone(r,!0);g.clipPath=c[0],delete g.objects,a&&a(new i.Group(d,g,!0))})})})}(m),function(u){var i=u.fabric||(u.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(o,h){h=h||{},this._objects=o||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;h.originX&&(this.originX=h.originX),h.originY&&(this.originY=h.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,h),this.setCoords()},toGroup:function(){var o=this._objects.concat();this._objects=[];var h=i.Object.prototype.toObject.call(this),r=new i.Group([]);if(delete h.type,r.set(h),o.forEach(function(n){n.canvas.remove(n),n.group=r}),r._objects=o,!this.canvas)return r;var a=this.canvas;return a.add(r),a._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(o,h,r){o.save(),o.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",o,h),r=r||{},typeof r.hasControls>"u"&&(r.hasControls=!1),r.forActiveSelection=!0;for(var a=0,n=this._objects.length;a<n;a++)this._objects[a]._renderControls(o,r);o.restore()}}),i.ActiveSelection.fromObject=function(o,h){i.util.enlivenObjects(o.objects,function(r){delete o.objects,h&&h(new i.ActiveSelection(r,o,!0))})})}(m),function(u){var i=s.util.object.extend;if(u.fabric||(u.fabric={}),u.fabric.Image){s.warn("fabric.Image is already defined.");return}s.Image=s.util.createClass(s.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:s.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:s.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(o,h){h||(h={}),this.filters=[],this.cacheKey="texture"+s.Object.__uid++,this.callSuper("initialize",h),this._initElement(o,h)},getElement:function(){return this._element||{}},setElement:function(o,h){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=o,this._originalElement=o,this._initConfig(h),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(o){var h=s.filterBackend;h&&h.evictCachesForKey&&h.evictCachesForKey(o)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(o){s.util.cleanUpJsdomNode(this[o]),this[o]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var o=this.getElement();return{width:o.naturalWidth||o.width,height:o.naturalHeight||o.height}},_stroke:function(o){if(!(!this.stroke||this.strokeWidth===0)){var h=this.width/2,r=this.height/2;o.beginPath(),o.moveTo(-h,-r),o.lineTo(h,-r),o.lineTo(h,r),o.lineTo(-h,r),o.lineTo(-h,-r),o.closePath()}},toObject:function(o){var h=[];this.filters.forEach(function(a){a&&h.push(a.toObject())});var r=i(this.callSuper("toObject",["cropX","cropY"].concat(o)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:h});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var o=[],h=[],r,a=this._element,n=-this.width/2,l=-this.height/2,d="",c="";if(!a)return[];if(this.hasCrop()){var g=s.Object.__uid++;o.push('<clipPath id="imageCrop_'+g+`">
`,'	<rect x="'+n+'" y="'+l+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),d=' clip-path="url(#imageCrop_'+g+')" '}if(this.imageSmoothing||(c='" image-rendering="optimizeSpeed'),h.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',n-this.cropX,'" y="',l-this.cropY,'" width="',a.width||a.naturalWidth,'" height="',a.height||a.height,c,'"',d,`></image>
`),this.stroke||this.strokeDashArray){var _=this.fill;this.fill=null,r=["	<rect ",'x="',n,'" y="',l,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=_}return this.paintFirst!=="fill"?o=o.concat(r,h):o=o.concat(h,r),o},getSrc:function(o){var h=o?this._element:this._originalElement;return h?h.toDataURL?h.toDataURL():this.srcFromAttribute?h.getAttribute("src"):h.src:this.src||""},setSrc:function(o,h,r){return s.util.loadImage(o,function(a,n){this.setElement(a,r),this._setWidthHeight(),h&&h(this,n)},this,r&&r.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var o=this.resizeFilter,h=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),a=r.scaleX,n=r.scaleY,l=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!o||a>h&&n>h){this._element=l,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=a,this._lastScaleY=n;return}s.filterBackend||(s.filterBackend=s.initFilterBackend());var d=s.util.createCanvasElement(),c=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,g=l.width,_=l.height;d.width=g,d.height=_,this._element=d,this._lastScaleX=o.scaleX=a,this._lastScaleY=o.scaleY=n,s.filterBackend.applyFilters([o],l,g,_,this._element,c),this._filterScalingX=d.width/this._originalElement.width,this._filterScalingY=d.height/this._originalElement.height},applyFilters:function(o){if(o=o||this.filters||[],o=o.filter(function(l){return l&&!l.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),o.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var h=this._originalElement,r=h.naturalWidth||h.width,a=h.naturalHeight||h.height;if(this._element===this._originalElement){var n=s.util.createCanvasElement();n.width=r,n.height=a,this._element=n,this._filteredEl=n}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,a),this._lastScaleX=1,this._lastScaleY=1;return s.filterBackend||(s.filterBackend=s.initFilterBackend()),s.filterBackend.applyFilters(o,this._originalElement,r,a,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(o){s.util.setImageSmoothing(o,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(o),this._renderPaintInOrder(o)},drawCacheOnCanvas:function(o){s.util.setImageSmoothing(o,this.imageSmoothing),s.Object.prototype.drawCacheOnCanvas.call(this,o)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(o){var h=this._element;if(h){var r=this._filterScalingX,a=this._filterScalingY,n=this.width,l=this.height,d=Math.min,c=Math.max,g=c(this.cropX,0),_=c(this.cropY,0),C=h.naturalWidth||h.width,O=h.naturalHeight||h.height,k=g*r,F=_*a,z=d(n*r,C-k),q=d(l*a,O-F),Q=-n/2,gt=-l/2,G=d(n,C/r-g),B=d(l,O/a-_);h&&o.drawImage(h,k,F,z,q,Q,gt,G,B)}},_needsResize:function(){var o=this.getTotalObjectScaling();return o.scaleX!==this._lastScaleX||o.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(o,h){this.setElement(s.util.getById(o),h),s.util.addClass(this.getElement(),s.Image.CSS_CANVAS)},_initConfig:function(o){o||(o={}),this.setOptions(o),this._setWidthHeight(o)},_initFilters:function(o,h){o&&o.length?s.util.enlivenObjects(o,function(r){h&&h(r)},"fabric.Image.filters"):h&&h()},_setWidthHeight:function(o){o||(o={});var h=this.getElement();this.width=o.width||h.naturalWidth||h.width||0,this.height=o.height||h.naturalHeight||h.height||0},parsePreserveAspectRatioAttribute:function(){var o=s.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),h=this._element.width,r=this._element.height,a=1,n=1,l=0,d=0,c=0,g=0,_,C=this.width,O=this.height,k={width:C,height:O};return o&&(o.alignX!=="none"||o.alignY!=="none")?(o.meetOrSlice==="meet"&&(a=n=s.util.findScaleToFit(this._element,k),_=(C-h*a)/2,o.alignX==="Min"&&(l=-_),o.alignX==="Max"&&(l=_),_=(O-r*n)/2,o.alignY==="Min"&&(d=-_),o.alignY==="Max"&&(d=_)),o.meetOrSlice==="slice"&&(a=n=s.util.findScaleToCover(this._element,k),_=h-C/a,o.alignX==="Mid"&&(c=_/2),o.alignX==="Max"&&(c=_),_=r-O/n,o.alignY==="Mid"&&(g=_/2),o.alignY==="Max"&&(g=_),h=C/a,r=O/n)):(a=C/h,n=O/r),{width:h,height:r,scaleX:a,scaleY:n,offsetLeft:l,offsetTop:d,cropX:c,cropY:g}}}),s.Image.CSS_CANVAS="canvas-img",s.Image.prototype.getSvgSrc=s.Image.prototype.getSrc,s.Image.fromObject=function(o,h){var r=s.util.object.clone(o);s.util.loadImage(r.src,function(a,n){if(n){h&&h(null,!0);return}s.Image.prototype._initFilters.call(r,r.filters,function(l){r.filters=l||[],s.Image.prototype._initFilters.call(r,[r.resizeFilter],function(d){r.resizeFilter=d[0],s.util.enlivenObjects([r.clipPath],function(c){r.clipPath=c[0];var g=new s.Image(a,r);h(g,!1)})})})},null,r.crossOrigin)},s.Image.fromURL=function(o,h,r){s.util.loadImage(o,function(a,n){h&&h(new s.Image(a,r),n)},null,r&&r.crossOrigin)},s.Image.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),s.Image.fromElement=function(o,h,r){var a=s.parseAttributes(o,s.Image.ATTRIBUTE_NAMES);s.Image.fromURL(a["xlink:href"],h,i(r?s.util.object.clone(r):{},a))}}(m),s.util.object.extend(s.Object.prototype,{_getAngleValueForStraighten:function(){var u=this.angle%360;return u>0?Math.round((u-1)/90)*90:Math.round(u/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(u){u=u||{};var i=function(){},o=u.onComplete||i,h=u.onChange||i,r=this;return s.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(a){r.rotate(a),h()},onComplete:function(){r.setCoords(),o()}}),this}}),s.util.object.extend(s.StaticCanvas.prototype,{straightenObject:function(u){return u.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(u){return u.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){function u(o,h){var r="precision "+h+` float;
void main(){}`,a=o.createShader(o.FRAGMENT_SHADER);return o.shaderSource(a,r),o.compileShader(a),!!o.getShaderParameter(a,o.COMPILE_STATUS)}s.isWebglSupported=function(o){if(s.isLikelyNode)return!1;o=o||s.WebglFilterBackend.prototype.tileSize;var h=document.createElement("canvas"),r=h.getContext("webgl")||h.getContext("experimental-webgl"),a=!1;if(r){s.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),a=s.maxTextureSize>=o;for(var n=["highp","mediump","lowp"],l=0;l<3;l++)if(u(r,n[l])){s.webGlPrecision=n[l];break}}return this.isSupported=a,a},s.WebglFilterBackend=i;function i(o){o&&o.tileSize&&(this.tileSize=o.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(o,h){this.dispose(),this.createWebGLCanvas(o,h),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(o,h)},chooseFastestCopyGLTo2DMethod:function(o,h){var r=typeof window.performance<"u",a;try{new ImageData(1,1),a=!0}catch{a=!1}var n=typeof ArrayBuffer<"u",l=typeof Uint8ClampedArray<"u";if(r&&a&&n&&l){var d=s.util.createCanvasElement(),c=new ArrayBuffer(o*h*4);if(s.forceGLPutImageData){this.imageBuffer=c,this.copyGLTo2D=S;return}var g={imageBuffer:c,destinationWidth:o,destinationHeight:h,targetCanvas:d},_,C,O;d.width=o,d.height=h,_=window.performance.now(),b.call(g,this.gl,g),C=window.performance.now()-_,_=window.performance.now(),S.call(g,this.gl,g),O=window.performance.now()-_,C>O?(this.imageBuffer=c,this.copyGLTo2D=S):this.copyGLTo2D=b}},createWebGLCanvas:function(o,h){var r=s.util.createCanvasElement();r.width=o,r.height=h;var a={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},n=r.getContext("webgl",a);n||(n=r.getContext("experimental-webgl",a)),n&&(n.clearColor(0,0,0,0),this.canvas=r,this.gl=n)},applyFilters:function(o,h,r,a,n,l){var d=this.gl,c;l&&(c=this.getCachedTexture(l,h));var g={originalWidth:h.width||h.originalWidth,originalHeight:h.height||h.originalHeight,sourceWidth:r,sourceHeight:a,destinationWidth:r,destinationHeight:a,context:d,sourceTexture:this.createTexture(d,r,a,!c&&h),targetTexture:this.createTexture(d,r,a),originalTexture:c||this.createTexture(d,r,a,!c&&h),passes:o.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:n},_=d.createFramebuffer();return d.bindFramebuffer(d.FRAMEBUFFER,_),o.forEach(function(C){C&&C.applyTo(g)}),w(g),this.copyGLTo2D(d,g),d.bindTexture(d.TEXTURE_2D,null),d.deleteTexture(g.sourceTexture),d.deleteTexture(g.targetTexture),d.deleteFramebuffer(_),n.getContext("2d").setTransform(1,0,0,1,0,0),g},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(o,h,r,a){var n=o.createTexture();return o.bindTexture(o.TEXTURE_2D,n),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),a?o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,a):o.texImage2D(o.TEXTURE_2D,0,o.RGBA,h,r,0,o.RGBA,o.UNSIGNED_BYTE,null),n},getCachedTexture:function(o,h){if(this.textureCache[o])return this.textureCache[o];var r=this.createTexture(this.gl,h.width,h.height,h);return this.textureCache[o]=r,r},evictCachesForKey:function(o){this.textureCache[o]&&(this.gl.deleteTexture(this.textureCache[o]),delete this.textureCache[o])},copyGLTo2D:b,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var o=this.gl,h={renderer:"",vendor:""};if(!o)return h;var r=o.getExtension("WEBGL_debug_renderer_info");if(r){var a=o.getParameter(r.UNMASKED_RENDERER_WEBGL),n=o.getParameter(r.UNMASKED_VENDOR_WEBGL);a&&(h.renderer=a.toLowerCase()),n&&(h.vendor=n.toLowerCase())}return this.gpuInfo=h,h}}}();function w(u){var i=u.targetCanvas,o=i.width,h=i.height,r=u.destinationWidth,a=u.destinationHeight;(o!==r||h!==a)&&(i.width=r,i.height=a)}function b(u,i){var o=u.canvas,h=i.targetCanvas,r=h.getContext("2d");r.translate(0,h.height),r.scale(1,-1);var a=o.height-h.height;r.drawImage(o,0,a,h.width,h.height,0,0,h.width,h.height)}function S(u,i){var o=i.targetCanvas,h=o.getContext("2d"),r=i.destinationWidth,a=i.destinationHeight,n=r*a*4,l=new Uint8Array(this.imageBuffer,0,n),d=new Uint8ClampedArray(this.imageBuffer,0,n);u.readPixels(0,0,r,a,u.RGBA,u.UNSIGNED_BYTE,l);var c=new ImageData(d,r,a);h.putImageData(c,0,0)}(function(){var u=function(){};s.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:u,dispose:u,clearWebGLCaches:u,resources:{},applyFilters:function(o,h,r,a,n){var l=n.getContext("2d");l.drawImage(h,0,0,r,a);var d=l.getImageData(0,0,r,a),c=l.getImageData(0,0,r,a),g={sourceWidth:r,sourceHeight:a,imageData:d,originalEl:h,originalImageData:c,canvasEl:n,ctx:l,filterBackend:this};return o.forEach(function(_){_.applyTo(g)}),(g.imageData.width!==r||g.imageData.height!==a)&&(n.width=g.imageData.width,n.height=g.imageData.height),l.putImageData(g.imageData,0,0),g}}})(),s.Image=s.Image||{},s.Image.filters=s.Image.filters||{},s.Image.filters.BaseFilter=s.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(u){u&&this.setOptions(u)},setOptions:function(u){for(var i in u)this[i]=u[i]},createProgram:function(u,i,o){i=i||this.fragmentSource,o=o||this.vertexSource,s.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+s.webGlPrecision+" float"));var h=u.createShader(u.VERTEX_SHADER);if(u.shaderSource(h,o),u.compileShader(h),!u.getShaderParameter(h,u.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+u.getShaderInfoLog(h));var r=u.createShader(u.FRAGMENT_SHADER);if(u.shaderSource(r,i),u.compileShader(r),!u.getShaderParameter(r,u.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+u.getShaderInfoLog(r));var a=u.createProgram();if(u.attachShader(a,h),u.attachShader(a,r),u.linkProgram(a),!u.getProgramParameter(a,u.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+u.getProgramInfoLog(a));var n=this.getAttributeLocations(u,a),l=this.getUniformLocations(u,a)||{};return l.uStepW=u.getUniformLocation(a,"uStepW"),l.uStepH=u.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:n,uniformLocations:l}},getAttributeLocations:function(u,i){return{aPosition:u.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(u,i,o){var h=i.aPosition,r=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,r),u.enableVertexAttribArray(h),u.vertexAttribPointer(h,2,u.FLOAT,!1,0,0),u.bufferData(u.ARRAY_BUFFER,o,u.STATIC_DRAW)},_setupFrameBuffer:function(u){var i=u.context,o,h;u.passes>1?(o=u.destinationWidth,h=u.destinationHeight,(u.sourceWidth!==o||u.sourceHeight!==h)&&(i.deleteTexture(u.targetTexture),u.targetTexture=u.filterBackend.createTexture(i,o,h)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,u.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(u){u.passes--,u.pass++;var i=u.targetTexture;u.targetTexture=u.sourceTexture,u.sourceTexture=i},isNeutralState:function(){var u=this.mainParameter,i=s.Image.filters[this.type].prototype;if(u)if(Array.isArray(i[u])){for(var o=i[u].length;o--;)if(this[u][o]!==i[u][o])return!1;return!0}else return i[u]===this[u];else return!1},applyTo:function(u){u.webgl?(this._setupFrameBuffer(u),this.applyToWebGL(u),this._swapTextures(u)):this.applyTo2d(u)},retrieveShader:function(u){return u.programCache.hasOwnProperty(this.type)||(u.programCache[this.type]=this.createProgram(u.context)),u.programCache[this.type]},applyToWebGL:function(u){var i=u.context,o=this.retrieveShader(u);u.pass===0&&u.originalTexture?i.bindTexture(i.TEXTURE_2D,u.originalTexture):i.bindTexture(i.TEXTURE_2D,u.sourceTexture),i.useProgram(o.program),this.sendAttributeData(i,o.attributeLocations,u.aPosition),i.uniform1f(o.uniformLocations.uStepW,1/u.sourceWidth),i.uniform1f(o.uniformLocations.uStepH,1/u.sourceHeight),this.sendUniformData(i,o.uniformLocations),i.viewport(0,0,u.destinationWidth,u.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(u,i,o){u.activeTexture(o),u.bindTexture(u.TEXTURE_2D,i),u.activeTexture(u.TEXTURE0)},unbindAdditionalTexture:function(u,i){u.activeTexture(i),u.bindTexture(u.TEXTURE_2D,null),u.activeTexture(u.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(u){this[this.mainParameter]=u},sendUniformData:function(){},createHelpLayer:function(u){if(!u.helpLayer){var i=document.createElement("canvas");i.width=u.sourceWidth,i.height=u.sourceHeight,u.helpLayer=i}},toObject:function(){var u={type:this.type},i=this.mainParameter;return i&&(u[i]=this[i]),u},toJSON:function(){return this.toObject()}}),s.Image.filters.BaseFilter.fromObject=function(u,i){var o=new s.Image.filters[u.type](u);return i&&i(o),o},function(u){var i=u.fabric||(u.fabric={}),o=i.Image.filters,h=i.util.createClass;o.ColorMatrix=h(o.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(r){this.callSuper("initialize",r),this.matrix=this.matrix.slice(0)},applyTo2d:function(r){var a=r.imageData,n=a.data,l=n.length,d=this.matrix,c,g,_,C,O,k=this.colorsOnly;for(O=0;O<l;O+=4)c=n[O],g=n[O+1],_=n[O+2],k?(n[O]=c*d[0]+g*d[1]+_*d[2]+d[4]*255,n[O+1]=c*d[5]+g*d[6]+_*d[7]+d[9]*255,n[O+2]=c*d[10]+g*d[11]+_*d[12]+d[14]*255):(C=n[O+3],n[O]=c*d[0]+g*d[1]+_*d[2]+C*d[3]+d[4]*255,n[O+1]=c*d[5]+g*d[6]+_*d[7]+C*d[8]+d[9]*255,n[O+2]=c*d[10]+g*d[11]+_*d[12]+C*d[13]+d[14]*255,n[O+3]=c*d[15]+g*d[16]+_*d[17]+C*d[18]+d[19]*255)},getUniformLocations:function(r,a){return{uColorMatrix:r.getUniformLocation(a,"uColorMatrix"),uConstants:r.getUniformLocation(a,"uConstants")}},sendUniformData:function(r,a){var n=this.matrix,l=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],d=[n[4],n[9],n[14],n[19]];r.uniformMatrix4fv(a.uColorMatrix,!1,l),r.uniform4fv(a.uConstants,d)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.Image.filters,h=i.util.createClass;o.Brightness=h(o.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(r){if(this.brightness!==0){var a=r.imageData,n=a.data,l,d=n.length,c=Math.round(this.brightness*255);for(l=0;l<d;l+=4)n[l]=n[l]+c,n[l+1]=n[l+1]+c,n[l+2]=n[l+2]+c}},getUniformLocations:function(r,a){return{uBrightness:r.getUniformLocation(a,"uBrightness")}},sendUniformData:function(r,a){r.uniform1f(a.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.util.object.extend,h=i.Image.filters,r=i.util.createClass;h.Convolute=r(h.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(a){var n=Math.sqrt(this.matrix.length),l=this.type+"_"+n+"_"+(this.opaque?1:0),d=this.fragmentSource[l];return a.programCache.hasOwnProperty(l)||(a.programCache[l]=this.createProgram(a.context,d)),a.programCache[l]},applyTo2d:function(a){var n=a.imageData,l=n.data,d=this.matrix,c=Math.round(Math.sqrt(d.length)),g=Math.floor(c/2),_=n.width,C=n.height,O=a.ctx.createImageData(_,C),k=O.data,F=this.opaque?1:0,z,q,Q,gt,G,B,it,M,mt,st,ut,vt,W;for(ut=0;ut<C;ut++)for(st=0;st<_;st++){for(G=(ut*_+st)*4,z=0,q=0,Q=0,gt=0,W=0;W<c;W++)for(vt=0;vt<c;vt++)it=ut+W-g,B=st+vt-g,!(it<0||it>=C||B<0||B>=_)&&(M=(it*_+B)*4,mt=d[W*c+vt],z+=l[M]*mt,q+=l[M+1]*mt,Q+=l[M+2]*mt,F||(gt+=l[M+3]*mt));k[G]=z,k[G+1]=q,k[G+2]=Q,F?k[G+3]=l[G+3]:k[G+3]=gt}a.imageData=O},getUniformLocations:function(a,n){return{uMatrix:a.getUniformLocation(n,"uMatrix"),uOpaque:a.getUniformLocation(n,"uOpaque"),uHalfSize:a.getUniformLocation(n,"uHalfSize"),uSize:a.getUniformLocation(n,"uSize")}},sendUniformData:function(a,n){a.uniform1fv(n.uMatrix,this.matrix)},toObject:function(){return o(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.Image.filters,h=i.util.createClass;o.Grayscale=h(o.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(r){var a=r.imageData,n=a.data,l,d=n.length,c,g=this.mode;for(l=0;l<d;l+=4)g==="average"?c=(n[l]+n[l+1]+n[l+2])/3:g==="lightness"?c=(Math.min(n[l],n[l+1],n[l+2])+Math.max(n[l],n[l+1],n[l+2]))/2:g==="luminosity"&&(c=.21*n[l]+.72*n[l+1]+.07*n[l+2]),n[l]=c,n[l+1]=c,n[l+2]=c},retrieveShader:function(r){var a=this.type+"_"+this.mode;if(!r.programCache.hasOwnProperty(a)){var n=this.fragmentSource[this.mode];r.programCache[a]=this.createProgram(r.context,n)}return r.programCache[a]},getUniformLocations:function(r,a){return{uMode:r.getUniformLocation(a,"uMode")}},sendUniformData:function(r,a){var n=1;r.uniform1i(a.uMode,n)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.Image.filters,h=i.util.createClass;o.Invert=h(o.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(r){var a=r.imageData,n=a.data,l,d=n.length;for(l=0;l<d;l+=4)n[l]=255-n[l],n[l+1]=255-n[l+1],n[l+2]=255-n[l+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(r,a){return{uInvert:r.getUniformLocation(a,"uInvert")}},sendUniformData:function(r,a){r.uniform1i(a.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.util.object.extend,h=i.Image.filters,r=i.util.createClass;h.Noise=r(h.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(a){if(this.noise!==0){var n=a.imageData,l=n.data,d,c=l.length,g=this.noise,_;for(d=0,c=l.length;d<c;d+=4)_=(.5-Math.random())*g,l[d]+=_,l[d+1]+=_,l[d+2]+=_}},getUniformLocations:function(a,n){return{uNoise:a.getUniformLocation(n,"uNoise"),uSeed:a.getUniformLocation(n,"uSeed")}},sendUniformData:function(a,n){a.uniform1f(n.uNoise,this.noise/255),a.uniform1f(n.uSeed,Math.random())},toObject:function(){return o(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.Image.filters,h=i.util.createClass;o.Pixelate=h(o.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(r){var a=r.imageData,n=a.data,l=a.height,d=a.width,c,g,_,C,O,k,F,z,q,Q,gt;for(g=0;g<l;g+=this.blocksize)for(_=0;_<d;_+=this.blocksize)for(c=g*4*d+_*4,C=n[c],O=n[c+1],k=n[c+2],F=n[c+3],Q=Math.min(g+this.blocksize,l),gt=Math.min(_+this.blocksize,d),z=g;z<Q;z++)for(q=_;q<gt;q++)c=z*4*d+q*4,n[c]=C,n[c+1]=O,n[c+2]=k,n[c+3]=F},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(r,a){return{uBlocksize:r.getUniformLocation(a,"uBlocksize"),uStepW:r.getUniformLocation(a,"uStepW"),uStepH:r.getUniformLocation(a,"uStepH")}},sendUniformData:function(r,a){r.uniform1f(a.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.util.object.extend,h=i.Image.filters,r=i.util.createClass;h.RemoveColor=r(h.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(a){var n=a.imageData,l=n.data,d,c=this.distance*255,g,_,C,O=new i.Color(this.color).getSource(),k=[O[0]-c,O[1]-c,O[2]-c],F=[O[0]+c,O[1]+c,O[2]+c];for(d=0;d<l.length;d+=4)g=l[d],_=l[d+1],C=l[d+2],g>k[0]&&_>k[1]&&C>k[2]&&g<F[0]&&_<F[1]&&C<F[2]&&(l[d+3]=0)},getUniformLocations:function(a,n){return{uLow:a.getUniformLocation(n,"uLow"),uHigh:a.getUniformLocation(n,"uHigh")}},sendUniformData:function(a,n){var l=new i.Color(this.color).getSource(),d=parseFloat(this.distance),c=[0+l[0]/255-d,0+l[1]/255-d,0+l[2]/255-d,1],g=[l[0]/255+d,l[1]/255+d,l[2]/255+d,1];a.uniform4fv(n.uLow,c),a.uniform4fv(n.uHigh,g)},toObject:function(){return o(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.Image.filters,h=i.util.createClass,r={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var a in r)o[a]=h(o.ColorMatrix,{type:a,matrix:r[a],mainParameter:!1,colorsOnly:!0}),i.Image.filters[a].fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric,o=i.Image.filters,h=i.util.createClass;o.BlendColor=h(o.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(r){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[r]+`}
}`},retrieveShader:function(r){var a=this.type+"_"+this.mode,n;return r.programCache.hasOwnProperty(a)||(n=this.buildSource(this.mode),r.programCache[a]=this.createProgram(r.context,n)),r.programCache[a]},applyTo2d:function(r){var a=r.imageData,n=a.data,l=n.length,d,c,g,_,C,O,k,F=1-this.alpha;k=new i.Color(this.color).getSource(),d=k[0]*this.alpha,c=k[1]*this.alpha,g=k[2]*this.alpha;for(var z=0;z<l;z+=4)switch(_=n[z],C=n[z+1],O=n[z+2],this.mode){case"multiply":n[z]=_*d/255,n[z+1]=C*c/255,n[z+2]=O*g/255;break;case"screen":n[z]=255-(255-_)*(255-d)/255,n[z+1]=255-(255-C)*(255-c)/255,n[z+2]=255-(255-O)*(255-g)/255;break;case"add":n[z]=_+d,n[z+1]=C+c,n[z+2]=O+g;break;case"diff":case"difference":n[z]=Math.abs(_-d),n[z+1]=Math.abs(C-c),n[z+2]=Math.abs(O-g);break;case"subtract":n[z]=_-d,n[z+1]=C-c,n[z+2]=O-g;break;case"darken":n[z]=Math.min(_,d),n[z+1]=Math.min(C,c),n[z+2]=Math.min(O,g);break;case"lighten":n[z]=Math.max(_,d),n[z+1]=Math.max(C,c),n[z+2]=Math.max(O,g);break;case"overlay":n[z]=d<128?2*_*d/255:255-2*(255-_)*(255-d)/255,n[z+1]=c<128?2*C*c/255:255-2*(255-C)*(255-c)/255,n[z+2]=g<128?2*O*g/255:255-2*(255-O)*(255-g)/255;break;case"exclusion":n[z]=d+_-2*d*_/255,n[z+1]=c+C-2*c*C/255,n[z+2]=g+O-2*g*O/255;break;case"tint":n[z]=d+_*F,n[z+1]=c+C*F,n[z+2]=g+O*F}},getUniformLocations:function(r,a){return{uColor:r.getUniformLocation(a,"uColor")}},sendUniformData:function(r,a){var n=new i.Color(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,r.uniform4fv(a.uColor,n)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric,o=i.Image.filters,h=i.util.createClass;o.BlendImage=h(o.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(r){var a=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return r.programCache.hasOwnProperty(a)||(r.programCache[a]=this.createProgram(r.context,n)),r.programCache[a]},applyToWebGL:function(r){var a=r.context,n=this.createTexture(r.filterBackend,this.image);this.bindAdditionalTexture(a,n,a.TEXTURE1),this.callSuper("applyToWebGL",r),this.unbindAdditionalTexture(a,a.TEXTURE1)},createTexture:function(r,a){return r.getCachedTexture(a.cacheKey,a._element)},calculateMatrix:function(){var r=this.image,a=r._element.width,n=r._element.height;return[1/r.scaleX,0,0,0,1/r.scaleY,0,-r.left/a,-r.top/n,1]},applyTo2d:function(r){var a=r.imageData,n=r.filterBackend.resources,l=a.data,d=l.length,c=a.width,g=a.height,_,C,O,k,F,z,q,Q,gt,G,B=this.image,it;n.blendImage||(n.blendImage=i.util.createCanvasElement()),gt=n.blendImage,G=gt.getContext("2d"),gt.width!==c||gt.height!==g?(gt.width=c,gt.height=g):G.clearRect(0,0,c,g),G.setTransform(B.scaleX,0,0,B.scaleY,B.left,B.top),G.drawImage(B._element,0,0,c,g),it=G.getImageData(0,0,c,g).data;for(var M=0;M<d;M+=4)switch(F=l[M],z=l[M+1],q=l[M+2],Q=l[M+3],_=it[M],C=it[M+1],O=it[M+2],k=it[M+3],this.mode){case"multiply":l[M]=F*_/255,l[M+1]=z*C/255,l[M+2]=q*O/255,l[M+3]=Q*k/255;break;case"mask":l[M+3]=k;break}},getUniformLocations:function(r,a){return{uTransformMatrix:r.getUniformLocation(a,"uTransformMatrix"),uImage:r.getUniformLocation(a,"uImage")}},sendUniformData:function(r,a){var n=this.calculateMatrix();r.uniform1i(a.uImage,1),r.uniformMatrix3fv(a.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(r,a){i.Image.fromObject(r.image,function(n){var l=i.util.object.clone(r);l.image=n,a(new i.Image.filters.BlendImage(l))})}}(m),function(u){var i=u.fabric||(u.fabric={}),o=Math.pow,h=Math.floor,r=Math.sqrt,a=Math.abs,n=Math.round,l=Math.sin,d=Math.ceil,c=i.Image.filters,g=i.util.createClass;c.Resize=g(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(_,C){return{uDelta:_.getUniformLocation(C,"uDelta"),uTaps:_.getUniformLocation(C,"uTaps")}},sendUniformData:function(_,C){_.uniform2fv(C.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),_.uniform1fv(C.uTaps,this.taps)},retrieveShader:function(_){var C=this.getFilterWindow(),O=this.type+"_"+C;if(!_.programCache.hasOwnProperty(O)){var k=this.generateShader(C);_.programCache[O]=this.createProgram(_.context,k)}return _.programCache[O]},getFilterWindow:function(){var _=this.tempScale;return Math.ceil(this.lanczosLobes/_)},getTaps:function(){for(var _=this.lanczosCreate(this.lanczosLobes),C=this.tempScale,O=this.getFilterWindow(),k=new Array(O),F=1;F<=O;F++)k[F-1]=_(F*C);return k},generateShader:function(k){for(var C=new Array(k),O=this.fragmentSourceTOP,k,F=1;F<=k;F++)C[F-1]=F+".0 * uDelta";return O+="uniform float uTaps["+k+`];
`,O+=`void main() {
`,O+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,O+=`  float sum = 1.0;
`,C.forEach(function(z,q){O+="  color += texture2D(uTexture, vTexCoord + "+z+") * uTaps["+q+`];
`,O+="  color += texture2D(uTexture, vTexCoord - "+z+") * uTaps["+q+`];
`,O+="  sum += 2.0 * uTaps["+q+`];
`}),O+=`  gl_FragColor = color / sum;
`,O+="}",O},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(_){_.webgl?(_.passes++,this.width=_.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=_.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),_.destinationWidth=this.dW,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceWidth=_.destinationWidth,this.height=_.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),_.destinationHeight=this.dH,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceHeight=_.destinationHeight):this.applyTo2d(_)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(_){return function(C){if(C>=_||C<=-_)return 0;if(C<11920929e-14&&C>-11920929e-14)return 1;C*=Math.PI;var O=C/_;return l(C)/C*l(O)/O}},applyTo2d:function(_){var C=_.imageData,O=this.scaleX,k=this.scaleY;this.rcpScaleX=1/O,this.rcpScaleY=1/k;var F=C.width,z=C.height,q=n(F*O),Q=n(z*k),gt;this.resizeType==="sliceHack"?gt=this.sliceByTwo(_,F,z,q,Q):this.resizeType==="hermite"?gt=this.hermiteFastResize(_,F,z,q,Q):this.resizeType==="bilinear"?gt=this.bilinearFiltering(_,F,z,q,Q):this.resizeType==="lanczos"&&(gt=this.lanczosResize(_,F,z,q,Q)),_.imageData=gt},sliceByTwo:function(_,C,O,k,F){var z=_.imageData,q=.5,Q=!1,gt=!1,G=C*q,B=O*q,it=i.filterBackend.resources,M,mt,st=0,ut=0,vt=C,W=0;for(it.sliceByTwo||(it.sliceByTwo=document.createElement("canvas")),M=it.sliceByTwo,(M.width<C*1.5||M.height<O)&&(M.width=C*1.5,M.height=O),mt=M.getContext("2d"),mt.clearRect(0,0,C*1.5,O),mt.putImageData(z,0,0),k=h(k),F=h(F);!Q||!gt;)C=G,O=B,k<h(G*q)?G=h(G*q):(G=k,Q=!0),F<h(B*q)?B=h(B*q):(B=F,gt=!0),mt.drawImage(M,st,ut,C,O,vt,W,G,B),st=vt,ut=W,W+=B;return mt.getImageData(st,ut,k,F)},lanczosResize:function(_,C,O,k,F){function z(H){var N,U,R,P,V,J,ht,dt,At,wt,Nt;for(W.x=(H+.5)*B,Y.x=h(W.x),N=0;N<F;N++){for(W.y=(N+.5)*it,Y.y=h(W.y),V=0,J=0,ht=0,dt=0,At=0,U=Y.x-st;U<=Y.x+st;U++)if(!(U<0||U>=C)){wt=h(1e3*a(U-W.x)),vt[wt]||(vt[wt]={});for(var xt=Y.y-ut;xt<=Y.y+ut;xt++)xt<0||xt>=O||(Nt=h(1e3*a(xt-W.y)),vt[wt][Nt]||(vt[wt][Nt]=G(r(o(wt*M,2)+o(Nt*mt,2))/1e3)),R=vt[wt][Nt],R>0&&(P=(xt*C+U)*4,V+=R,J+=R*q[P],ht+=R*q[P+1],dt+=R*q[P+2],At+=R*q[P+3]))}P=(N*k+H)*4,gt[P]=J/V,gt[P+1]=ht/V,gt[P+2]=dt/V,gt[P+3]=At/V}return++H<k?z(H):Q}var q=_.imageData.data,Q=_.ctx.createImageData(k,F),gt=Q.data,G=this.lanczosCreate(this.lanczosLobes),B=this.rcpScaleX,it=this.rcpScaleY,M=2/this.rcpScaleX,mt=2/this.rcpScaleY,st=d(B*this.lanczosLobes/2),ut=d(it*this.lanczosLobes/2),vt={},W={},Y={};return z(0)},bilinearFiltering:function(_,C,O,k,F){var z,q,Q,gt,G,B,it,M,mt,st,ut,vt,W=0,Y,H=this.rcpScaleX,N=this.rcpScaleY,U=4*(C-1),R=_.imageData,P=R.data,V=_.ctx.createImageData(k,F),J=V.data;for(it=0;it<F;it++)for(M=0;M<k;M++)for(G=h(H*M),B=h(N*it),mt=H*M-G,st=N*it-B,Y=4*(B*C+G),ut=0;ut<4;ut++)z=P[Y+ut],q=P[Y+4+ut],Q=P[Y+U+ut],gt=P[Y+U+4+ut],vt=z*(1-mt)*(1-st)+q*mt*(1-st)+Q*st*(1-mt)+gt*mt*st,J[W++]=vt;return V},hermiteFastResize:function(_,C,O,k,F){for(var z=this.rcpScaleX,q=this.rcpScaleY,Q=d(z/2),gt=d(q/2),G=_.imageData,B=G.data,it=_.ctx.createImageData(k,F),M=it.data,mt=0;mt<F;mt++)for(var st=0;st<k;st++){for(var ut=(st+mt*k)*4,vt=0,W=0,Y=0,H=0,N=0,U=0,R=0,P=(mt+.5)*q,V=h(mt*q);V<(mt+1)*q;V++)for(var J=a(P-(V+.5))/gt,ht=(st+.5)*z,dt=J*J,At=h(st*z);At<(st+1)*z;At++){var wt=a(ht-(At+.5))/Q,Nt=r(dt+wt*wt);Nt>1&&Nt<-1||(vt=2*Nt*Nt*Nt-3*Nt*Nt+1,vt>0&&(wt=4*(At+V*C),R+=vt*B[wt+3],Y+=vt,B[wt+3]<255&&(vt=vt*B[wt+3]/250),H+=vt*B[wt],N+=vt*B[wt+1],U+=vt*B[wt+2],W+=vt))}M[ut]=H/W,M[ut+1]=N/W,M[ut+2]=U/W,M[ut+3]=R/Y}return it},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.Image.filters,h=i.util.createClass;o.Contrast=h(o.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(r){if(this.contrast!==0){var a=r.imageData,n,d,l=a.data,d=l.length,c=Math.floor(this.contrast*255),g=259*(c+255)/(255*(259-c));for(n=0;n<d;n+=4)l[n]=g*(l[n]-128)+128,l[n+1]=g*(l[n+1]-128)+128,l[n+2]=g*(l[n+2]-128)+128}},getUniformLocations:function(r,a){return{uContrast:r.getUniformLocation(a,"uContrast")}},sendUniformData:function(r,a){r.uniform1f(a.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.Image.filters,h=i.util.createClass;o.Saturation=h(o.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(r){if(this.saturation!==0){var a=r.imageData,n=a.data,l=n.length,d=-this.saturation,c,g;for(c=0;c<l;c+=4)g=Math.max(n[c],n[c+1],n[c+2]),n[c]+=g!==n[c]?(g-n[c])*d:0,n[c+1]+=g!==n[c+1]?(g-n[c+1])*d:0,n[c+2]+=g!==n[c+2]?(g-n[c+2])*d:0}},getUniformLocations:function(r,a){return{uSaturation:r.getUniformLocation(a,"uSaturation")}},sendUniformData:function(r,a){r.uniform1f(a.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.Image.filters,h=i.util.createClass;o.Vibrance=h(o.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(r){if(this.vibrance!==0){var a=r.imageData,n=a.data,l=n.length,d=-this.vibrance,c,g,_,C;for(c=0;c<l;c+=4)g=Math.max(n[c],n[c+1],n[c+2]),_=(n[c]+n[c+1]+n[c+2])/3,C=Math.abs(g-_)*2/255*d,n[c]+=g!==n[c]?(g-n[c])*C:0,n[c+1]+=g!==n[c+1]?(g-n[c+1])*C:0,n[c+2]+=g!==n[c+2]?(g-n[c+2])*C:0}},getUniformLocations:function(r,a){return{uVibrance:r.getUniformLocation(a,"uVibrance")}},sendUniformData:function(r,a){r.uniform1f(a.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.Image.filters,h=i.util.createClass;o.Blur=h(o.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(r){r.webgl?(this.aspectRatio=r.sourceWidth/r.sourceHeight,r.passes++,this._setupFrameBuffer(r),this.horizontal=!0,this.applyToWebGL(r),this._swapTextures(r),this._setupFrameBuffer(r),this.horizontal=!1,this.applyToWebGL(r),this._swapTextures(r)):this.applyTo2d(r)},applyTo2d:function(r){r.imageData=this.simpleBlur(r)},simpleBlur:function(r){var a=r.filterBackend.resources,n,l,d=r.imageData.width,c=r.imageData.height;a.blurLayer1||(a.blurLayer1=i.util.createCanvasElement(),a.blurLayer2=i.util.createCanvasElement()),n=a.blurLayer1,l=a.blurLayer2,(n.width!==d||n.height!==c)&&(l.width=n.width=d,l.height=n.height=c);var g=n.getContext("2d"),_=l.getContext("2d"),C=15,O,k,F,z,q=this.blur*.06*.5;for(g.putImageData(r.imageData,0,0),_.clearRect(0,0,d,c),z=-15;z<=C;z++)O=(Math.random()-.5)/4,k=z/C,F=q*k*d+O,_.globalAlpha=1-Math.abs(k),_.drawImage(n,F,O),g.drawImage(l,0,0),_.globalAlpha=1,_.clearRect(0,0,l.width,l.height);for(z=-15;z<=C;z++)O=(Math.random()-.5)/4,k=z/C,F=q*k*c+O,_.globalAlpha=1-Math.abs(k),_.drawImage(n,O,F),g.drawImage(l,0,0),_.globalAlpha=1,_.clearRect(0,0,l.width,l.height);r.ctx.drawImage(n,0,0);var Q=r.ctx.getImageData(0,0,n.width,n.height);return g.globalAlpha=1,g.clearRect(0,0,n.width,n.height),Q},getUniformLocations:function(r,a){return{delta:r.getUniformLocation(a,"uDelta")}},sendUniformData:function(r,a){var n=this.chooseRightDelta();r.uniform2fv(a.delta,n)},chooseRightDelta:function(){var r=1,a=[0,0],n;return this.horizontal?this.aspectRatio>1&&(r=1/this.aspectRatio):this.aspectRatio<1&&(r=this.aspectRatio),n=r*this.blur*.12,this.horizontal?a[0]=n:a[1]=n,a}}),o.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.Image.filters,h=i.util.createClass;o.Gamma=h(o.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(r){this.gamma=[1,1,1],o.BaseFilter.prototype.initialize.call(this,r)},applyTo2d:function(r){var a=r.imageData,n=a.data,l=this.gamma,d=n.length,c=1/l[0],g=1/l[1],_=1/l[2],C;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),C=0,d=256;C<d;C++)this.rVals[C]=Math.pow(C/255,c)*255,this.gVals[C]=Math.pow(C/255,g)*255,this.bVals[C]=Math.pow(C/255,_)*255;for(C=0,d=n.length;C<d;C+=4)n[C]=this.rVals[n[C]],n[C+1]=this.gVals[n[C+1]],n[C+2]=this.bVals[n[C+2]]},getUniformLocations:function(r,a){return{uGamma:r.getUniformLocation(a,"uGamma")}},sendUniformData:function(r,a){r.uniform3fv(a.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.Image.filters,h=i.util.createClass;o.Composed=h(o.BaseFilter,{type:"Composed",subFilters:[],initialize:function(r){this.callSuper("initialize",r),this.subFilters=this.subFilters.slice(0)},applyTo:function(r){r.passes+=this.subFilters.length-1,this.subFilters.forEach(function(a){a.applyTo(r)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(r){return r.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(r){return!r.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(r,a){var n=r.subFilters||[],l=n.map(function(c){return new i.Image.filters[c.type](c)}),d=new i.Image.filters.Composed({subFilters:l});return a&&a(d),d}}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.Image.filters,h=i.util.createClass;o.HueRotation=h(o.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var r=this.rotation*Math.PI,a=i.util.cos(r),n=i.util.sin(r),l=1/3,d=Math.sqrt(l)*n,c=1-a;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=a+c/3,this.matrix[1]=l*c-d,this.matrix[2]=l*c+d,this.matrix[5]=l*c+d,this.matrix[6]=a+l*c,this.matrix[7]=l*c-d,this.matrix[10]=l*c-d,this.matrix[11]=l*c+d,this.matrix[12]=a+l*c},isNeutralState:function(r){return this.calculateMatrix(),o.BaseFilter.prototype.isNeutralState.call(this,r)},applyTo:function(r){this.calculateMatrix(),o.BaseFilter.prototype.applyTo.call(this,r)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(m),function(u){var i=u.fabric||(u.fabric={}),o=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var h="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(h),cacheProperties:i.Object.prototype.cacheProperties.concat(h),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(r,a){this.styles=a?a.styles||{}:{},this.text=r,this.__skipDimension=!0,this.callSuper("initialize",a),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var r=this.path;r&&(r.segmentsInfo=i.util.getPathSegmentsInfo(r.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var r=this._splitTextIntoLines(this.text);return this.textLines=r.lines,this._textLines=r.graphemeLines,this._unwrappedTextLines=r._unwrappedLines,this._text=r.graphemeText,r},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var r,a,n,l,d,c,g,_=0,C=this._textLines.length;_<C;_++)if(!(this.textAlign!=="justify"&&(_===C-1||this.isEndOfWrapping(_)))&&(l=0,d=this._textLines[_],a=this.getLineWidth(_),a<this.width&&(g=this.textLines[_].match(this._reSpacesAndTabs)))){n=g.length,r=(this.width-a)/n;for(var O=0,k=d.length;O<=k;O++)c=this.__charBounds[_][O],this._reSpaceAndTab.test(d[O])?(c.width+=r,c.kernedWidth+=r,c.left+=l,l+=r):c.left+=l}},isEndOfWrapping:function(r){return r===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var r=this.callSuper("_getCacheCanvasDimensions"),a=this.fontSize;return r.width+=a*r.zoomX,r.height+=a*r.zoomY,r},_render:function(r){var a=this.path;a&&!a.isNotVisible()&&a._render(r),this._setTextStyles(r),this._renderTextLinesBackground(r),this._renderTextDecoration(r,"underline"),this._renderText(r),this._renderTextDecoration(r,"overline"),this._renderTextDecoration(r,"linethrough")},_renderText:function(r){this.paintFirst==="stroke"?(this._renderTextStroke(r),this._renderTextFill(r)):(this._renderTextFill(r),this._renderTextStroke(r))},_setTextStyles:function(r,a,n){r.textBaseline="alphabetic",r.font=this._getFontDeclaration(a,n)},calcTextWidth:function(){for(var r=this.getLineWidth(0),a=1,n=this._textLines.length;a<n;a++){var l=this.getLineWidth(a);l>r&&(r=l)}return r},_renderTextLine:function(r,a,n,l,d,c){this._renderChars(r,a,n,l,d,c)},_renderTextLinesBackground:function(r){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var a,n,l=r.fillStyle,d,c,g=this._getLeftOffset(),_=this._getTopOffset(),C=0,O=0,k,F,z=this.path,q,Q=0,gt=this._textLines.length;Q<gt;Q++){if(a=this.getHeightOfLine(Q),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Q)){_+=a;continue}d=this._textLines[Q],n=this._getLineLeftOffset(Q),O=0,C=0,c=this.getValueOfPropertyAt(Q,0,"textBackgroundColor");for(var G=0,B=d.length;G<B;G++)k=this.__charBounds[Q][G],F=this.getValueOfPropertyAt(Q,G,"textBackgroundColor"),z?(r.save(),r.translate(k.renderLeft,k.renderTop),r.rotate(k.angle),r.fillStyle=F,F&&r.fillRect(-k.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),k.width,a/this.lineHeight),r.restore()):F!==c?(q=g+n+C,this.direction==="rtl"&&(q=this.width-q-O),r.fillStyle=c,c&&r.fillRect(q,_,O,a/this.lineHeight),C=k.left,O=k.width,c=F):O+=k.kernedWidth;F&&!z&&(q=g+n+C,this.direction==="rtl"&&(q=this.width-q-O),r.fillStyle=F,r.fillRect(q,_,O,a/this.lineHeight)),_+=a}r.fillStyle=l,this._removeShadow(r)}},getFontCache:function(r){var a=r.fontFamily.toLowerCase();i.charWidthsCache[a]||(i.charWidthsCache[a]={});var n=i.charWidthsCache[a],l=r.fontStyle.toLowerCase()+"_"+(r.fontWeight+"").toLowerCase();return n[l]||(n[l]={}),n[l]},_measureChar:function(r,a,n,l){var d=this.getFontCache(a),c=this._getFontDeclaration(a),g=this._getFontDeclaration(l),_=n+r,C=c===g,O,k,F,z=a.fontSize/this.CACHE_FONT_SIZE,q;if(n&&d[n]!==void 0&&(F=d[n]),d[r]!==void 0&&(q=O=d[r]),C&&d[_]!==void 0&&(k=d[_],q=k-F),O===void 0||F===void 0||k===void 0){var Q=this.getMeasuringContext();this._setTextStyles(Q,a,!0)}return O===void 0&&(q=O=Q.measureText(r).width,d[r]=O),F===void 0&&C&&n&&(F=Q.measureText(n).width,d[n]=F),C&&k===void 0&&(k=Q.measureText(_).width,d[_]=k,q=k-F),{width:O*z,kernedWidth:q*z}},getHeightOfChar:function(r,a){return this.getValueOfPropertyAt(r,a,"fontSize")},measureLine:function(r){var a=this._measureLine(r);return this.charSpacing!==0&&(a.width-=this._getWidthOfCharSpacing()),a.width<0&&(a.width=0),a},_measureLine:function(r){var a=0,n,l,d=this._textLines[r],c,g,_=0,C=new Array(d.length),O=0,k,F,z=this.path,q=this.pathSide==="right";for(this.__charBounds[r]=C,n=0;n<d.length;n++)l=d[n],g=this._getGraphemeBox(l,r,n,c),C[n]=g,a+=g.kernedWidth,c=l;if(C[n]={left:g?g.left+g.width:0,width:0,kernedWidth:0,height:this.fontSize},z){switch(F=z.segmentsInfo[z.segmentsInfo.length-1].length,k=i.util.getPointOnPath(z.path,0,z.segmentsInfo),k.x+=z.pathOffset.x,k.y+=z.pathOffset.y,this.textAlign){case"left":O=q?F-a:0;break;case"center":O=(F-a)/2;break;case"right":O=q?0:F-a;break}for(O+=this.pathStartOffset*(q?-1:1),n=q?d.length-1:0;q?n>=0:n<d.length;q?n--:n++)g=C[n],O>F?O%=F:O<0&&(O+=F),this._setGraphemeOnPath(O,g,k),O+=g.kernedWidth}return{width:a,numOfSpaces:_}},_setGraphemeOnPath:function(r,a,n){var l=r+a.kernedWidth/2,d=this.path,c=i.util.getPointOnPath(d.path,l,d.segmentsInfo);a.renderLeft=c.x-n.x,a.renderTop=c.y-n.y,a.angle=c.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(r,a,n,l,d){var c=this.getCompleteStyleDeclaration(a,n),g=l?this.getCompleteStyleDeclaration(a,n-1):{},_=this._measureChar(r,c,l,g),C=_.kernedWidth,O=_.width,k;this.charSpacing!==0&&(k=this._getWidthOfCharSpacing(),O+=k,C+=k);var F={width:O,left:0,height:c.fontSize,kernedWidth:C,deltaY:c.deltaY};if(n>0&&!d){var z=this.__charBounds[a][n-1];F.left=z.left+z.width+_.kernedWidth-_.width}return F},getHeightOfLine:function(r){if(this.__lineHeights[r])return this.__lineHeights[r];for(var a=this._textLines[r],n=this.getHeightOfChar(r,0),l=1,d=a.length;l<d;l++)n=Math.max(this.getHeightOfChar(r,l),n);return this.__lineHeights[r]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var r,a=0,n=0,l=this._textLines.length;n<l;n++)r=this.getHeightOfLine(n),a+=n===l-1?r/this.lineHeight:r;return a},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(r,a){r.save();for(var n=0,l=this._getLeftOffset(),d=this._getTopOffset(),c=0,g=this._textLines.length;c<g;c++){var _=this.getHeightOfLine(c),C=_/this.lineHeight,O=this._getLineLeftOffset(c);this._renderTextLine(a,r,this._textLines[c],l+O,d+n+C,c),n+=_}r.restore()},_renderTextFill:function(r){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(r,"fillText")},_renderTextStroke:function(r){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(r),r.save(),this._setLineDash(r,this.strokeDashArray),r.beginPath(),this._renderTextCommon(r,"strokeText"),r.closePath(),r.restore())},_renderChars:function(r,a,n,l,d,c){var g=this.getHeightOfLine(c),_=this.textAlign.indexOf("justify")!==-1,C,O,k="",F,z=0,q,Q=this.path,gt=!_&&this.charSpacing===0&&this.isEmptyStyles(c)&&!Q,G=this.direction==="ltr",B=this.direction==="ltr"?1:-1,it;if(a.save(),d-=g*this._fontSizeFraction/this.lineHeight,gt){a.canvas.setAttribute("dir",G?"ltr":"rtl"),a.direction=G?"ltr":"rtl",a.textAlign=G?"left":"right",this._renderChar(r,a,c,0,n.join(""),l,d,g),a.restore();return}for(var M=0,mt=n.length-1;M<=mt;M++)q=M===mt||this.charSpacing||Q,k+=n[M],F=this.__charBounds[c][M],z===0?(l+=B*(F.kernedWidth-F.width),z+=F.width):z+=F.kernedWidth,_&&!q&&this._reSpaceAndTab.test(n[M])&&(q=!0),q||(C=C||this.getCompleteStyleDeclaration(c,M),O=this.getCompleteStyleDeclaration(c,M+1),q=this._hasStyleChanged(C,O)),q&&(Q?(a.save(),a.translate(F.renderLeft,F.renderTop),a.rotate(F.angle),this._renderChar(r,a,c,M,k,-z/2,0,g),a.restore()):(it=l,a.canvas.setAttribute("dir",G?"ltr":"rtl"),a.direction=G?"ltr":"rtl",a.textAlign=G?"left":"right",this._renderChar(r,a,c,M,k,it,d,g)),k="",C=O,l+=B*z,z=0);a.restore()},_applyPatternGradientTransformText:function(r){var a=i.util.createCanvasElement(),n,l=this.width+this.strokeWidth,d=this.height+this.strokeWidth;return a.width=l,a.height=d,n=a.getContext("2d"),n.beginPath(),n.moveTo(0,0),n.lineTo(l,0),n.lineTo(l,d),n.lineTo(0,d),n.closePath(),n.translate(l/2,d/2),n.fillStyle=r.toLive(n),this._applyPatternGradientTransform(n,r),n.fill(),n.createPattern(a,"no-repeat")},handleFiller:function(r,a,n){var l,d;return n.toLive?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(l=-this.width/2,d=-this.height/2,r.translate(l,d),r[a]=this._applyPatternGradientTransformText(n),{offsetX:l,offsetY:d}):(r[a]=n.toLive(r,this),this._applyPatternGradientTransform(r,n)):(r[a]=n,{offsetX:0,offsetY:0})},_setStrokeStyles:function(r,a){return r.lineWidth=a.strokeWidth,r.lineCap=this.strokeLineCap,r.lineDashOffset=this.strokeDashOffset,r.lineJoin=this.strokeLineJoin,r.miterLimit=this.strokeMiterLimit,this.handleFiller(r,"strokeStyle",a.stroke)},_setFillStyles:function(r,a){return this.handleFiller(r,"fillStyle",a.fill)},_renderChar:function(r,a,n,l,d,c,g){var _=this._getStyleDeclaration(n,l),C=this.getCompleteStyleDeclaration(n,l),O=r==="fillText"&&C.fill,k=r==="strokeText"&&C.stroke&&C.strokeWidth,F,z;!k&&!O||(a.save(),O&&(F=this._setFillStyles(a,C)),k&&(z=this._setStrokeStyles(a,C)),a.font=this._getFontDeclaration(C),_&&_.textBackgroundColor&&this._removeShadow(a),_&&_.deltaY&&(g+=_.deltaY),O&&a.fillText(d,c-F.offsetX,g-F.offsetY),k&&a.strokeText(d,c-z.offsetX,g-z.offsetY),a.restore())},setSuperscript:function(r,a){return this._setScript(r,a,this.superscript)},setSubscript:function(r,a){return this._setScript(r,a,this.subscript)},_setScript:function(r,a,n){var l=this.get2DCursorLocation(r,!0),d=this.getValueOfPropertyAt(l.lineIndex,l.charIndex,"fontSize"),c=this.getValueOfPropertyAt(l.lineIndex,l.charIndex,"deltaY"),g={fontSize:d*n.size,deltaY:c+d*n.baseline};return this.setSelectionStyles(g,r,a),this},_hasStyleChanged:function(r,a){return r.fill!==a.fill||r.stroke!==a.stroke||r.strokeWidth!==a.strokeWidth||r.fontSize!==a.fontSize||r.fontFamily!==a.fontFamily||r.fontWeight!==a.fontWeight||r.fontStyle!==a.fontStyle||r.deltaY!==a.deltaY},_hasStyleChangedForSvg:function(r,a){return this._hasStyleChanged(r,a)||r.overline!==a.overline||r.underline!==a.underline||r.linethrough!==a.linethrough},_getLineLeftOffset:function(r){var a=this.getLineWidth(r),n=this.width-a,l=this.textAlign,d=this.direction,g,c=0,g=this.isEndOfWrapping(r);return l==="justify"||l==="justify-center"&&!g||l==="justify-right"&&!g||l==="justify-left"&&!g?0:(l==="center"&&(c=n/2),l==="right"&&(c=n),l==="justify-center"&&(c=n/2),l==="justify-right"&&(c=n),d==="rtl"&&(c-=n),c)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var r=this._forceClearCache;return r||(r=this.hasStateChanged("_dimensionAffectingProps")),r&&(this.dirty=!0,this._forceClearCache=!1),r},getLineWidth:function(r){if(this.__lineWidths[r])return this.__lineWidths[r];var a,n=this._textLines[r],l;return n===""?a=0:(l=this.measureLine(r),a=l.width),this.__lineWidths[r]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(r,a,n){var l=this._getStyleDeclaration(r,a);return l&&typeof l[n]<"u"?l[n]:this[n]},_renderTextDecoration:function(r,a){if(!(!this[a]&&!this.styleHas(a))){for(var n,l,d,c,g,_,C,O,k=this._getLeftOffset(),F=this._getTopOffset(),z,q,Q,gt,G,B,it,M,mt=this.path,st=this._getWidthOfCharSpacing(),ut=this.offsets[a],vt=0,W=this._textLines.length;vt<W;vt++){if(n=this.getHeightOfLine(vt),!this[a]&&!this.styleHas(a,vt)){F+=n;continue}C=this._textLines[vt],B=n/this.lineHeight,c=this._getLineLeftOffset(vt),q=0,Q=0,O=this.getValueOfPropertyAt(vt,0,a),M=this.getValueOfPropertyAt(vt,0,"fill"),z=F+B*(1-this._fontSizeFraction),l=this.getHeightOfChar(vt,0),g=this.getValueOfPropertyAt(vt,0,"deltaY");for(var Y=0,H=C.length;Y<H;Y++)if(gt=this.__charBounds[vt][Y],G=this.getValueOfPropertyAt(vt,Y,a),it=this.getValueOfPropertyAt(vt,Y,"fill"),d=this.getHeightOfChar(vt,Y),_=this.getValueOfPropertyAt(vt,Y,"deltaY"),mt&&G&&it)r.save(),r.fillStyle=M,r.translate(gt.renderLeft,gt.renderTop),r.rotate(gt.angle),r.fillRect(-gt.kernedWidth/2,ut*d+_,gt.kernedWidth,this.fontSize/15),r.restore();else if((G!==O||it!==M||d!==l||_!==g)&&Q>0){var N=k+c+q;this.direction==="rtl"&&(N=this.width-N-Q),O&&M&&(r.fillStyle=M,r.fillRect(N,z+ut*l+g,Q,this.fontSize/15)),q=gt.left,Q=gt.width,O=G,M=it,l=d,g=_}else Q+=gt.kernedWidth;var N=k+c+q;this.direction==="rtl"&&(N=this.width-N-Q),r.fillStyle=it,G&&it&&r.fillRect(N,z+ut*l+g,Q-st,this.fontSize/15),F+=n}this._removeShadow(r)}},_getFontDeclaration:function(r,a){var n=r||this,l=this.fontFamily,d=i.Text.genericFonts.indexOf(l.toLowerCase())>-1,c=l===void 0||l.indexOf("'")>-1||l.indexOf(",")>-1||l.indexOf('"')>-1||d?n.fontFamily:'"'+n.fontFamily+'"';return[i.isLikelyNode?n.fontWeight:n.fontStyle,i.isLikelyNode?n.fontStyle:n.fontWeight,a?this.CACHE_FONT_SIZE+"px":n.fontSize+"px",c].join(" ")},render:function(r){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",r)))},_splitTextIntoLines:function(r){for(var a=r.split(this._reNewline),n=new Array(a.length),l=[`
`],d=[],c=0;c<a.length;c++)n[c]=i.util.string.graphemeSplit(a[c]),d=d.concat(n[c],l);return d.pop(),{_unwrappedLines:n,lines:a,graphemeText:d,graphemeLines:n}},toObject:function(r){var a=h.concat(r),n=this.callSuper("toObject",a);return n.styles=o(this.styles,!0),n.path&&(n.path=this.path.toObject()),n},set:function(r,a){this.callSuper("set",r,a);var n=!1,l=!1;if(typeof r=="object")for(var d in r)d==="path"&&this.setPathInfo(),n=n||this._dimensionAffectingProps.indexOf(d)!==-1,l=l||d==="path";else n=this._dimensionAffectingProps.indexOf(r)!==-1,l=r==="path";return l&&this.setPathInfo(),n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(r,a,n){if(!r)return a(null);var l=i.parseAttributes(r,i.Text.ATTRIBUTE_NAMES),d=l.textAnchor||"left";if(n=i.util.object.extend(n?o(n):{},l),n.top=n.top||0,n.left=n.left||0,l.textDecoration){var c=l.textDecoration;c.indexOf("underline")!==-1&&(n.underline=!0),c.indexOf("overline")!==-1&&(n.overline=!0),c.indexOf("line-through")!==-1&&(n.linethrough=!0),delete n.textDecoration}"dx"in l&&(n.left+=l.dx),"dy"in l&&(n.top+=l.dy),"fontSize"in n||(n.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var g="";"textContent"in r?g=r.textContent:"firstChild"in r&&r.firstChild!==null&&"data"in r.firstChild&&r.firstChild.data!==null&&(g=r.firstChild.data),g=g.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var _=n.strokeWidth;n.strokeWidth=0;var C=new i.Text(g,n),O=C.getScaledHeight()/C.height,k=(C.height+C.strokeWidth)*C.lineHeight-C.height,F=k*O,z=C.getScaledHeight()+F,q=0;d==="center"&&(q=C.getScaledWidth()/2),d==="right"&&(q=C.getScaledWidth()),C.set({left:C.left-q,top:C.top-(z-C.fontSize*(.07+C._fontSizeFraction))/C.lineHeight,strokeWidth:typeof _<"u"?_:1}),a(C)},i.Text.fromObject=function(r,a){var n=o(r),l=r.path;return delete n.path,i.Object._fromObject("Text",n,function(d){l?i.Object._fromObject("Path",l,function(c){d.set("path",c),a(d)},"path"):a(d)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(m),function(){s.util.object.extend(s.Text.prototype,{isEmptyStyles:function(u){if(!this.styles||typeof u<"u"&&!this.styles[u])return!0;var i=typeof u>"u"?this.styles:{line:this.styles[u]};for(var o in i)for(var h in i[o])for(var r in i[o][h])return!1;return!0},styleHas:function(u,i){if(!this.styles||!u||u===""||typeof i<"u"&&!this.styles[i])return!1;var o=typeof i>"u"?this.styles:{0:this.styles[i]};for(var h in o)for(var r in o[h])if(typeof o[h][r][u]<"u")return!0;return!1},cleanStyle:function(u){if(!this.styles||!u||u==="")return!1;var i=this.styles,o=0,h,r,a=!0,n=0,l;for(var d in i){h=0;for(var c in i[d]){var l=i[d][c],g=l.hasOwnProperty(u);o++,g?(r?l[u]!==r&&(a=!1):r=l[u],l[u]===this[u]&&delete l[u]):a=!1,Object.keys(l).length!==0?h++:delete i[d][c]}h===0&&delete i[d]}for(var _=0;_<this._textLines.length;_++)n+=this._textLines[_].length;a&&o===n&&(this[u]=r,this.removeStyle(u))},removeStyle:function(u){if(!(!this.styles||!u||u==="")){var i=this.styles,o,h,r;for(h in i){o=i[h];for(r in o)delete o[r][u],Object.keys(o[r]).length===0&&delete o[r];Object.keys(o).length===0&&delete i[h]}}},_extendStyles:function(u,i){var o=this.get2DCursorLocation(u);this._getLineStyle(o.lineIndex)||this._setLineStyle(o.lineIndex),this._getStyleDeclaration(o.lineIndex,o.charIndex)||this._setStyleDeclaration(o.lineIndex,o.charIndex,{}),s.util.object.extend(this._getStyleDeclaration(o.lineIndex,o.charIndex),i)},get2DCursorLocation:function(u,i){typeof u>"u"&&(u=this.selectionStart);for(var o=i?this._unwrappedTextLines:this._textLines,h=o.length,r=0;r<h;r++){if(u<=o[r].length)return{lineIndex:r,charIndex:u};u-=o[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:o[r-1].length<u?o[r-1].length:u}},getSelectionStyles:function(u,i,o){typeof u>"u"&&(u=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||u);for(var h=[],r=u;r<i;r++)h.push(this.getStyleAtPosition(r,o));return h},getStyleAtPosition:function(u,i){var o=this.get2DCursorLocation(u),h=i?this.getCompleteStyleDeclaration(o.lineIndex,o.charIndex):this._getStyleDeclaration(o.lineIndex,o.charIndex);return h||{}},setSelectionStyles:function(u,i,o){typeof i>"u"&&(i=this.selectionStart||0),typeof o>"u"&&(o=this.selectionEnd||i);for(var h=i;h<o;h++)this._extendStyles(h,u);return this._forceClearCache=!0,this},_getStyleDeclaration:function(u,i){var o=this.styles&&this.styles[u];return o?o[i]:null},getCompleteStyleDeclaration:function(u,i){for(var o=this._getStyleDeclaration(u,i)||{},h={},r,a=0;a<this._styleProperties.length;a++)r=this._styleProperties[a],h[r]=typeof o[r]>"u"?this[r]:o[r];return h},_setStyleDeclaration:function(u,i,o){this.styles[u][i]=o},_deleteStyleDeclaration:function(u,i){delete this.styles[u][i]},_getLineStyle:function(u){return!!this.styles[u]},_setLineStyle:function(u){this.styles[u]={}},_deleteLineStyle:function(u){delete this.styles[u]}})}(),function(){function u(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}s.IText=s.util.createClass(s.Text,s.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,o){this.callSuper("initialize",i,o),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,o){this[i]!==o&&(this._fireSelectionChanged(),this[i]=o),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var o=this.canvas.contextTop,h=this.canvas.viewportTransform;o.save(),o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this.transform(o),this._clearTextArea(o),i||o.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),o=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,o):this.renderSelection(i,o),o.restore()}},_clearTextArea:function(i){var o=this.width+4,h=this.height+4;i.clearRect(-o/2,-h/2,o,h)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var o=this._getLeftOffset(),h=this._getTopOffset(),r=this._getCursorBoundariesOffsets(i);return{left:o,top:h,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var o,h,r,a=0,n=0,l,d=this.get2DCursorLocation(i);r=d.charIndex,h=d.lineIndex;for(var c=0;c<h;c++)a+=this.getHeightOfLine(c);o=this._getLineLeftOffset(h);var g=this.__charBounds[h][r];return g&&(n=g.left),this.charSpacing!==0&&r===this._textLines[h].length&&(n-=this._getWidthOfCharSpacing()),l={top:a,left:o+(n>0?n:0)},this.direction==="rtl"&&(l.left*=-1),this.cursorOffsetCache=l,this.cursorOffsetCache},renderCursor:function(i,o){var h=this.get2DCursorLocation(),r=h.lineIndex,a=h.charIndex>0?h.charIndex-1:0,n=this.getValueOfPropertyAt(r,a,"fontSize"),l=this.scaleX*this.canvas.getZoom(),d=this.cursorWidth/l,c=i.topOffset,g=this.getValueOfPropertyAt(r,a,"deltaY");c+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-n*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,o),o.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,a,"fill"),o.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,o.fillRect(i.left+i.leftOffset-d/2,c+i.top+g,d,n)},renderSelection:function(i,o){for(var h=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,a=this.textAlign.indexOf("justify")!==-1,n=this.get2DCursorLocation(h),l=this.get2DCursorLocation(r),d=n.lineIndex,c=l.lineIndex,g=n.charIndex<0?0:n.charIndex,_=l.charIndex<0?0:l.charIndex,C=d;C<=c;C++){var O=this._getLineLeftOffset(C)||0,k=this.getHeightOfLine(C),F=0,z=0,q=0;if(C===d&&(z=this.__charBounds[d][g].left),C>=d&&C<c)q=a&&!this.isEndOfWrapping(C)?this.width:this.getLineWidth(C)||5;else if(C===c)if(_===0)q=this.__charBounds[c][_].left;else{var Q=this._getWidthOfCharSpacing();q=this.__charBounds[c][_-1].left+this.__charBounds[c][_-1].width-Q}F=k,(this.lineHeight<1||C===c&&this.lineHeight>1)&&(k/=this.lineHeight);var gt=i.left+O+z,G=q-z,B=k,it=0;this.inCompositionMode?(o.fillStyle=this.compositionColor||"black",B=1,it=k):o.fillStyle=this.selectionColor,this.direction==="rtl"&&(gt=this.width-gt-G),o.fillRect(gt,i.top+i.topOffset+it,G,B),i.topOffset+=F}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),o=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:o}}}),s.IText.fromObject=function(i,o){if(u(i),i.styles)for(var h in i.styles)for(var r in i.styles[h])u(i.styles[h][r]);s.Object._fromObject("IText",i,o,"text")}}(),function(){var u=s.util.object.clone;s.util.object.extend(s.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var o=i.canvas;o&&(o._hasITextHandlers||(o._hasITextHandlers=!0,i._initCanvasHandlers(o)),o._iTextInstances=o._iTextInstances||[],o._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var o=i.canvas;o&&(o._iTextInstances=o._iTextInstances||[],s.util.removeFromArray(o._iTextInstances,i),o._iTextInstances.length===0&&(o._hasITextHandlers=!1,i._removeCanvasHandlers(o)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(o){o.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,o,h,r){var a;return a={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",o,{duration:h,onComplete:function(){a.isAborted||i[r]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return a.isAborted}}),a},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var o=this,h=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){o._tick()},h)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,o=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&o&&o.clearContext(o.contextTop||o.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var o=0,h=i-1;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)o++,h--;for(;/\S/.test(this._text[h])&&h>-1;)o++,h--;return i-o},findWordBoundaryRight:function(i){var o=0,h=i;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)o++,h++;for(;/\S/.test(this._text[h])&&h<this._text.length;)o++,h++;return i+o},findLineBoundaryLeft:function(i){for(var o=0,h=i-1;!/\n/.test(this._text[h])&&h>-1;)o++,h--;return i-o},findLineBoundaryRight:function(i){for(var o=0,h=i;!/\n/.test(this._text[h])&&h<this._text.length;)o++,h++;return i+o},searchWordBoundary:function(i,o){for(var h=this._text,r=this._reSpace.test(h[i])?i-1:i,a=h[r],n=s.reNonWord;!n.test(a)&&r>0&&r<h.length;)r+=o,a=h[r];return n.test(a)&&(r+=o===1?0:1),r},selectWord:function(i){i=i||this.selectionStart;var o=this.searchWordBoundary(i,-1),h=this.searchWordBoundary(i,1);this.selectionStart=o,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var o=this.findLineBoundaryLeft(i),h=this.findLineBoundaryRight(i);return this.selectionStart=o,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(o){o.selected=!1,o.isEditing&&o.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){var o=this.getSelectionStartFromPointer(i.e),h=this.selectionStart,r=this.selectionEnd;(o!==this.__selectionStartOnMouseDown||h===r)&&(h===o||r===o)||(o>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=o):(this.selectionStart=o,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==h||this.selectionEnd!==r)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,o,h){var r=h.slice(0,i),a=s.util.string.graphemeSplit(r).length;if(i===o)return{selectionStart:a,selectionEnd:a};var n=h.slice(i,o),l=s.util.string.graphemeSplit(n).length;return{selectionStart:a,selectionEnd:a+l}},fromGraphemeToStringSelection:function(i,o,h){var r=h.slice(0,i),a=r.join("").length;if(i===o)return{selectionStart:a,selectionEnd:a};var n=h.slice(i,o),l=n.join("").length;return{selectionStart:a,selectionEnd:a+l}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,o=this._getCursorBoundaries(i),h=this.get2DCursorLocation(i),r=h.lineIndex,a=h.charIndex,n=this.getValueOfPropertyAt(r,a,"fontSize")*this.lineHeight,l=o.leftOffset,d=this.calcTransformMatrix(),c={x:o.left+l,y:o.top+o.topOffset+n},g=this.canvas.getRetinaScaling(),_=this.canvas.upperCanvasEl,C=_.width/g,O=_.height/g,k=C-n,F=O-n,z=_.clientWidth/C,q=_.clientHeight/O;return c=s.util.transformPoint(c,d),c=s.util.transformPoint(c,this.canvas.viewportTransform),c.x*=z,c.y*=q,c.x<0&&(c.x=0),c.x>k&&(c.x=k),c.y<0&&(c.y=0),c.y>F&&(c.y=F),c.x+=this.canvas._offset.left,c.y+=this.canvas._offset.top,{left:c.x+"px",top:c.y+"px",fontSize:n+"px",charHeight:n}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,o=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,o&&(o.blur&&o.blur(),o.parentNode&&o.parentNode.removeChild(o)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,o){var h=this.get2DCursorLocation(i,!0),r=this.get2DCursorLocation(o,!0),a=h.lineIndex,n=h.charIndex,l=r.lineIndex,d=r.charIndex,c,g;if(a!==l){if(this.styles[a])for(c=n;c<this._unwrappedTextLines[a].length;c++)delete this.styles[a][c];if(this.styles[l])for(c=d;c<this._unwrappedTextLines[l].length;c++)g=this.styles[l][c],g&&(this.styles[a]||(this.styles[a]={}),this.styles[a][n+c-d]=g);for(c=a+1;c<=l;c++)delete this.styles[c];this.shiftLineStyles(l,a-l)}else if(this.styles[a]){g=this.styles[a];var _=d-n,C,O;for(c=n;c<d;c++)delete g[c];for(O in this.styles[a])C=parseInt(O,10),C>=d&&(g[C-_]=g[O],delete g[O])}},shiftLineStyles:function(i,o){var h=u(this.styles);for(var r in this.styles){var a=parseInt(r,10);a>i&&(this.styles[a+o]=h[a],h[a-o]||delete this.styles[a])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,o,h,r){var a,n={},l=!1,d=this._unwrappedTextLines[i].length===o;h||(h=1),this.shiftLineStyles(i,h),this.styles[i]&&(a=this.styles[i][o===0?o:o-1]);for(var c in this.styles[i]){var g=parseInt(c,10);g>=o&&(l=!0,n[g-o]=this.styles[i][c],d&&o===0||delete this.styles[i][c])}var _=!1;for(l&&!d&&(this.styles[i+h]=n,_=!0),_&&h--;h>0;)r&&r[h-1]?this.styles[i+h]={0:u(r[h-1])}:a?this.styles[i+h]={0:u(a)}:delete this.styles[i+h],h--;this._forceClearCache=!0},insertCharStyleObject:function(i,o,h,r){this.styles||(this.styles={});var a=this.styles[i],n=a?u(a):{};h||(h=1);for(var l in n){var d=parseInt(l,10);d>=o&&(a[d+h]=n[d],n[d-h]||delete a[d])}if(this._forceClearCache=!0,r){for(;h--;)Object.keys(r[h]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][o+h]=u(r[h]));return}if(a)for(var c=a[o?o-1:1];c&&h--;)this.styles[i][o+h]=u(c)},insertNewStyleBlock:function(i,o,h){for(var r=this.get2DCursorLocation(o,!0),a=[0],n=0,l=0;l<i.length;l++)i[l]===`
`?(n++,a[n]=0):a[n]++;a[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,a[0],h),h=h&&h.slice(a[0]+1)),n&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+a[0],n);for(var l=1;l<n;l++)a[l]>0?this.insertCharStyleObject(r.lineIndex+l,0,a[l],h):h&&(this.styles[r.lineIndex+l][0]=h[0]),h=h&&h.slice(a[l]+1);a[l]>0&&this.insertCharStyleObject(r.lineIndex+l,0,a[l],h)},setSelectionStartEndWithShift:function(i,o,h){h<=i?(o===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=h):h>i&&h<o?this._selectionDirection==="right"?this.selectionEnd=h:this.selectionStart=h:(o===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=o),this.selectionEnd=h)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),s.util.object.extend(s.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(u){if(this.canvas){this.__newClickTime=+new Date;var i=u.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",u),this._stopEvent(u.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(u){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===u.x&&this.__lastPointer.y===u.y},_stopEvent:function(u){u.preventDefault&&u.preventDefault(),u.stopPropagation&&u.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(u){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(u.e))},tripleClickHandler:function(u){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(u.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(u.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(u){if(this.__isMousedown=!1,!(!this.editable||this.group||u.transform&&u.transform.actionPerformed||u.e.button&&u.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(u.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(u){var i=this.getSelectionStartFromPointer(u),o=this.selectionStart,h=this.selectionEnd;u.shiftKey?this.setSelectionStartEndWithShift(o,h,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(u){for(var i=this.getLocalPointer(u),o=0,h=0,r=0,a=0,n=0,l,d,c=0,g=this._textLines.length;c<g&&r<=i.y;c++)r+=this.getHeightOfLine(c)*this.scaleY,n=c,c>0&&(a+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));l=this._getLineLeftOffset(n),h=l*this.scaleX,d=this._textLines[n],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+h);for(var _=0,C=d.length;_<C&&(o=h,h+=this.__charBounds[n][_].kernedWidth*this.scaleX,h<=i.x);_++)a++;return this._getNewSelectionStartFromOffset(i,o,h,a,C)},_getNewSelectionStartFromOffset:function(u,i,o,h,r){var a=u.x-i,n=o-u.x,l=n>a||n<0?0:1,d=h+l;return this.flipX&&(d=r-d),d>this._text.length&&(d=this._text.length),d}}),s.util.object.extend(s.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=s.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var u=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+u.top+"; left: "+u.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingtop: "+u.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):s.document.body.appendChild(this.hiddenTextarea),s.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),s.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),s.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),s.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),s.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),s.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),s.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),s.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),s.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(s.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(u){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(u.keyCode in i)this[i[u.keyCode]](u);else if(u.keyCode in this.ctrlKeysMapDown&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapDown[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),u.keyCode>=33&&u.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(u){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(u.keyCode in this.ctrlKeysMapUp&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapUp[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(u){var i=this.fromPaste;if(this.fromPaste=!1,u&&u.stopPropagation(),!!this.isEditing){var o=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,h=this._text.length,r=o.length,a,n,l=r-h,d=this.selectionStart,c=this.selectionEnd,g=d!==c,_,C,O;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var k=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),F=d>k.selectionStart;g?(a=this._text.slice(d,c),l+=c-d):r<h&&(F?a=this._text.slice(c+l,c):a=this._text.slice(d,d-l)),n=o.slice(k.selectionEnd-l,k.selectionEnd),a&&a.length&&(n.length&&(_=this.getSelectionStyles(d,d+1,!1),_=n.map(function(){return _[0]})),g?(C=d,O=c):F?(C=c-a.length,O=c):(C=c,O=c+a.length),this.removeStyleFromTo(C,O)),n.length&&(i&&n.join("")===s.copiedText&&!s.disableStyleCopyPaste&&(_=s.copiedTextStyle),this.insertNewStyleBlock(n,d,_)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(u){this.compositionStart=u.target.selectionStart,this.compositionEnd=u.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(s.copiedText=this.getSelectedText(),s.disableStyleCopyPaste?s.copiedTextStyle=null:s.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(u){return u&&u.clipboardData||s.window.clipboardData},_getWidthBeforeCursor:function(u,i){var o=this._getLineLeftOffset(u),h;return i>0&&(h=this.__charBounds[u][i-1],o+=h.left+h.width),o},getDownCursorOffset:function(u,i){var o=this._getSelectionForOffset(u,i),h=this.get2DCursorLocation(o),r=h.lineIndex;if(r===this._textLines.length-1||u.metaKey||u.keyCode===34)return this._text.length-o;var a=h.charIndex,n=this._getWidthBeforeCursor(r,a),l=this._getIndexOnLine(r+1,n),d=this._textLines[r].slice(a);return d.length+l+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(u,i){return u.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(u,i){var o=this._getSelectionForOffset(u,i),h=this.get2DCursorLocation(o),r=h.lineIndex;if(r===0||u.metaKey||u.keyCode===33)return-o;var a=h.charIndex,n=this._getWidthBeforeCursor(r,a),l=this._getIndexOnLine(r-1,n),d=this._textLines[r].slice(0,a),c=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+l-d.length+(1-c)},_getIndexOnLine:function(u,i){for(var o=this._textLines[u],h=this._getLineLeftOffset(u),r=h,a=0,n,l,d=0,c=o.length;d<c;d++)if(n=this.__charBounds[u][d].width,r+=n,r>i){l=!0;var g=r-n,_=r,C=Math.abs(g-i),O=Math.abs(_-i);a=O<C?d:d-1;break}return l||(a=o.length-1),a},moveCursorDown:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",u)},moveCursorUp:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",u)},_moveCursorUpOrDown:function(u,i){var o="get"+u+"CursorOffset",h=this[o](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(h):this.moveCursorWithoutShift(h),h!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(u){var i=this._selectionDirection==="left"?this.selectionStart+u:this.selectionEnd+u;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),u!==0},moveCursorWithoutShift:function(u){return u<0?(this.selectionStart+=u,this.selectionEnd=this.selectionStart):(this.selectionEnd+=u,this.selectionStart=this.selectionEnd),u!==0},moveCursorLeft:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",u)},_move:function(u,i,o){var h;if(u.altKey)h=this["findWordBoundary"+o](this[i]);else if(u.metaKey||u.keyCode===35||u.keyCode===36)h=this["findLineBoundary"+o](this[i]);else return this[i]+=o==="Left"?-1:1,!0;if(typeof h!==void 0&&this[i]!==h)return this[i]=h,!0},_moveLeft:function(u,i){return this._move(u,i,"Left")},_moveRight:function(u,i){return this._move(u,i,"Right")},moveCursorLeftWithoutShift:function(u){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(u,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(u){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(u,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(u,"selectionStart")},moveCursorRight:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",u)},_moveCursorLeftOrRight:function(u,i){var o="moveCursor"+u+"With";this._currentCursorOpacity=1,i.shiftKey?o+="Shift":o+="outShift",this[o](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(u){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(u,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(u,"selectionEnd")},moveCursorRightWithoutShift:function(u){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(u,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(u,i){typeof i>"u"&&(i=u+1),this.removeStyleFromTo(u,i),this._text.splice(u,i-u),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(u,i,o,h){typeof h>"u"&&(h=o),h>o&&this.removeStyleFromTo(o,h);var r=s.util.string.graphemeSplit(u);this.insertNewStyleBlock(r,o,i),this._text=[].concat(this._text.slice(0,o),r,this._text.slice(h)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var u=s.util.toFixed,i=/  +/g;s.util.object.extend(s.Text.prototype,{_toSVG:function(){var o=this._getSVGLeftTopOffsets(),h=this._getSVGTextAndBg(o.textTop,o.textLeft);return this._wrapSVGTextAndBg(h)},toSVG:function(o){return this._createBaseSVGMarkup(this._toSVG(),{reviver:o,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(o){var h=!0,r=this.getSvgTextDecoration(this);return[o.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",r?'text-decoration="'+r+'" ':"",'style="',this.getSvgStyles(h),'"',this.addPaintOrder()," >",o.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(o,h){var r=[],a=[],n=o,l;this._setSVGBg(a);for(var d=0,c=this._textLines.length;d<c;d++)l=this._getLineLeftOffset(d),(this.textBackgroundColor||this.styleHas("textBackgroundColor",d))&&this._setSVGTextLineBg(a,d,h+l,n),this._setSVGTextLineText(r,d,h+l,n),n+=this.getHeightOfLine(d);return{textSpans:r,textBgRects:a}},_createTextCharSpan:function(o,h,r,a){var n=o!==o.trim()||o.match(i),l=this.getSvgSpanStyles(h,n),d=l?'style="'+l+'"':"",c=h.deltaY,g="",_=s.Object.NUM_FRACTION_DIGITS;return c&&(g=' dy="'+u(c,_)+'" '),['<tspan x="',u(r,_),'" y="',u(a,_),'" ',g,d,">",s.util.string.escapeXml(o),"</tspan>"].join("")},_setSVGTextLineText:function(o,h,r,a){var n=this.getHeightOfLine(h),l=this.textAlign.indexOf("justify")!==-1,d,c,g="",_,C,O=0,k=this._textLines[h],F;a+=n*(1-this._fontSizeFraction)/this.lineHeight;for(var z=0,q=k.length-1;z<=q;z++)F=z===q||this.charSpacing,g+=k[z],_=this.__charBounds[h][z],O===0?(r+=_.kernedWidth-_.width,O+=_.width):O+=_.kernedWidth,l&&!F&&this._reSpaceAndTab.test(k[z])&&(F=!0),F||(d=d||this.getCompleteStyleDeclaration(h,z),c=this.getCompleteStyleDeclaration(h,z+1),F=this._hasStyleChangedForSvg(d,c)),F&&(C=this._getStyleDeclaration(h,z)||{},o.push(this._createTextCharSpan(g,C,r,a)),g="",d=c,r+=O,O=0)},_pushTextBgRect:function(o,h,r,a,n,l){var d=s.Object.NUM_FRACTION_DIGITS;o.push("		<rect ",this._getFillAttributes(h),' x="',u(r,d),'" y="',u(a,d),'" width="',u(n,d),'" height="',u(l,d),`"></rect>
`)},_setSVGTextLineBg:function(o,h,r,a){for(var n=this._textLines[h],l=this.getHeightOfLine(h)/this.lineHeight,d=0,c=0,g,_,C=this.getValueOfPropertyAt(h,0,"textBackgroundColor"),O=0,k=n.length;O<k;O++)g=this.__charBounds[h][O],_=this.getValueOfPropertyAt(h,O,"textBackgroundColor"),_!==C?(C&&this._pushTextBgRect(o,C,r+c,a,d,l),c=g.left,d=g.width,C=_):d+=g.kernedWidth;_&&this._pushTextBgRect(o,_,r+c,a,d,l)},_getFillAttributes:function(o){var h=o&&typeof o=="string"?new s.Color(o):"";return!h||!h.getSource()||h.getAlpha()===1?'fill="'+o+'"':'opacity="'+h.getAlpha()+'" fill="'+h.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(o){for(var h=0,r=0,a=0;a<o;a++)h+=this.getHeightOfLine(a);return r=this.getHeightOfLine(a),{lineTop:h,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(o){var h=s.Object.prototype.getSvgStyles.call(this,o);return h+" white-space: pre;"}})}(),function(u){var i=u.fabric||(u.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(o){for(var h=0,r=0,a=0,n={},l=0;l<o.graphemeLines.length;l++)o.graphemeText[a]===`
`&&l>0?(r=0,a++,h++):!this.splitByGrapheme&&this._reSpaceAndTab.test(o.graphemeText[a])&&l>0&&(r++,a++),n[l]={line:h,offset:r},a+=o.graphemeLines[l].length,r+=o.graphemeLines[l].length;return n},styleHas:function(o,h){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[h];r&&(h=r.line)}return i.Text.prototype.styleHas.call(this,o,h)},isEmptyStyles:function(o){if(!this.styles)return!0;var h=0,r=o+1,a,n,l=!1,d=this._styleMap[o],c=this._styleMap[o+1];d&&(o=d.line,h=d.offset),c&&(r=c.line,l=r===o,a=c.offset),n=typeof o>"u"?this.styles:{line:this.styles[o]};for(var g in n)for(var _ in n[g])if(_>=h&&(!l||_<a))for(var C in n[g][_])return!1;return!0},_getStyleDeclaration:function(o,h){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[o];if(!r)return null;o=r.line,h=r.offset+h}return this.callSuper("_getStyleDeclaration",o,h)},_setStyleDeclaration:function(o,h,r){var a=this._styleMap[o];o=a.line,h=a.offset+h,this.styles[o][h]=r},_deleteStyleDeclaration:function(o,h){var r=this._styleMap[o];o=r.line,h=r.offset+h,delete this.styles[o][h]},_getLineStyle:function(o){var h=this._styleMap[o];return!!this.styles[h.line]},_setLineStyle:function(o){var h=this._styleMap[o];this.styles[h.line]={}},_wrapText:function(o,h){var r=[],a;for(this.isWrapping=!0,a=0;a<o.length;a++)r=r.concat(this._wrapLine(o[a],a,h));return this.isWrapping=!1,r},_measureWord:function(o,h,r){var a=0,n,l=!0;r=r||0;for(var d=0,c=o.length;d<c;d++){var g=this._getGraphemeBox(o[d],h,d+r,n,l);a+=g.kernedWidth,n=o[d]}return a},_wrapLine:function(o,h,r,gt){var n=0,l=this.splitByGrapheme,d=[],c=[],g=l?i.util.string.graphemeSplit(o):o.split(this._wordJoiners),_="",C=0,O=l?"":" ",k=0,F=0,z=0,q=!0,Q=this._getWidthOfCharSpacing(),gt=gt||0;g.length===0&&g.push([]),r-=gt;for(var G=0;G<g.length;G++)_=l?g[G]:i.util.string.graphemeSplit(g[G]),k=this._measureWord(_,h,C),C+=_.length,n+=F+k-Q,n>r&&!q?(d.push(c),c=[],n=k,q=!0):n+=Q,!q&&!l&&c.push(O),c=c.concat(_),F=l?0:this._measureWord([O],h,C),C++,q=!1,k>z&&(z=k);return G&&d.push(c),z+gt>this.dynamicMinWidth&&(this.dynamicMinWidth=z-Q+gt),d},isEndOfWrapping:function(o){return!this._styleMap[o+1]||this._styleMap[o+1].line!==this._styleMap[o].line},missingNewlineOffset:function(o){return this.splitByGrapheme?this.isEndOfWrapping(o)?1:0:1},_splitTextIntoLines:function(o){for(var h=i.Text.prototype._splitTextIntoLines.call(this,o),r=this._wrapText(h.lines,this.width),a=new Array(r.length),n=0;n<r.length;n++)a[n]=r[n].join("");return h.lines=a,h.graphemeLines=r,h},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var o={};for(var h in this._styleMap)this._textLines[h]&&(o[this._styleMap[h].line]=1);for(var h in this.styles)o[h]||delete this.styles[h]},toObject:function(o){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(o))}}),i.Textbox.fromObject=function(o,h){return i.Object._fromObject("Textbox",o,h,"text")}}(m),function(){var u=s.controlsUtils,i=u.scaleSkewCursorStyleHandler,o=u.scaleCursorStyleHandler,h=u.scalingEqually,r=u.scalingYOrSkewingX,a=u.scalingXOrSkewingY,n=u.scaleOrSkewActionName,l=s.Object.prototype.controls;if(l.ml=new s.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:a,getActionName:n}),l.mr=new s.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:a,getActionName:n}),l.mb=new s.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:r,getActionName:n}),l.mt=new s.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:r,getActionName:n}),l.tl=new s.Control({x:-.5,y:-.5,cursorStyleHandler:o,actionHandler:h}),l.tr=new s.Control({x:.5,y:-.5,cursorStyleHandler:o,actionHandler:h}),l.bl=new s.Control({x:-.5,y:.5,cursorStyleHandler:o,actionHandler:h}),l.br=new s.Control({x:.5,y:.5,cursorStyleHandler:o,actionHandler:h}),l.mtr=new s.Control({x:0,y:-.5,actionHandler:u.rotationWithSnapping,cursorStyleHandler:u.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),s.Textbox){var d=s.Textbox.prototype.controls={};d.mtr=l.mtr,d.tr=l.tr,d.br=l.br,d.tl=l.tl,d.bl=l.bl,d.mt=l.mt,d.mb=l.mb,d.mr=new s.Control({x:.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),d.ml=new s.Control({x:-.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()}(yd)),yd}var xu=U5();const En=K0((m,s)=>({backgroundImageUrl:null,setBackgroundImageUrl:p=>m({backgroundImageUrl:p}),backgroundImageInfo:{rotation:0,skewX:0,skewY:0,width:0,height:0,left:0,top:0},setBackgroundImageInfo:p=>m({backgroundImageInfo:p}),isBackgroundLocked:!1,toggleIsBackgroundLocked:()=>m({isBackgroundLocked:!s().isBackgroundLocked}),selectCrop:!0,toggleSelectCrop:()=>m({selectCrop:!s().selectCrop}),cropBoxInfo:{width:0,hegiht:0,left:0,top:0},setCropBoxInfo:p=>m({cropBoxInfo:p}),resetMergeCanvasStates:()=>m({backgroundImageUrl:null,backgroundImageInfo:{rotation:0,skewX:0,skewY:0,width:0,height:0,left:0,top:0},isBackgroundLocked:!1})})),q5=(m,s)=>{const p=En(b=>b.backgroundImageUrl),y=En(b=>b.isBackgroundLocked),w=En(b=>b.setBackgroundImageInfo);Ht.useEffect(()=>{const b=m.current;if(!b)return;const S=u=>{const i=u.target;(i==null?void 0:i.get("customType"))==="background"&&w({width:i.width*i.scaleX,height:i.height*i.scaleY,left:i.left,top:i.top,rotation:i.angle||0,skewX:i.skewX||0,skewY:i.skewY||0})};return b.on("object:modified",S),b.on("object:moving",S),b.on("object:scaling",S),b.on("object:rotating",S),()=>{b.off("object:modified",S),b.off("object:moving",S),b.off("object:scaling",S),b.off("object:rotating",S)}},[]),Ht.useEffect(()=>{const b=m.current;if(!b)return;const S=b.getObjects().find(u=>u.customType==="background");if(S&&b.remove(S),!p){w(null),b.renderAll();return}xu.fabric.Image.fromURL(p,u=>{if(!u)return;const i=b.getWidth(),o=b.getHeight(),r=o*2/3/u.height,a=u.width*r,n=u.height*r;u.set({left:i/2-a/2,top:o/2-n/2,width:u.width,height:u.height,scaleX:r,scaleY:r,angle:0,skewX:0,skewY:0,cornerStyle:"circle",selectable:!0,evented:!0,hasControls:!0,customType:"background"}),b.add(u),b.sendToBack(u),w({width:a,height:n,left:i/2,top:o/2,rotation:0,skewX:0,skewY:0}),b.setActiveObject(u),typeof s=="function"&&s()},{crossOrigin:"anonymous"})},[p]),Ht.useEffect(()=>{const b=m.current;if(!b)return;const S=b.getObjects().find(u=>u.customType==="background");S&&(S.set({selectable:!y,evented:!y,hasControls:!y}),y&&b.discardActiveObject(),b.requestRenderAll())},[y])},H5=(m,s)=>{Ht.useEffect(()=>{if(!m.current)return;const p=m.current.parentElement;if(!p)return;const{width:y,height:w}=p.getBoundingClientRect(),b=new xu.fabric.Canvas(m.current,{width:y,height:w,preserveObjectStacking:!0,selection:!1});return s.current=b,()=>{b.dispose(),s.current=null}},[])},Y5=(m,s,p)=>{const y=li(u=>u.images),b=li(u=>u.getCurrentIndex)(),S=y[b]||null;Ht.useEffect(()=>{const u=m.current;if(!u)return;const i=o=>{const h=o.target;if(!h||h.customType!=="overlay"||!(S!=null&&S.id))return;const r=s.current[S.id];r&&(r.left=h.left,r.top=h.top,r.width=h.width*h.scaleX,r.height=h.height*h.scaleY,r.angle=h.angle||0,r.skewX=h.skewX||0,r.skewY=h.skewY||0)};return u.on("object:modified",i),u.on("object:moving",i),u.on("object:scaling",i),u.on("object:rotating",i),()=>{u.off("object:modified",i),u.off("object:moving",i),u.off("object:scaling",i),u.off("object:rotating",i)}},[S==null?void 0:S.id]),Ht.useEffect(()=>{const u=m.current;if(!u||!(S!=null&&S.url))return;u.getObjects().forEach(l=>{l.customType==="overlay"&&u.remove(l)});const i=u.getWidth(),o=u.getHeight(),h=s.current[S.id],r=l=>{const d=o*2/3,c=Math.min(1,d/l.height),g=l.width*c,_=l.height*c,C=i/2-g/2,O=o/2-_/2;l.set({left:C,top:O,width:l.width,height:l.height,scaleX:c,scaleY:c,angle:0,skewX:0,skewY:0,selectable:!0,evented:!0,hasControls:!0,cornerStyle:"circle",customType:"overlay"}),s.current[S.id]={left:C,top:O,width:l.width*c,height:l.height*c,angle:0,skewX:0,skewY:0,img:l},u.add(l),u.setActiveObject(l);const k=u.getObjects().find(F=>F.customType==="background");k&&u.sendToBack(k),typeof p=="function"&&p()},a=l=>{const{left:d,top:c,width:g,height:_,angle:C,skewX:O,skewY:k}=h,F=g/l.width,z=_/l.height;l.set({left:d,top:c,scaleX:F,scaleY:z,angle:C,skewX:O,skewY:k,cornerStyle:"circle",selectable:!0,evented:!0,hasControls:!0,customType:"overlay"}),h.img=l,u.add(l),u.setActiveObject(l);const q=u.getObjects().find(Q=>Q.customType==="background");q&&u.sendToBack(q),typeof p=="function"&&p()};(async()=>{try{h!=null&&h.img?h.img.clone(l=>a(l)):xu.fabric.Image.fromURL(S.url,l=>{l?r(l):console.error("Image load error")})}catch(l){console.error("   :",l)}})()},[S])},X5=(m,s)=>{const p=En(i=>i.selectCrop),y=En(i=>i.cropBoxInfo),w=En(i=>i.setCropBoxInfo),b=Ht.useRef({topLeft:null,top:null,topRight:null,left:null,right:null,bottomLeft:null,bottom:null,bottomRight:null}),S=()=>{const i=m.current,o=s.current;!i||!o||(Object.values(b.current).forEach(h=>{i.bringToFront(h)}),i.bringToFront(o))},u=()=>{const i=m.current,o=s.current,h=b.current;if(!i||!o)return;const{left:r,top:a,width:n,height:l,scaleX:d,scaleY:c,originX:g,originY:_}=o,C=n*d,O=l*c,k=g==="center"?r-C/2:r,F=_==="center"?a-O/2:a,z=k+C,q=F+O,Q=i.getWidth(),gt=i.getHeight();h.topLeft.set({left:0,top:0,width:k,height:F}),h.top.set({left:k,top:0,width:C,height:F}),h.topRight.set({left:z,top:0,width:Q-z,height:F}),h.left.set({left:0,top:F,width:k,height:O}),h.right.set({left:z,top:F,width:Q-z,height:O}),h.bottomLeft.set({left:0,top:q,width:k,height:gt-q}),h.bottom.set({left:k,top:q,width:C,height:gt-q}),h.bottomRight.set({left:z,top:q,width:Q-z,height:gt-q}),S(),w({left:r,top:a,width:C,height:O}),i.requestRenderAll()};return Ht.useEffect(()=>{const i=m.current;if(!i)return;const o=i.getObjects().find(c=>c.customType==="cropBox");if(o){s.current=o,u();return}const h=i.getWidth(),r=i.getHeight(),a=400,n=400,l=new xu.fabric.Rect({left:h/2-a/2,top:r/2-n/2,width:a,height:n,fill:"transparent",stroke:"#10B981",strokeWidth:1,strokeUniform:!0,hasRotatingPoint:!1,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0,cornerStyle:"circle",customType:"cropBox",selectable:p,evented:p,hasControls:p,scaleX:1,scaleY:1});l.setControlsVisibility({mtr:!1});const d=()=>new xu.fabric.Rect({fill:"rgba(0,0,0,0.4)",stroke:"rgba(0,0,0,0.4)",strokeWidth:.1,strokeUniform:!0,selectable:!1,evented:!1,customType:"cropMask"});for(const c in b.current)b.current[c]=d();return i.add(l),i.add(...Object.values(b.current)),s.current=l,i.on("object:modified",u),i.on("object:moving",u),i.on("object:scaling",u),u(),()=>{i.off("object:modified",u),i.off("object:moving",u),i.off("object:scaling",u)}},[]),Ht.useEffect(()=>{const i=m.current,o=s.current;!i||!o||(o.set({selectable:p,evented:p,hasControls:p}),i.requestRenderAll())},[p]),Ht.useEffect(()=>{u()},[y.width,y.height]),{updateMask:u}},G5=({fabricCanvasRef:m,overlayImageRef:s,cropCanvasRef:p})=>{const y=Ht.useRef(null);H5(y,m);const{bringCropBoxToFront:w}=X5(m,p);return q5(m,w),Y5(m,s,w),Rt.jsx("canvas",{ref:y})},V5=()=>{const m=En(w=>w.setBackgroundImageUrl),[s,p]=Ht.useState(""),y=w=>{const b=w.target.files[0];if(!b)return;p(b.name);const S=new FileReader;S.onload=()=>{m(S.result)},S.readAsDataURL(b)};return Rt.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[Rt.jsx("label",{htmlFor:"background-upload",className:"cursor-pointer bg-indigo-600 hover:bg-indigo-700 text-white px-1 pt-1.5 pb-2 rounded select-none",children:" "}),Rt.jsx("input",{id:"background-upload",type:"file",accept:"image/*",onChange:y,className:"hidden"}),s&&Rt.jsx("span",{className:"border-l border-gray-500 pl-4 text-gray-300 truncate max-w-xs",children:s})]})},b1=({isEditMode:m,onToggle:s,leftText:p="",rightText:y=""})=>Rt.jsxs("div",{className:"flex border border-gray-600 rounded overflow-hidden text-sm",children:[Rt.jsx("button",{onClick:()=>!m&&s(),className:`px-3 py-1 transition-all ${m?"bg-emerald-600 text-white shadow-inner":"bg-gray-900 text-gray-300 hover:bg-gray-700"}`,children:p}),Rt.jsx("button",{onClick:()=>m&&s(),className:`px-3 py-1 transition-all ${m?"bg-gray-900 text-gray-300 hover:bg-gray-700":"bg-emerald-600 text-white shadow-inner"}`,children:y})]}),W5=({fabricCanvasRef:m})=>{const s=En(i=>i.backgroundImageInfo),p=En(i=>i.setBackgroundImageInfo),y=En(i=>i.isBackgroundLocked),w=En(i=>i.toggleIsBackgroundLocked),b=[{key:"width",label:" (px)",step:"1"},{key:"height",label:" (px)",step:"1"},{key:"rotation",label:"()",step:"0.1"},{key:"skewX",label:" X",step:"0.1"},{key:"skewY",label:" Y",step:"0.1"}],S=i=>typeof i!="number"?i:Number.isInteger(i)?i.toString():Math.round(i),u=(i,o)=>{const h=parseFloat(o);if(isNaN(h)||(p({...s,[i]:h}),!m.current))return;const r=m.current.getObjects().find(a=>a.customType==="background");if(r){if(i==="rotation")r.set("angle",h);else if(i==="skewX")r.set("skewX",h);else if(i==="skewY")r.set("skewY",h);else if(i==="width"){const a=h/r.width;r.set("scaleX",a),p({...s,width:h})}else if(i==="height"){const a=h/r.height;r.set("scaleY",a),p({...s,height:h})}m.current.renderAll()}};return Rt.jsxs("div",{className:"flex gap-4 items-center",children:[Rt.jsx("p",{className:"pr-3 border-r px-1 border-gray-500",children:" "}),b.map(({key:i,label:o,step:h})=>Rt.jsxs("div",{className:"flex gap-2 items-center",children:[Rt.jsxs("label",{children:[o," : "]}),Rt.jsx("input",{type:"number",value:S(s==null?void 0:s[i])||0,step:h,onChange:r=>u(i,r.target.value),className:"bg-gray-800 border border-gray-600 px-2 py-1 w-20 rounded appearance-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]},i)),Rt.jsx(b1,{isEditMode:!y,onToggle:w})]})},Z5=({cropCanvasRef:m})=>{const s=En(i=>i.cropBoxInfo),p=En(i=>i.setCropBoxInfo),y=En(i=>i.selectCrop),w=En(i=>i.toggleSelectCrop),b=[{key:"width",label:" (px)",step:"1"},{key:"height",label:" (px)",step:"1"}],S=i=>typeof i!="number"?i:Number.isInteger(i)?i.toString():i.toFixed(0),u=(i,o)=>{if(!y)return alert("  .");const h=parseFloat(o);if(isNaN(h)||(p({...s,[i]:h}),!m.current))return;const r=m.current;if(r){if(i==="width"){const a=h/r.width;r.set("scaleX",a),p({...s,width:h})}else if(i==="height"){const a=h/r.height;r.set("scaleY",a),p({...s,height:h})}}};return Rt.jsxs("div",{className:"flex gap-4 items-center",children:[Rt.jsx("p",{className:"pr-3 border-r px-1 border-gray-500",children:" "}),b.map(({key:i,label:o,step:h})=>Rt.jsxs("div",{className:"flex gap-2 items-center",children:[Rt.jsxs("label",{children:[o," : "]}),Rt.jsx("input",{type:"number",value:S(s==null?void 0:s[i])||0,step:h,onChange:r=>u(i,r.target.value),className:"bg-gray-800 border border-gray-600 px-2 py-1 w-20 rounded appearance-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]},i)),Rt.jsx(b1,{isEditMode:y,onToggle:w})]})},K5=({fabricCanvasRef:m,cropCanvasRef:s})=>Rt.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 text-sm text-white",children:[Rt.jsx(V5,{}),Rt.jsx(W5,{fabricCanvasRef:m}),Rt.jsx(Z5,{cropCanvasRef:s})]}),Q5=()=>{const m=li(h=>h.images),s=li(h=>h.setImages),p=li(h=>h.currentImageId),y=li(h=>h.setCurrentImageId),w=Ht.useRef(null),b=Ht.useRef({}),S=Ht.useRef(null),u=async h=>{const a=w.current.getObjects().find(G=>G.customType==="background"),n=b.current[h];if(!a)return alert("  ."),console.error(" .");if(!(n!=null&&n.img))return alert("  .");const{cropBoxInfo:l}=En.getState(),{left:d,top:c,width:g,height:_}=l,C=document.createElement("canvas");C.width=g,C.height=_;const O=new xu.fabric.Canvas(C,{width:g,height:_}),k=await new Promise(G=>a.clone(G)),F=a.left-d,z=a.top-c;k.set({left:F,top:z}),O.add(k);const q=n.left-d,Q=n.top-c,gt=await new Promise(G=>n.img.clone(G));return gt.set({left:q,top:Q}),O.add(gt),O.renderAll(),O.lowerCanvasEl},i=h=>{var n;const r=m.filter(l=>l.id!==h);s(r),delete b.current[h];const a=w.current;a&&(a.getObjects().forEach(l=>{l.customType==="overlay"&&h===p&&a.remove(l)}),a.discardActiveObject(),a.requestRenderAll()),h===p&&y(((n=r[0])==null?void 0:n.id)||null)},o=()=>{s([]),b.current={};const h=w.current;h&&(h.getObjects().forEach(r=>{r.customType==="overlay"&&h.remove(r)}),h.discardActiveObject(),h.requestRenderAll())};return Ht.useEffect(()=>()=>{li.getState().resetCommonStates(),En.getState().resetMergeCanvasStates()},[]),Rt.jsxs("div",{className:"flex h-screen bg-[#111] text-white overflow-hidden",children:[Rt.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[Rt.jsx("header",{className:"w-full border-b border-gray-800",children:Rt.jsx(K5,{fabricCanvasRef:w,cropCanvasRef:S})}),Rt.jsx("main",{className:"flex-1 shrink-0",children:Rt.jsx(G5,{fabricCanvasRef:w,overlayImageRef:b,cropCanvasRef:S})}),Rt.jsx("footer",{className:"w-full border-t border-gray-800 py-4",children:Rt.jsx("div",{className:"max-w-screen-lg mx-auto px-4",children:Rt.jsx(Q0,{})})})]}),Rt.jsx(Vd,{onImagesSelected:h=>{var r;s(h),y(((r=h[0])==null?void 0:r.id)||null)},onClearAllImages:o,allowMultiple:!0,getCanvas:u,onDeleteImageId:i})]})};Mm.createRoot(document.getElementById("root")).render(Rt.jsx(W2,{basename:"img-ttukttakki",children:Rt.jsxs(C2,{children:[Rt.jsx(wc,{path:"/",element:Rt.jsx(ov,{})}),Rt.jsx(wc,{path:"/crop",element:Rt.jsx(E5,{})}),Rt.jsx(wc,{path:"/split",element:Rt.jsx(F5,{})}),Rt.jsx(wc,{path:"/merge",element:Rt.jsx(Q5,{})})]})}));export{ui as _,Ro as c,Rd as g};
